{"version":3,"sources":["images/deleted.jpg","serviceWorker.js","components/dumb/Aside.jsx","components/dumb/AddEmoji.jsx","components/dumb/UploadPhoto.jsx","reducers/appReducer.js","reducers/galleryReducer.js","reducers/messageReducer.js","reducers/popUpReducer.js","reducers/forumReducer.js","reducers/roomReducer.js","reducers/userReducer.js","store.js","actions/appActions.js","actions/userActions.js","actions/roomActions.js","actions/messageActions.js","socket.js","components/dumb/SendMessage.jsx","components/smart/WriteMessage.jsx","actions/popUpActions.js","components/smart/ChatToolbar.jsx","actions/galleryActions.js","components/smart/ChatMessage.jsx","components/smart/UsersList.jsx","components/smart/SavedList.jsx","components/smart/MessagesWrapper.jsx","components/smart/ChatWindow.jsx","components/dumb/Gallery.jsx","components/dumb/Chat.jsx","components/dumb/RatingSnippet.jsx","components/dumb/Footer.jsx","components/dumb/Header.jsx","components/dumb/Home.jsx","components/dumb/Nav.jsx","components/smart/ContactUs.jsx","components/smart/CreateNick.jsx","components/dumb/LikeInterlocutor.jsx","components/smart/Rating.jsx","components/smart/Login.jsx","components/smart/PopUp.jsx","components/dumb/PrivacyPolicy.jsx","components/smart/CreatePost.jsx","components/dumb/Loader.jsx","components/smart/Posts.jsx","components/smart/NewPosts.jsx","actions/forumActions.js","components/smart/Post.jsx","components/smart/Forum.jsx","components/App.jsx","index.js"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","Aside","react_default","a","createElement","AddEmoji","props","className","onClick","showEmojiPicker","UploadPhoto","inputId","type","htmlFor","title","name","id","accept","onChange","imageSelect","initialState","chatPosition","isConnected","isMobile","isNavActive","isNeedRedirect","isInChat","isNotificationsEnabled","onlineCount","theme","appReducer","arguments","length","undefined","action","Object","objectSpread","payload","innerWidth","isActive","activeType","private","images","index","activeIndex","public","galleryReducer","push","url","updatedGallery","text","imageUrl","imagePublicId","IsUploadedImage","quotedMessage","quotedImage","publicColor","newMessagesQty","fakeMessageData","messageReducer","isUploadedImage","isUploaded","message","image","isPopUpShow","popUpReducer","postsData","forumReducer","roomName","isFull","interlocutorId","gender","nick","userId","prevUserId","isNewInPublic","isLoggedIn","mutedList","likedList","allUsersList","likesQty","commentsQty","login","likedPosts","isBlocked","isModerator","senderId","senderNick","interlocutorNick","userReducer","isNoAdmin","likesCount","middleware","thunk","createStore","combineReducers","app","user","room","popup","gallery","forum","applyMiddleware","apply","toConsumableArray","appActions","toggleMenu","setConnectionStatus","setRedirectionStatus","setIsInChat","setTheme","localStorage","getItem","setItem","changeNotifications","setDeviceType","setChatPosition","changeOnlineCount","count","userActions","setGender","setUserId","changeMutedList","list","setAsLoggedIn","data","_id","userData","setTimeout","socket","updateUsersList","password","logOut","removeItem","likeDislikePost","setLikesCount","qty","changeLikedList","JSON","stringify","setAsModerator","setAsNoAdmin","setBanStatus","setAllUsersList","setInterlocutorNick","setPrivateRequestData","setIsNew","setNick","roomActions","joinRoom","setInterlocutorId","setIsFull","leaveRoom","messageActions","setMessageText","sendFakeMessage","setNewMessagesQty","setQuote","quoteData","setImageUrl","setImagePublicId","resetMessageData","setIsUploadedImage","setPublicColor","color","i","Math","floor","random","io","chat","connect","subscribeJoinRoom","off","on","store","dispatch","subscribeUsersCount","leaveChat","emit","getState","destroy","reJoinRoom","joinChat","searchNew","isVIP","sendMessage","messageId","round","messageData","key","socketId","document","getElementById","innerHTML","WriteMessage","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","checkKeyType","e","publicMessageData","privateMessageData","preventDefault","typingHandler","target","isTyping","setState","toString","alert","getInputRef","node","inputRef","formatClipboardData","html","clipboardData","getData","imgRegExp","RegExp","imgSrc","setPreviewImgUrl","replace","execCommand","prevProps","refactoredMessage","roomIsFull","isEditable","ref","contentEditable","suppressContentEditableWarning","onInput","onPaste","onKeyPress","Component","popUpActions","showPopUp","hidePopUp","emojiTranslates","search","notfound","skintext","categories","recent","people","nature","foods","activity","places","objects","symbols","flags","custom","ChatToolbar","checkNick","addEventListener","hideEmojiPicker","isShowEmojiPicker","pickerRef","contains","removeEventListener","getPickerRef","addEmoji","emoji","addedEmoji","dangerouslySetInnerHTML","__html","Emoji","set","skin","parse","size","publicMessage","privateMessage","ReactDOMServer","renderToStaticMarkup","removeQuote","_this2","imagePreviewUrl","publicImageUrl","privateImageUrl","publicIsUploadedImg","privateIsUploadedImg","publicQuotedImage","privateQuotedImage","publicQuotedMessage","privateQuotedMessage","toolbarClassName","hasQuote","dist_es","i18n","showPreview","emojiTooltip","onSelect","style","position","top","width","left","display","Fragment","removeImagePreview","src","alt","dumb_UploadPhoto","dumb_AddEmoji","smart_WriteMessage","dumb_SendMessage","quote","galleryActions","addImageToGallery","setGalleryVisibility","setActiveGalleryType","setActiveIndex","removeImageFromGallery","ChatMessage","deleteMessage","removeFromGallery","map","value","imageIndex","deleted","quoteMessage","collapseActions","isShowActions","toggleActions","detectURL","messageText","b","c","likeMessage","isLiked","showGallery","parseInt","dataset","isSameGender","deletedImageUrl","date","Date","hours","getHours","minutes","getMinutes","nickName","label","activeClass","isYourMessage","genderClass","userGender","containerClassName","likeActionClassName","background","data-index","UsersList","blockClient","likeUser","newList","muteUser","prevList","indexOf","filter","existId","concat","createList","clientsData","hasOwnProperty","isMuted","likeButtonClassName","backgroundColor","children","changeNick","classList","toggle","proposePrivateChat","clientsList","receiverNick","receiverId","isToggled","prevState","snapshot","keys","SavedList","removeUser","_loop","isOnline","statusColor","MessagesWrapper","resizeHandler","scrollToLastMessage","likesHandler","messageWrapper","querySelector","appendChild","createRange","createContextualFragment","prevLikesCount","textContent","remove","force","chatTextRef","ceil","scrollTop","clientHeight","scrollHeight","scr","setInterval","scrollTo","clearInterval","refreshChat","isPrivate","messages","sendBotMessage","toggleList","open","chatTextWrapperRef","notify2","play","smart_ChatMessage","getScrollHeight","getRef","getChatTextWrapperRef","saveUser","notify","Audio","getMessageEvent","isAlien","botMessage","_this3","_this4","saveUserClassName","onScroll","smart_UsersList","smart_SavedList","PureComponent","CLOUDINARY_UPLOAD_PRESET","CLOUDINARY_UPLOAD_URL","ChatWindow","onImageDrop","files","uploadedFile","handleImageUpload","file","request","post","field","end","err","response","body","secure_url","public_id","deleteImage","publicImageId","privateImageId","chatClassName","react_dropzone_dist_es","multiple","activeClassName","disableClick","onDrop","bind","smart_MessagesWrapper","ssr","smart_ChatToolbar","hideGallery","activeImageIndex","Chat","onBeforeUnload","handleTouchStart","prevPosition","touchStartPosition","nativeEvent","touches","clientX","swipeDistance","handleSwipe","minSwipeLength","handleTouchStop","clearNewMessagesQty","touchPosition","clearAllUsersList","onTouchMove","onTouchStart","onTouchEnd","transition","smart_ChatWindow","isGalleryActive","dumb_Gallery","Helmet","meta","content","Redirect","to","RatingSnippet","_useState","useState","rating","_useState2","slicedToArray","setRating","useEffect","starsClassAdditional","average","parseFloat","toFixed","ratingStarsClassName","itemScope","itemType","itemProp","ratesQty","Footer","_ref","dumb_RatingSnippet","data-href","data-layout","data-action","data-size","data-show-faces","data-share","changeChatPosition","logIn","burgerClassName","chatSwitchClassName","unreadMessagesCount","themeSwitchClassName","loginClassName","notificationsSwitchClassName","NavLink","exact","href","rel","aria-label","ContactUs","isEmptyText","mailSendSuccess","mailSendError","emailWasSend","scrollBottom","pageRef","getTextareaRef","textArea","sendMail","getPageRef","placeholder","autoFocus","CreateNick","changeSavingStatus","saveNick","acceptAction","modKey","isValid","checkKey","isInUse","showLoginForm","additionalClassName","setIsValid","Rating","disabled","tempRating","rate","starOver","starOut","sendRate","stars","onMouseOver","onMouseOut","Login","nickError","isInvalidNick","checkPassword","passError","checkPasswordIsSame","repeatedPass","repeatPassError","isNew","changeIsSave","isSave","nickExist","invalid","isValidForm","PopUp","acceptPrivateRequest","reject","rejectPrivateRequest","isModal","customContent","smart_CreateNick","smart_Rating","dumb_LikeInterlocutor","smart_Login","interlocutor","PrivacyPolicy","CreatePost","removePreview","imgPubId","uploadImage","textarea","input","addPost","dd","getDate","mm","getMonth","fullDate","getFullYear","postData","author","authorId","isAllowComments","viewsQty","comments","checkTitleLength","soLong","validationError","manageComments","isAdded","cloudinary_react_lib","cloudName","publicId","height","fetchFormat","crop","withRouter","Loader","LazyPostPreview","lazy","__webpack_require__","Posts","scrollList","listWrapper","hasMore","loadPosts","posts","postIds","reverse","lastId","counter","forEach","postId","lastPostId","react","fallback","dumb_Loader","lastPostIndex","listRef","NewPosts","managePost","publish","newPosts","newPost","data-post-id","forumActions","setAllPostsData","Post","setTextareaFocus","focus","likePost","isLike","params","post_id","prevLikedList","newLikedPostsList","addComment","comment","setCommentText","postsIds","commentsData","likeBtnClassName","prevPostId","nextPostId","hasPrevPost","hasNextPost","Forum","newPostsData","Switch","Route","path","render","smart_Posts","component","App","showRating","detectDeviceType","mobileBreakpoint","credentials","switchToPrivate","wrapperClassName","dumb_Header","dumb_Aside","dumb_Nav","dumb_Chat","smart_Forum","dumb_Home","dumb_Footer","smart_PopUp","isBlockForce","ReactDOM","hydrate","BrowserRouter","react_redux_es","components_App","URL","process","origin","fetch","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.4c04c167.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\n\n/**\n * Aside component\n *\n * @returns {*}\n * @constructor\n */\nconst Aside = () => {\n    return (\n        <aside></aside>\n    )\n};\n\nexport default Aside\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\n\n/**\n * AddEmoji component\n *\n * @param props\n\n * @returns {*}\n * @constructor\n */\nconst AddEmoji = (props) => {\n    return (\n        <span className=\"action add-emoji\" onClick={props.showEmojiPicker}/>\n    )\n};\n\nexport default AddEmoji\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\n\n/**\n * UploadPhoto component\n *\n * @param props\n\n * @returns {*}\n * @constructor\n */\nconst UploadPhoto = (props) => {\n    let inputId = 'upload_' + props.type + '_photo';\n\n    return (\n        <label className='action upload-photo' htmlFor={inputId} title='завантажити зображення'>\n            <input type='file'\n                   className='upload-photo'\n                   name={inputId}\n                   id={inputId}\n                   accept='image/*'\n                   onChange={props.imageSelect}\n            />\n        </label>\n    )\n};\n\nexport default UploadPhoto\n","/**\n * @author Yuriy Matviyuk\n */\nconst initialState = {\n    chatPosition           : 0, // 0 means active chat is private\n    isConnected            : true,\n    isMobile               : true,\n    isNavActive            : false,\n    isNeedRedirect         : true,\n    isInChat               : false,\n    isNotificationsEnabled : true,\n    onlineCount            : null,\n    theme                  : 'light'\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'TOGGLE_MENU':\n            state = {\n                ...state,\n                isNavActive: !state.isNavActive\n            };\n            break;\n        case 'SET_CHAT_POSITION':\n            state = {\n                ...state,\n                chatPosition: action.payload === null\n                    ? state.chatPosition === 0\n                        ? -window.innerWidth\n                        : 0\n                    : action.payload\n            };\n            break;\n        case 'SET_IS_IN_CHAT':\n            state = {\n                ...state,\n                isInChat: action.payload\n            };\n            break;\n        case 'SET_CONNECTION_STATUS':\n            state = {\n                ...state,\n                isConnected: action.payload\n            };\n            break;\n        case 'SET_REDIRECTION_STATUS':\n            state = {\n                ...state,\n                isNeedRedirect: action.payload\n            };\n            break;\n        case 'SET_THEME':\n            state = {\n                ...state,\n                theme: action.payload\n            };\n            break;\n        case 'SET_DEVICE_TYPE':\n            state = {\n                ...state,\n                isMobile: action.payload\n            };\n            break;\n        case 'CHANGE_NOTIFICATIONS':\n            state = {\n                ...state,\n                isNotificationsEnabled: !state.isNotificationsEnabled\n            };\n            break;\n        case 'CHANGE_ONLINE_COUNT':\n            state = {\n                ...state,\n                onlineCount: action.payload\n            };\n            break;\n        default:\n            state = {\n                ...state\n            };\n    }\n\n    return state;\n};\n\nexport default appReducer\n","/**\n * @author Yuriy Matviyuk\n */\nconst initialState = {\n    isActive: false,\n    activeType: null,\n    private : {\n        images : [],\n        index  : 0,\n        activeIndex: null\n    },\n    public : {\n        images : [],\n        index  : 0,\n        activeIndex: null\n    }\n};\n\nconst galleryReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'SET_GALLERY_VISIBILITY' :\n            state = {\n                ...state,\n                isActive: action.payload\n            };\n            break;\n        case 'SET_ACTIVE_GALLERY_TYPE' :\n            state = {\n                ...state,\n                activeType: action.payload\n            };\n            break;\n        case 'ADD_TO_GALLERY':\n            const type = action.payload.type;\n\n            state = {\n                ...state,\n            };\n\n            state[type].images.push(action.payload.url);\n            state[type].index++;\n            break;\n        case 'REMOVE_FROM_GALLERY':\n            state = {\n                ...state\n            };\n\n            state[action.payload.type].images = action.payload.updatedGallery;\n            break;\n        case 'SET_ACTIVE_INDEX':\n            state = {\n                ...state\n            };\n\n            state[action.payload.type].activeIndex = action.payload.activeIndex;\n            break;\n        default:\n            state = {\n                ...state\n            };\n    }\n\n    return state;\n};\n\nexport default galleryReducer\n","/**\n * @author Yuriy Matviyuk\n */\nconst initialState = {\n    private: {\n        text            : '',\n        imageUrl        : null,\n        imagePublicId   : null,\n        IsUploadedImage : false,\n        quotedMessage   : null,\n        quotedImage     : null\n    },\n    public: {\n        text            : '',\n        imageUrl        : null,\n        imagePublicId   : null,\n        IsUploadedImage : false,\n        quotedMessage   : null,\n        quotedImage     : null\n    },\n    publicColor : null,\n    newMessagesQty: 0,\n    fakeMessageData: {}\n};\n\nconst messageReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'SET_MESSAGE_TEXT':\n            state = {\n                ...state\n            };\n\n            state[action.payload.type] = {\n                ...state[action.payload.type],\n                text: action.payload.text\n            };\n            break;\n        case 'SET_IS_UPLOADED_IMAGE':\n            state = {\n                ...state\n            };\n\n            state[action.payload.type] = {\n                ...state[action.payload.type],\n                isUploadedImage: action.payload.isUploaded\n            };\n            break;\n        case 'SET_PUBLIC_COLOR':\n            state = {\n                ...state,\n                publicColor: action.payload\n            };\n            break;\n        case 'SET_NEW_MESSAGES_QTY':\n            state = {\n                ...state,\n                newMessagesQty: action.payload\n            };\n            break;\n        case 'SET_FAKE_MESSAGE_DATA':\n            state = {\n                ...state,\n                fakeMessageData: action.payload\n            };\n            break;\n        case 'RESET_MESSAGE_DATA':\n            const type = action.payload;\n\n            state = {\n                ...state\n            };\n\n            state[type] = initialState[type];\n            break;\n        case 'SET_IMAGE_URL':\n            state = {\n                ...state\n            };\n\n            state[action.payload.type] = {\n                ...state[action.payload.type],\n                imageUrl: action.payload.imageUrl\n            };\n            break;\n        case 'SET_QUOTE':\n            state = {\n                ...state\n            };\n\n            state[action.payload.type] = {\n                ...state[action.payload.type],\n                quotedMessage: action.payload.message,\n                quotedImage: action.payload.image,\n            };\n            break;\n        case 'SET_IMAGE_PUBLIC_ID':\n            state = {\n                ...state\n            };\n\n            state[action.payload.type] = {\n                ...state[action.payload.type],\n                imagePublicId: action.payload.id\n            };\n            break;\n        default:\n            state = {\n                ...state\n            };\n    }\n\n    return state;\n};\n\nexport default messageReducer\n","/**\n * @author Yuriy Matviyuk\n */\nconst initialState = {\n    isPopUpShow : false,\n    type        : null\n};\n\nconst popUpReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'SHOW_POPUP' :\n            state = {\n                ...state,\n                type        : action.payload,\n                isPopUpShow : true\n            };\n            break;\n        case 'HIDE_POPUP' :\n            state = {\n                ...state,\n                isPopUpShow : false\n            };\n            break;\n        default:\n            state = {\n                ...state\n            };\n    }\n\n    return state;\n};\n\nexport default popUpReducer\n","/**\n * @author Yuriy Matviyuk\n */\nconst initialState = {\n    postsData: null\n};\n\nconst forumReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'SET_POSTS':\n            state = {\n                ...state,\n                postsData: action.payload\n            };\n            break;\n        default:\n            state = {\n                ...state\n            };\n    }\n\n    return state;\n};\n\nexport default forumReducer\n","/**\n * @author Yuriy Matviyuk\n */\nconst initialState = {\n    roomName       : null,\n    isFull         : false,\n    interlocutorId : null\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'JOIN_ROOM':\n            state = {\n                ...state,\n                roomName: action.payload\n            };\n            break;\n        case 'SET_INTERLOCUTOR_ID':\n            state = {\n                ...state,\n                interlocutorId: action.payload\n            };\n            break;\n        case 'LEAVE_ROOM':\n            state = {\n                ...state,\n                roomName : null,\n                isFull   : false\n            };\n            break;\n        case 'SET_IS_FULL':\n            state = {\n                ...state,\n                isFull: action.payload\n            };\n            break;\n        default:\n            state = {\n                ...state\n            };\n    }\n\n    return state;\n};\n\nexport default appReducer\n","/**\n * @author Yuriy Matviyuk\n */\nconst initialState = {\n    gender           : null,\n    nick             : null,\n    userId           : null,\n    prevUserId       : null,\n    isNewInPublic    : true,\n    isLoggedIn       : false,\n    mutedList        : [],\n    likedList        : {},\n    allUsersList     : {},\n    likesQty         : null,\n    commentsQty      : null,\n    login            : null,\n    likedPosts       : {},\n    isBlocked        : false,\n    isModerator      : false,\n    senderId         : null,\n    senderNick       : null,\n    interlocutorNick : null\n};\n\nconst userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'SET_GENDER':\n            state = {\n                ...state,\n                gender: action.payload\n            };\n            break;\n        case 'SET_ALL_USERS_LIST':\n            state = {\n                ...state,\n                allUsersList: action.payload\n            };\n            break;\n        case 'LIKE_DISLIKE_POST':\n            state = {\n                ...state,\n                likedPosts: action.payload\n            };\n            break;\n        case 'SET_AS_LOGGED_IN':\n            state = {\n                ...state,\n                isLoggedIn: true,\n                prevUserId: state.userId,\n                ...action.payload\n            };\n            break;\n        case 'LOGOUT':\n            state = {\n                ...state,\n                isLoggedIn: false,\n                ...action.payload\n            };\n            break;\n        case 'SET_BAN_STATUS':\n            state = {\n                ...state,\n                isBlocked: action.payload\n            };\n            break;\n        case 'SET_AS_NOADMIN':\n            state = {\n                ...state,\n                isNoAdmin: true\n            };\n            break;\n        case 'SET_USER_ID':\n            state = {\n                ...state,\n                userId: action.payload\n            };\n            break;\n        case 'SET_NICK':\n            state = {\n                ...state,\n                nick: action.payload\n            };\n            break;\n        case 'SET_LIKES_COUNT':\n            state = {\n                ...state,\n                likesCount: action.payload\n            };\n            break;\n        case 'CHANGE_MUTED_LIST':\n            state = {\n                ...state,\n                mutedList: action.payload\n            };\n            break;\n        case 'CHANGE_LIKED_LIST':\n            state = {\n                ...state,\n                likedList: action.payload\n            };\n            break;\n        case 'SET_AS_MODERATOR':\n            state = {\n                ...state,\n                isModerator: true\n            };\n            break;\n        case 'SET_IS_NEW':\n            state = {\n                ...state,\n                isNewInPublic: !state.isNewInPublic\n            };\n            break;\n        case 'SET_PRIVATE_REQUEST_DATA':\n            state = {\n                ...state,\n                ...action.payload\n            };\n            break;\n        case 'SET_INTERLOCUTOR_NICK':\n            state = {\n                ...state,\n                interlocutorNick: action.payload\n            };\n            break;\n        default:\n            state = {\n                ...state\n            };\n    }\n\n    return state;\n};\n\nexport default userReducer\n","/**\n * @author Yuriy Matviyuk\n */\nimport app from './reducers/appReducer'\nimport gallery from './reducers/galleryReducer'\nimport logger from 'redux-logger'\nimport message from './reducers/messageReducer'\nimport popup from './reducers/popUpReducer'\nimport forum from './reducers/forumReducer'\nimport room from './reducers/roomReducer'\nimport thunk from 'redux-thunk'\nimport user from './reducers/userReducer'\nimport {createStore, combineReducers, applyMiddleware} from 'redux'\n\nlet middleware = [thunk];\n\nif (process.env.NODE_ENV === 'development') {\n    middleware = [...middleware, logger]\n}\n\nexport default createStore(\n    combineReducers({\n        app, user, room, message, popup, gallery, forum\n    }),\n    {},\n    applyMiddleware(...middleware)\n);\n","/**\n * @author Yuriy Matviyuk\n */\nconst appActions = {\n    /**\n     * Toggle menu\n     *\n     * @returns {{type: string}}\n     */\n    toggleMenu: () => {\n        return {\n            type: 'TOGGLE_MENU'\n        }\n    },\n\n    /**\n     * Set connection status\n     *\n     * @param isConnected\n     * @returns {{payload: *, type: string}}\n     */\n    setConnectionStatus: (isConnected) => {\n        return {\n            type    : 'SET_CONNECTION_STATUS',\n            payload : isConnected\n        }\n    },\n\n    /**\n     * Set redirection to chat status\n     *\n     * @param isNeedRedirect\n     * @returns {{payload: *, type: string}}\n     */\n    setRedirectionStatus: (isNeedRedirect) => {\n        return {\n            type    : 'SET_REDIRECTION_STATUS',\n            payload : isNeedRedirect\n        }\n    },\n\n    /**\n     * Set is in chat\n     *\n     * @param isInChat\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setIsInChat: (isInChat) => {\n        return {\n            type    : 'SET_IS_IN_CHAT',\n            payload : isInChat\n        }\n    },\n\n    /**\n     * Set chat theme\n     *\n     * @param theme = null\n     *\n     * @returns {{type: string}}\n     */\n    setTheme: (theme = null) => {\n        if (!theme) {\n            theme = localStorage.getItem('theme') === 'dark' ? 'light' : 'dark'\n        }\n\n        localStorage.setItem('theme', theme);\n\n        return {\n            type    : 'SET_THEME',\n            payload : theme\n        }\n    },\n\n    /**\n     * On/off notifications\n     *\n     * @returns {{type: string}}\n     */\n    changeNotifications: () => {\n        return {\n            type: 'CHANGE_NOTIFICATIONS'\n        }\n    },\n\n    /**\n     * Set device type\n     *\n     * @param isMobile\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setDeviceType: (isMobile) => {\n        return {\n            type    : 'SET_DEVICE_TYPE',\n            payload : isMobile\n        }\n    },\n\n    /**\n     * Set chat position\n     *\n     * @param position\n     *\n     * @returns {{payload: string, type: string}}\n     */\n    setChatPosition: (position = null) => {\n        return {\n            type    : 'SET_CHAT_POSITION',\n            payload : position\n        }\n    },\n\n    /**\n     * Change online users count\n     *\n     * @param count\n     * @returns {{payload: *, type: string}}\n     */\n    changeOnlineCount: (count) => {\n        return {\n            type    : 'CHANGE_ONLINE_COUNT',\n            payload : count\n        }\n    }\n};\n\nexport default appActions;\n","import socket from \"../socket\";\n\n/**\n * @author Yuriy Matviyuk\n */\nconst userActions = {\n    /**\n     * Set user gender\n     *\n     * @param gender\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setGender: (gender) => {\n        localStorage.setItem('gender', gender);\n        \n        return {\n            type    : 'SET_GENDER',\n            payload : gender\n        }\n    },\n\n    /**\n     * Set unique user id\n     *\n     * @param id\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setUserId: (id) => {\n        return {\n            type    : 'SET_USER_ID',\n            payload : id\n        }\n    },\n\n    /**\n     * Mute/unmute list\n     *\n     * @param list\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    changeMutedList: (list) => {\n        return {\n            type    : 'CHANGE_MUTED_LIST',\n            payload : list\n        }\n    },\n\n    /**\n     * Set user as logged in\n     *\n     * @param data\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setAsLoggedIn(data) {\n        let userId = data._id,\n            nick = data.nick,\n            login = data.nick,\n            userData = {...data, userId, nick, login};\n\n        setTimeout(socket.updateUsersList, 1000);\n\n        delete userData.password;\n        delete userData._id;\n\n        localStorage.setItem('nick', nick);\n        localStorage.setItem('unique_id', userId);\n\n        return {\n            type: 'SET_AS_LOGGED_IN',\n            payload: userData\n        }\n    },\n\n    /**\n     * Logout\n     *\n     * @returns {{type: string}}\n     */\n    logOut: () => {\n        let userData = {\n                nick: null,\n                login: null\n            };\n\n        localStorage.removeItem('credentials');\n        localStorage.removeItem('nick');\n\n        setTimeout(socket.updateUsersList, 1000);\n\n        return {\n            type: \"LOGOUT\",\n            payload: userData\n        }\n    },\n\n    /**\n     * Change liked posts list\n     *\n     * @param list\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    likeDislikePost: (list) => {\n        return {\n            type    : \"LIKE_DISLIKE_POST\",\n            payload : list\n        }\n    },\n\n    /**\n     * Set likes count\n     *\n     * @param qty\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setLikesCount: (qty) => {\n        return {\n            type    : 'SET_LIKES_COUNT',\n            payload : qty\n        }\n    },\n\n    /**\n     * Like/dislike user\n     *\n     * @param list\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    changeLikedList: (list) => {\n        localStorage.setItem('liked_list', JSON.stringify(list));\n\n        return {\n            type    : 'CHANGE_LIKED_LIST',\n            payload : list\n        }\n    },\n\n    /**\n     * Set User As moderator\n     *\n     * @returns {{type: string}}\n     */\n    setAsModerator: () => {\n        return {\n            type: 'SET_AS_MODERATOR'\n        }\n    },\n\n    setAsNoAdmin: () => {\n        return {\n            type: 'SET_AS_NOADMIN'\n        }\n    },\n\n    /**\n     * Set ban status\n     *\n     * @param isBlockForce\n     * @returns {{payload: boolean, type: string}}\n     */\n    setBanStatus: (isBlockForce = false) => {\n        let isBlocked;\n\n        if (isBlockForce) {\n            isBlocked = true\n        } else if (localStorage.getItem('block')) {\n            isBlocked = false;\n            localStorage.removeItem('block');\n        } else {\n            isBlocked = true;\n            localStorage.setItem('block', 'blocked');\n        }\n\n        return {\n            type    : 'SET_BAN_STATUS',\n            payload : isBlocked\n        }\n    },\n\n    /**\n     * set all connected users list\n     *\n     * @param list\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setAllUsersList: (list) => {\n        return {\n            type    : 'SET_ALL_USERS_LIST',\n            payload : list\n        }\n    },\n\n    /**\n     * Set interlocutor nick name\n     *\n     * @param nick\n     * @returns {{payload: *, type: string}}\n     */\n    setInterlocutorNick: (nick) => {\n        return {\n            type    : 'SET_INTERLOCUTOR_NICK',\n            payload : nick\n        }\n    },\n\n    /**\n     * Set private request senders data\n     *\n     * @param data: object\n     *\n     * @returns {{payload: object, type: string}}\n     */\n    setPrivateRequestData: (data) => {\n        return {\n            type: 'SET_PRIVATE_REQUEST_DATA',\n            payload: data\n        }\n    },\n\n    /**\n     * Set is new in public\n     *\n     * @returns {{type: string}}\n     */\n    setIsNew: () => {\n        return {\n            type: 'SET_IS_NEW'\n        }\n    },\n\n    /**\n     * Set user nickName\n     *\n     * @param nick\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setNick: (nick) => {\n        return {\n            type: 'SET_NICK',\n            payload: nick\n        }\n    }\n};\n\nexport default userActions;\n","/**\n * @author Yuriy Matviyuk\n */\nconst roomActions = {\n    /**\n     * Join private chat roomName\n     *\n     * @param room\n     *\n     * @returns {{type: string}}\n     */\n    joinRoom: (room) => {\n        return {\n            type: 'JOIN_ROOM',\n            payload: room\n        }\n    },\n\n    setInterlocutorId: (id) => {\n        return {\n            type: 'SET_INTERLOCUTOR_ID',\n            payload: id\n        }\n    },\n\n    /**\n     * Set is full room\n     *\n     * @param isFull\n     *\n     * @returns {{type: string}}\n     */\n    setIsFull: (isFull) => {\n        return {\n            type    : 'SET_IS_FULL',\n            payload : isFull\n        }\n    },\n\n    /**\n     * Leave private chat roomName\n     *\n     * @returns {{type: string}}\n     */\n    leaveRoom: () => {\n        return {\n            type: 'LEAVE_ROOM'\n        }\n    }\n};\n\nexport default roomActions;\n","/**\n * @author Yuriy Matviyuk\n */\nconst messageActions = {\n    /**\n     * Set message text\n     *\n     * @param text\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setMessageText: (text) => {\n        return {\n            type    : 'SET_MESSAGE_TEXT',\n            payload : text\n        }\n    },\n\n    sendFakeMessage: (data) => {\n        return {\n            type    : 'SET_FAKE_MESSAGE_DATA',\n            payload : data\n        }\n    },\n\n    /**\n     * Set quantity on new messages in not active chat\n     *\n     * @param qty\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setNewMessagesQty: (qty) => {\n        return {\n            type    : 'SET_NEW_MESSAGES_QTY',\n            payload : qty\n        }\n    },\n\n    /**\n     * Set Quote\n     *\n     * @param quoteData\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setQuote: (quoteData) => {\n        return {\n            type: 'SET_QUOTE',\n            payload: quoteData\n        }\n    },\n\n    /**\n     * Set uploaded image url\n     *\n     * @param url\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setImageUrl: (url) => {\n        return {\n            type: 'SET_IMAGE_URL',\n            payload: url\n        }\n    },\n\n    /**\n     * Set uploaded image public id\n     *\n     * @param id\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setImagePublicId: (id) => {\n        return {\n            type: 'SET_IMAGE_PUBLIC_ID',\n            payload: id\n        }\n    },\n\n    /**\n     * Reset message data\n     *\n     * @param type\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    resetMessageData: (type) => {\n        return {\n            type    : 'RESET_MESSAGE_DATA',\n            payload : type\n        }\n    },\n\n    /**\n     * Set is uploaded image\n     *\n     * @param isUploaded\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setIsUploadedImage: (isUploaded) => {\n        return {\n            type    : 'SET_IS_UPLOADED_IMAGE',\n            payload : isUploaded\n        }\n    },\n\n    /**\n     * Set public messages color\n     *\n     * @returns {{payload: string, type: string}}\n     */\n    setPublicColor: () => {\n        let letters = '0123456789',\n            color = '#';\n\n        for (let i = 0; i < 6; i++) {\n            color += letters[Math.floor(Math.random() * 10)];\n        }\n\n        return {\n            type    : 'SET_PUBLIC_COLOR',\n            payload : color\n        }\n    }\n};\n\nexport default messageActions;\n","import io from 'socket.io-client'\nimport store from './store'\nimport appActions from \"./actions/appActions\"\nimport userActions from \"./actions/userActions\"\nimport roomActions from \"./actions/roomActions\";\nimport messageActions from \"./actions/messageActions\";\n\nconst socket = {\n    /**\n     * Socket.io\n     */\n    io: io,\n\n    /**\n     * Chat namespace\n     */\n    chat: null,\n\n    /**\n     * Connect to socket\n     */\n    connect: () => {\n        socket.chat = socket.io(process.env.NODE_ENV === 'development' ? 'localhost:3001' : '');\n\n        return socket\n    },\n\n    /**\n     * Subscribe to joining private room\n     *\n     * @returns socket object\n     */\n    subscribeJoinRoom: () => {\n        socket.chat.off('joined room').on('joined room', (room) => {\n            store.dispatch(roomActions.joinRoom(room))\n        });\n\n        return socket\n    },\n\n    /**\n     * Subscribe changing clients count\n     *\n     * @returns {{io: lookup, chat: null, subscribeJoinRoom: (function()), sendMessage: socket.sendMessage, subscribeUsersCount: (function()), connectToServer: socket.connectToServer}}\n     */\n    subscribeUsersCount: () => {\n        socket.chat.off('change clients count').on('change clients count', (count) => {\n            store.dispatch(appActions.changeOnlineCount(count))\n        });\n\n        return socket\n    },\n\n    /**\n     * Leave chat (after destroy chat component)\n     */\n    leaveChat: () => {\n        socket.chat.emit('leave chat');\n        socket.leaveRoom();\n    },\n\n    /**\n     * Leave private room\n     */\n    leaveRoom: () => {\n        const state = store.getState();\n\n        if (!state.room.roomName || !state.user.gender) {\n            return socket;\n        }\n\n        const data = {\n            room    : state.room.roomName,\n            gender  : state.user.gender,\n            destroy : !state.room.isFull\n        };\n\n        socket.chat.emit('leave room', data);\n        store.dispatch(roomActions.leaveRoom());\n\n        return socket\n    },\n\n    /**\n     * Try to rejoin private room\n     */\n    reJoinRoom: () => {\n        const state = store.getState();\n\n        if (state.room.roomName) {\n            socket.chat.emit('rejoin room', {\n                room   : state.room.roomName,\n                gender : state.user.gender,\n                isFull : state.room.isFull\n            })\n        }\n\n        return socket;\n    },\n\n    /**\n     * Join to chat\n     */\n    joinChat: () => {\n        const gender = store.getState().user.gender;\n\n        if (!gender) {\n            return socket\n        }\n\n        socket.chat.emit('join chat', gender);\n\n        return socket\n    },\n\n    /**\n     * Search new interlocutor in private chat\n     *\n     * @returns socket\n     */\n    searchNew: () => {\n        if (store.getState().room.roomName) {\n            socket.leaveRoom();\n        }\n\n        if (store.getState().user.gender) {\n            socket.joinChat();\n        }\n\n        return socket;\n    },\n\n    /**\n     * Set user nick name\n     *\n     * @param nick\n     */\n    setNick: (nick) => {\n        store.dispatch(userActions.setNick(nick));\n        socket.updateUsersList();\n\n        return socket\n    },\n\n    /**\n     * Join public add user to public list\n     */\n    updateUsersList: () => {\n        const state = store.getState(),\n              userData = {\n                  nick      : state.user.nick,\n                  userId    : state.user.userId,\n                  isVIP     : state.user.isVIP,\n                  isBlocked : state.user.isBlocked,\n                  color     : state.message.publicColor\n              };\n\n        if (state.user.nick && state.user.isNewInPublic) {\n            socket.chat.emit('connect to public chat', userData);\n            store.dispatch(userActions.setIsNew());\n        } else {\n            socket.chat.emit('reconnect to public chat', userData)\n        }\n    },\n\n    /**\n     * Send message\n     *\n     * @param message\n     */\n    sendMessage: (message) => {\n        if (message.text || message.imageUrl || message.quotedImage || message.quotedMessage) {\n            const messageId = Math.round(100000 + Math.random() * (999999 - 100000)),\n                state = store.getState(),\n                type = message.type;\n\n            let messageData = {\n                ...message,\n                publicColor: type === 'public' && state.message.publicColor,\n                messageId: messageId,\n                key: messageId,\n                gender: state.user.gender,\n                nick: state.user.nick,\n                isNoAdmin: state.user.isNoAdmin,\n                socketId: socket.chat.id,\n                room: message.type === 'private' ? state.room.roomName : null\n            };\n\n            if (state.user.isBlocked) {\n                messageData.type = message.type;\n                store.dispatch(messageActions.sendFakeMessage(messageData))\n            } else {\n                socket.chat.emit('send ' + type + ' message', messageData);\n            }\n\n            document.getElementById(type + '_message').innerHTML = '';\n            store.dispatch(messageActions.resetMessageData(type))\n        }\n\n        return socket\n    }\n};\n\nexport default socket;\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\nimport socket from \"../../socket\";\nimport {connect} from \"react-redux\";\n\n/**\n * SendMessage component\n *\n * @param props\n\n * @returns {*}\n * @constructor\n */\nconst SendMessage = (props) => {\n    /**\n     * Send message\n     */\n    const sendMessage = () => {\n        let type = props.type,\n            data = props.messageData[type];\n\n        socket.sendMessage({...data, type})\n    };\n\n    return (\n        <span className=\"action send-message\" onClick={sendMessage}/>\n    )\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        messageData : state.message\n    }\n};\n\nexport default connect(mapStateToProps)(SendMessage)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport socket from \"../../socket\";\nimport messageActions from \"../../actions/messageActions\";\nimport {connect} from \"react-redux\";\n\n/**\n * WriteMessage component\n */\nclass WriteMessage extends Component {\n    /**\n     * WriteMessage Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            isTyping: false\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.refactoredMessage !== prevProps.refactoredMessage) {\n            this.inputRef.innerHTML = this.props.refactoredMessage\n        }\n    }\n\n    checkKeyType = (e) => {\n        if (e.key !== 'Enter') {\n            return\n        }\n\n        const type = this.props.type,\n              data = type === 'public' ? this.props.publicMessageData : this.props.privateMessageData;\n\n        e.preventDefault();\n        socket.sendMessage({...data, type});\n    };\n\n    typingHandler = (e) => {\n        let text = e.target.innerHTML;\n\n        if (this.props.type === 'private' && !this.state.isTyping) {\n            socket.chat.emit('typing', this.props.room);\n            this.setState({\n                isTyping: true\n            });\n\n            setTimeout(() => {\n                this.setState({\n                    isTyping: false\n                });\n            }, 2500);\n        }\n\n        if (text.toString().length >= 1000) {\n            alert('Ваше повідомлення надто довге. Будь ласка, зменшіть кількість символів');\n            return false\n        }\n\n        this.props.setMessageText({type: this.props.type, text})\n    };\n\n    /**\n     * Get message input ref\n     *\n     * @param node\n     */\n    getInputRef = (node) => {\n        this.inputRef = node\n    };\n    /**\n     * Format clipboard data before paste\n     *\n     * @param e\n     */\n    formatClipboardData = (e) => {\n        e.preventDefault();\n        let html = e.clipboardData.getData(\"text/html\"),\n            imgRegExp = new RegExp(/(<img src=\")(.*?)(?=\\s*\")/),\n            imgSrc = html.match(imgRegExp);\n        if (imgSrc) {\n            //get image url\n            this.props.setPreviewImgUrl(imgSrc[0].replace('<img src=\"', ''));\n        }\n\n        let text = e.clipboardData.getData(\"text/plain\");\n        document.execCommand(\"insertHTML\", false, text);\n    };\n\n    /**\n     * Render WriteMessage component\n     */\n    render() {\n        const type = this.props.type,\n            roomIsFull = this.props.isFull,\n            isConnected = this.props.isConnected,\n            isEditable = (roomIsFull && isConnected) || (type === 'public' && isConnected && typeof this.props.nick === \"string\");\n\n        return (\n            <span className=\"action write-message\">\n            <div className=\"message-area\">\n                <p  className=\"message-input\"\n                    ref={this.getInputRef}\n                    contentEditable={isEditable}\n                    id={this.props.type + '_message'}\n                    suppressContentEditableWarning={true}\n                    onInput={this.typingHandler}\n                    onPaste={this.formatClipboardData}\n                    onKeyPress={this.checkKeyType}/>\n            </div>\n        </span>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        privateMessageData : state.message.private,\n        publicMessageData  : state.message.public,\n        isFull             : state.room.isFull,\n        nick               : state.user.nick,\n        room               : state.room.roomName,\n        isConnected        : state.app.isConnected\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Set message text\n         *\n         * @param text\n         */\n        setMessageText: (text) => {\n            dispatch(messageActions.setMessageText(text))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WriteMessage)\n","/**\n * @author Yuriy Matviyuk\n */\nconst popUpActions = {\n    /**\n     * Show popup\n     *\n     * @param type\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    showPopUp: (type) => {\n        return {\n            type    : 'SHOW_POPUP',\n            payload : type\n        }\n    },\n\n    /**\n     * Hide popup\n     *\n     * @returns {{type: string}}\n     */\n    hidePopUp: () => {\n        return {\n            type: 'HIDE_POPUP'\n        }\n    }\n};\n\nexport default popUpActions;\n","/**\n * @author Yuriy Matviyuk\n */\nimport AddEmoji from '../dumb/AddEmoji'\nimport UploadPhoto from '../dumb/UploadPhoto'\nimport React, {Component} from 'react'\nimport ReactDOMServer from 'react-dom/server';\nimport 'emoji-mart/css/emoji-mart.css'\nimport { Picker } from 'emoji-mart'\nimport { Emoji } from 'emoji-mart'\nimport SendMessage from '../dumb/SendMessage'\nimport WriteMessage from './WriteMessage'\nimport {connect} from \"react-redux\";\nimport popUpActions from \"../../actions/popUpActions\";\nimport socket from \"../../socket\";\nimport messageActions from \"../../actions/messageActions\";\nconst emojiTranslates = {\n    search: 'Пошук',\n    notfound: 'Смайл не знайдено',\n    skintext: 'Виберіть тон шкіри за замовчуванням',\n    categories: {\n        search: 'Результати пошуку',\n        recent: 'Нещодавні',\n        people: 'Емоції та люди',\n        nature: 'Тварини та природа',\n        foods: 'Їжа та напої',\n        activity: 'Діяльність',\n        places: 'Подорожі та місця',\n        objects: 'Предмети',\n        symbols: 'Символи',\n        flags: 'Прапори',\n        custom: 'Користувацькі',\n    }\n};\n\n/**\n * ChatToolbar component\n */\nclass ChatToolbar extends Component {\n    /**\n     * ChatToolbar Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            isTyping          : false,\n            isShowEmojiPicker : false,\n            refactoredMessage : null\n        };\n    }\n\n    /**\n     * Component mounted in DOM\n     */\n    componentDidMount() {\n        socket.chat.on('show typing', () => {\n            this.setState({\n                isTyping: true\n            });\n\n            setTimeout(() => {\n                this.setState({\n                    isTyping: false\n                });\n            }, 2500);\n        });\n    }\n\n    checkNick = (e) => {\n        if (this.props.type === 'private') {\n            return\n        } else if (!this.props.nick) {\n            e.preventDefault();\n            this.props.showPopUp('CREATE_NICK')\n        }\n    };\n\n    /**\n     * Display Emoji picker block after click on emoji button\n     */\n    showEmojiPicker = () => {\n        document.addEventListener('click', this.hideEmojiPicker);\n        document.addEventListener('tap', this.hideEmojiPicker);\n\n        this.setState({\n            isShowEmojiPicker: true\n        })\n    };\n\n    /**\n     * Hide emoji picker\n     *\n     * @param e\n     */\n    hideEmojiPicker = (e) => {\n        if (this.pickerRef && !this.pickerRef.contains(e.target)) {\n            this.setState({\n                isShowEmojiPicker: false\n            });\n\n            document.removeEventListener('click', this.hideEmojiPicker);\n            document.removeEventListener('tap', this.hideEmojiPicker);\n        }\n    };\n\n    /**\n     * Get Emoji picker wrapper ref\n     *\n     * @param node\n     */\n    getPickerRef = (node) => {\n        this.pickerRef = node\n    };\n\n    /**\n     * Add emoji to the message input\n     *\n     * @param emoji\n     */\n    addEmoji = (emoji) => {\n        const addedEmoji =\n            <span className=\"emoji-wrapper\"\n                  contentEditable={false}\n                  dangerouslySetInnerHTML={{\n                      __html: Emoji({\n                        html: true,\n                        set: 'apple',\n                        skin: JSON.parse(localStorage.getItem('emoji-mart.skin')),\n                        emoji: emoji.id,\n                        size: 20\n                      })\n                }}\n            />;\n        let message = this.props.type === 'public' ? this.props.publicMessage : this.props.privateMessage,\n            refactoredMessage = message + ReactDOMServer.renderToStaticMarkup(addedEmoji) + '&nbsp;';\n\n        this.setState({refactoredMessage});\n        this.props.setMessageText(this.props.type, refactoredMessage)\n    };\n\n    /**\n     * Remove quote\n     */\n    removeQuote = () => {\n        this.props.setQuote({type: this.props.type})\n    };\n\n    /**\n     * ComponentWillUnmount method\n     */\n    componentWillUnmount() {\n        document.removeEventListener('click', this.hideEmojiPicker);\n        document.removeEventListener('tap', this.hideEmojiPicker);\n        socket.chat.off('show typing')\n    }\n\n    /**\n     * Render ChatToolbar component\n     */\n    render() {\n        const type = this.props.type,\n              roomIsFull = this.props.isFull,\n              isConnected = this.props.isConnected,\n              imagePreviewUrl = type === 'public' ? this.props.publicImageUrl : this.props.privateImageUrl,\n              isUploadedImage = type === 'public' ? this.props.publicIsUploadedImg : this.props.privateIsUploadedImg,\n              quotedImage = type === 'public' ? this.props.publicQuotedImage : this.props.privateQuotedImage,\n              quotedMessage = type === 'public' ? this.props.publicQuotedMessage : this.props.privateQuotedMessage,\n              isActive = (roomIsFull && isConnected) || (type === 'public'),\n              toolbarClassName = isActive ? 'chat-actions-toolbar' : 'chat-actions-toolbar disabled',\n              hasQuote = quotedMessage || quotedImage;\n\n        return (\n            <div className={toolbarClassName}\n                 onClick={this.checkNick}\n                 title={isActive ? '' : 'дії з чатом тимчасово заблоковані'}>\n                {this.state.isTyping && type === 'private' &&\n                    <span className=\"write-animation\">анонім друкує повідомлення</span>}\n                {this.state.isShowEmojiPicker &&\n                <div ref={this.getPickerRef}>\n                    <Picker set='apple'\n                            i18n={emojiTranslates}\n                            showPreview={false}\n                            color={this.props.theme === 'light' ? '#2F2F2F' : '#E3E3E3'}\n                            emojiTooltip={true}\n                            onSelect={this.addEmoji}\n                            title='Оберіть смайл' emoji='point_up'\n                            style={{position: 'absolute', top: '-295px', width: 'calc(100% - 10px)', left: '5px', display: 'block'}}\n                    />\n                </div>}\n                {isUploadedImage &&\n                    <div className=\"image-preview\">\n                        <div className=\"preview-wrapper\">\n                        {imagePreviewUrl ?\n                            <React.Fragment>\n                                <span className=\"remove-preview\" onClick={this.props.removeImagePreview}/>\n                                <img src={imagePreviewUrl} alt=\"preview\"/>\n                            </React.Fragment> :\n                            <div className=\"image-preview-loader\">\n                                <span className=\"loader\"/>\n                            </div>}\n                        </div>\n                     </div>}\n                {hasQuote &&\n                <span className=\"quoted-message\">\n                        <span className=\"quote-wrapper\">\n                            <span className=\"remove-quote\" onClick={this.removeQuote}/>\n                            {quotedMessage && <span className=\"text\" dangerouslySetInnerHTML={{__html: quotedMessage}}/>}\n                            {quotedImage && <img src={quotedImage} alt=\"\"/>}\n                        </span>\n                    </span>}\n                <div className='actions-wrapper'>\n                    <UploadPhoto type={type} imageSelect={this.props.imageSelect}/>\n                    <AddEmoji type={type} showEmojiPicker={this.showEmojiPicker}/>\n                    <WriteMessage type={type} refactoredMessage={this.state.refactoredMessage}/>\n                    <SendMessage type={type}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isFull               : state.room.isFull,\n        isConnected          : state.app.isConnected,\n        publicMessage        : state.message.public.text,\n        privateMessage       : state.message.private.text,\n        privateQuotedMessage : state.message.private.quotedMessage,\n        publicQuotedMessage  : state.message.public.quotedMessage,\n        privateQuotedImage   : state.message.private.quotedImage,\n        publicQuotedImage    : state.message.public.quotedImage,\n        privateImageUrl      : state.message.private.imageUrl,\n        publicIsUploadedImg  : state.message.public.isUploadedImage,\n        privateIsUploadedImg : state.message.private.isUploadedImage,\n        publicImageUrl       : state.message.public.imageUrl,\n        theme                : state.app.theme,\n        nick                 : state.user.nick\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Show popup\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(popUpActions.showPopUp(type))\n        },\n\n        /**\n         * Set message text\n         *\n         * @param type\n         * @param text\n         */\n        setMessageText: (type, text) => {\n            dispatch(messageActions.setMessageText({type, text}))\n        },\n\n        /**\n         * Set quote\n         *\n         * @param quote\n         */\n        setQuote: (quote) => {\n            dispatch(messageActions.setQuote(quote))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatToolbar)\n","/**\n * @author Yuriy Matviyuk\n */\nconst galleryActions = {\n    /**\n     * Add new image to gallery\n     *\n     * @param data\n     *\n     * @returns {{payload: object, type: string}}\n     */\n    addImageToGallery: (data) => {\n        return {\n            type    : 'ADD_TO_GALLERY',\n            payload : data\n        }\n    },\n\n    /**\n     * Show/hide image gallery\n     *\n     * @param isActive\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setGalleryVisibility: (isActive) => {\n        return {\n            type    : 'SET_GALLERY_VISIBILITY',\n            payload : isActive\n        }\n    },\n\n    setActiveGalleryType: (type) => {\n        return {\n            type    : 'SET_ACTIVE_GALLERY_TYPE',\n            payload : type\n        }\n    },\n\n    /**\n     * Set active image index\n     *\n     * @param data\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setActiveIndex: (data) => {\n        return {\n            type: 'SET_ACTIVE_INDEX',\n            payload: data\n        }\n    },\n\n    /**\n     * Remove image from gallery\n     *\n     * @param data\n     * @returns {{payload: *, type: string}}\n     */\n    removeImageFromGallery: (data) => {\n        return {\n            type: 'REMOVE_FROM_GALLERY',\n            payload: data\n        }\n    }\n};\n\nexport default galleryActions;\n","import React, {Component} from 'react'\nimport socket from \"../../socket\";\nimport {connect} from \"react-redux\";\nimport deleted from '../../images/deleted.jpg'\nimport messageActions from \"../../actions/messageActions\";\nimport galleryActions from \"../../actions/galleryActions\";\n\n/**\n * Message output component\n */\nclass ChatMessage extends Component {\n    /**\n     * ChatMessage Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            name: null,\n            isSameGender: false,\n            messageText: null,\n            deletedImageUrl: '/images/deleted.jpg',\n            isShowActions: false,\n            date: null,\n            isLiked: false\n        };\n\n        if (props.image) {\n            this.state.imageIndex = props.gallery[props.type].images.length\n        }\n    }\n\n    /**\n     * ComponentDidMount method\n     */\n    componentDidMount() {\n        this.detectURL(this.props.message);\n\n        let date = new Date(),\n            hours = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\n            minutes = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\n            name;\n\n        if (this.props.type === 'public') {\n            name = this.props.nickName\n        } else if (this.props.label === 'bot') {\n            name = 'Бот'\n        } else if (this.props.label === 'anon') {\n            name = 'Анонім'\n        } else {\n            name = 'Ви'\n        }\n\n        this.setState({\n            date: !this.state.date ? hours + ':' + minutes : this.state.date,\n            name: name\n        })\n    }\n\n    /**\n     * Delete message action\n     */\n    deleteMessage = () => {\n        if (this.props.image) {\n            this.removeFromGallery();\n        }\n\n        socket.chat.emit('delete message', this.props.messageId)\n    };\n\n    /**\n     * Remove image from gallery\n     */\n    removeFromGallery = () => {\n        let type = this.props.type,\n            gallery,\n            updatedGallery;\n\n        gallery = this.props.gallery[type].images;\n        updatedGallery = gallery.map((value, index) => {\n            return index === this.state.imageIndex ? deleted : value\n        });\n\n        this.props.removeImageFromGallery({type, updatedGallery});\n    };\n\n    /**\n     * Quote message action\n     */\n    quoteMessage = () => {\n        this.props.setQuote({message: this.props.message, image: this.props.image, type: this.props.type})\n    };\n\n    /**\n     * Hide message actions\n     */\n    collapseActions = () => {\n        this.setState({\n            isShowActions: false\n        });\n\n        document.removeEventListener('click', this.collapseActions);\n        document.removeEventListener('tap', this.collapseActions);\n    };\n\n    /**\n     * Toggle actions\n     */\n    toggleActions = () => {\n        document.addEventListener('click', this.collapseActions);\n        document.addEventListener('tap', this.collapseActions);\n        this.setState({\n            isShowActions: true\n        })\n    };\n\n    /**\n     * Url usage detection\n     *\n     * @param text\n     * @returns {*}\n     */\n    detectURL = (text) => {\n        let urlRegex = /((([^;\"]https?:\\/\\/)|(^https?:\\/\\/)|(www\\.))[^\\s]+)/g;\n        this.setState({\n            messageText: text.replace(urlRegex, (url,b,c) => {\n                let url2 = (c === 'www.') ?  'http://' +url : url;\n                return '<a href=\"' +url2+ '\" target=\"_blank\">' + url + '</a>';\n            })\n        })\n    };\n\n    /**\n     * Likes handler\n     */\n    likeMessage = () => {\n        this.setState({\n            isLiked: !this.state.isLiked\n        }, () => {\n            socket.chat.emit('like message', {\n                id: this.props.messageId,\n                isLiked: this.state.isLiked\n            })\n        });\n    };\n\n    /**\n     * Show images gallery\n     *\n     * @param e\n     */\n    showGallery = (e) => {\n        let type = this.props.type;\n\n        this.props.setActiveIndex({type, activeIndex: parseInt(e.target.dataset.index, 10)});\n        this.props.showGallery(type);\n    };\n\n    /**\n     * Render component method\n     *\n     * @returns {*}\n     */\n    render() {\n        let activeClass = this.state.isShowActions ? \" active\" : \"\",\n            isYourMessage = this.props.socketId === socket.chat.id,\n            genderClass = this.props.gender === this.props.userGender ? ' same' : ' anon',\n            label = isYourMessage ? 'you' : '',\n            hasQuote = this.props.quotedMessage || this.props.quotedImage,\n            containerClassName = \"message-container \" + this.props.gender + \" \" + label + activeClass + genderClass,\n            likeActionClassName = this.state.isLiked\n                ? \"message-action like-message liked\"\n                : \"message-action like-message\";\n\n        return (\n            <p className={containerClassName} id={this.props.messageId}>\n                {isYourMessage\n                    ? <span className=\"message-action delete-message\"\n                            onClick={this.deleteMessage}\n                            title=\"видалити повідомлення\"\n                    />\n                    : <span className={likeActionClassName}\n                            onClick={this.likeMessage}\n                            title={this.state.isLiked ? 'мені не подобається' : 'мені подобається'}\n                    />}\n                {\n                    <span className=\"message-action quote-message\"\n                          onClick={this.quoteMessage}\n                          title=\"переслати повідомлення\"\n                    />\n                }\n                <span onClick={this.props.label !== 'bot' ? this.toggleActions : () => {}}\n                      className={this.props.type === 'public' && this.props.isNoAdmin ? \"message vip\" : \"message\"}\n                      style={this.props.publicColor ? {background: this.props.publicColor} : {}}>\n                    {this.state.messageText &&\n                        <span className=\"message-text\"\n                            dangerouslySetInnerHTML={{__html: this.state.messageText}}\n                        />\n                    }\n                    {this.props.image &&\n                        <span className=\"message-image\">\n                            <img src={this.props.image}\n                                 onClick={this.showGallery}\n                                 data-index={this.state.imageIndex}\n                                 alt=\"\"/>\n                        </span>}\n                    {hasQuote &&\n                        <span className=\"quote\">\n                            {this.props.quotedMessage &&\n                                <span className=\"text\"\n                                      dangerouslySetInnerHTML={{__html: this.props.quotedMessage}}\n                                />}\n                            {this.props.quotedImage && <img src={this.props.quotedImage} alt=\"\"/>}\n                        </span>}\n                </span>\n                <span className=\"time\">{this.state.name + \", \" + this.state.date}</span>\n            </p>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        nick       : state.user.nick,\n        userGender : state.user.gender,\n        gallery    : state.gallery\n    }\n};\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Set quote\n         *\n         * @param quote\n         */\n        setQuote: (quote) => {\n            dispatch(messageActions.setQuote(quote))\n        },\n\n        /**\n         * Set active image index\n         *\n         * @param data\n         */\n        setActiveIndex: (data) => {\n            dispatch(galleryActions.setActiveIndex(data))\n        },\n\n        /**\n         * Show image gallery\n         *\n         * @param type\n         */\n        showGallery: (type) => {\n            dispatch(galleryActions.setGalleryVisibility(true));\n            dispatch(galleryActions.setActiveGalleryType(type))\n        },\n\n        /**\n         * Remove image from gallery\n         *\n         * @param data\n         */\n        removeImageFromGallery: (data) => {\n            dispatch(galleryActions.removeImageFromGallery(data))\n        },\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatMessage)\n","/**\n * @author Yuriy Matviyuk\n */\nimport appActions from \"../../actions/appActions\";\nimport popUpActions from \"../../actions/popUpActions\";\nimport React, {Component} from 'react'\nimport socket from '../../socket'\nimport userActions from \"../../actions/userActions\";\nimport {connect} from \"react-redux\";\n\n/**\n * UsersList component\n */\nclass UsersList extends Component {\n    /**\n     * UsersList Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            clientsList: [],\n            isToggled: false\n        };\n    }\n\n    /**\n     * ComponentDidMount method\n     */\n    componentDidMount() {\n        if(localStorage.getItem('status') === 'moderator') {\n            this.props.setAsModerator();\n        }\n\n        const likedList = localStorage.getItem('liked_list');\n\n        if (likedList) {\n            this.props.changeLikedList(JSON.parse(likedList))\n        }\n\n        socket.chat.on('change clients', (list) => {\n            this.props.setAllUsersList(list);\n            this.createList()\n        });\n\n        this.createList(this.props.allUsersList)\n    };\n\n    /**\n     * Unsubscribe from events\n     */\n    componentWillUnmount() {\n        socket.chat.off('change clients')\n    }\n\n    /**\n     * Block client in public chat\n     *\n     * @param id\n     */\n    blockClient = (id) => {\n        socket.chat.emit('block user', id)\n    };\n\n    /**\n     * Component did update\n     *\n     * @param prevProps\n     * @param prevState\n     * @param snapshot\n     */\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.mutedList.length !== this.props.mutedList.length\n            || prevProps.nick !== this.props.nick\n            || Object.keys(prevProps.likedList).length !== Object.keys(this.props.likedList).length) {\n            this.createList()\n        }\n\n        if (prevProps.nick !== this.props.nick) {\n            socket.chat.emit('changed nick', {\n                nick: this.props.nick,\n                prevUserId: this.props.prevUserId,\n                userId: this.props.userId\n            });\n        }\n    }\n\n    /**\n     * Like user Handler\n     *\n     * @param data\n     */\n    likeUser = (data) => {\n        const userId = data.userId;\n\n        let newList = {...this.props.likedList};\n\n        if (newList[userId]) {\n            newList = delete newList[userId];\n        } else {\n            newList[userId] = data;\n        }\n\n        this.props.changeLikedList(newList)\n    };\n\n    /**\n     * Mute user in public chat\n     *\n     * @param id\n     */\n    muteUser = (id) => {\n        const prevList = this.props.mutedList;\n\n        this.props.changeMutedList(prevList.indexOf(id) !== -1\n            ? prevList.filter((existId) => existId !== id)\n            : prevList.concat(id))\n    };\n\n    /**\n     * Create list of clients\n     */\n    createList = () => {\n        let clientsData = [],\n            data = this.props.allUsersList;\n\n        for (let userId in data) {\n            if (data.hasOwnProperty(userId)) {\n                let isMuted = this.props.mutedList.indexOf(data[userId].socketId) !== -1,\n                    likeButtonClassName = this.props.likedList[userId]\n                        ? 'liked like-user client-action' : 'like-user client-action',\n                    userData = data[userId];\n\n                if (!userData.nick) {\n                    continue\n                }\n\n                clientsData.push(\n                    <li key={userId}>\n                        <span className=\"client-color\" style={{backgroundColor: userData.color}}/>\n                        <span className=\"name\">{userData.nick}</span>\n                        <span className='user-actions'>\n                            {userData.socketId !== socket.chat.id &&\n                            <span className={likeButtonClassName}\n                                  onClick={() => {this.likeUser(userData)}}>\n                                {this.props.likesCount !== 0\n                                && <span className='likes-count' children={this.props.likesCount}/>}\n                            </span>}\n                            {userData.socketId === socket.chat.id &&\n                            <span className='client-action change-nick' onClick={this.props.changeNick}/>}\n                            {this.props.isModerator &&\n                            userData.socketId !== socket.chat.id &&\n                            <span\n                                className={userData.isBlocked ? 'ban-client client-action blocked' : 'ban-client client-action'}\n                                title='Заблокувати'\n                                onClick={(e) => {\n                                    e.target.classList.toggle('blocked');\n                                    this.blockClient(userData.socketId)\n                                }}\n                            />}\n                            {userData.socketId !== socket.chat.id &&\n                            <React.Fragment>\n                            <span className='start-chat client-action'\n                                  title='розпочати приватний чат'\n                                  onClick={() => {\n                                      this.proposePrivateChat(userData.nick, userData.socketId)\n                                  }}\n                            />\n                                <span className={isMuted ? 'mute-user client-action muted' : 'mute-user client-action'}\n                                      title='ігнорувати користувача'\n                                      onClick={() => {\n                                          this.muteUser(userData.socketId)\n                                      }}\n                                />\n                            </React.Fragment>}\n                        </span>\n                    </li>\n                )\n            }\n        }\n\n        this.setState({\n            clientsList: clientsData\n        })\n    };\n\n    /**\n     * Start private chat\n     *\n     * @param receiverNick\n     * @param receiverId\n     */\n    proposePrivateChat = (receiverNick, receiverId) => {\n        socket.chat.emit('private request', {\n            receiverNick,\n            receiverId,\n            senderNick: this.props.nick,\n            senderId: socket.chat.id\n        })\n    };\n\n    /**\n     * Render UsersList component\n     */\n    render() {\n        return (\n            <div className=\"users-list-wrapper\">\n                <ul className='users-list'>\n                    {this.state.clientsList}\n                </ul>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        nick         : state.user.nick,\n        mutedList    : state.user.mutedList,\n        allUsersList : state.user.allUsersList,\n        isModerator  : state.user.isModerator,\n        prevUserId   : state.user.prevUserId,\n        userId       : state.user.userId,\n        likesCount   : state.user.likesCount,\n        likedList    : state.user.likedList\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Show popup\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(appActions.showPopUp(type))\n        },\n\n        /**\n         * Change nick name\n         */\n        changeNick: () => {\n            localStorage.removeItem('nick');\n            dispatch(popUpActions.showPopUp('CREATE_NICK'))\n        },\n\n        /**\n         * Mute/unmute user\n         *\n         * @param list\n         */\n        changeMutedList: (list) => {\n            dispatch(userActions.changeMutedList(list))\n        },\n\n        setAllUsersList: (list) => {\n            dispatch(userActions.setAllUsersList(list));\n        },\n\n        setAsModerator: () => {\n            dispatch(userActions.setAsModerator())\n        },\n\n        /**\n         * Like/dislike user\n         *\n         * @param list\n         */\n        changeLikedList: (list) => {\n            dispatch(userActions.changeLikedList(list))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersList)\n\n","/**\n * @author Yuriy Matviyuk\n */\nimport appActions from \"../../actions/appActions\";\nimport popUpActions from \"../../actions/popUpActions\";\nimport React, {Component} from 'react'\nimport socket from '../../socket'\nimport userActions from \"../../actions/userActions\";\nimport {connect} from \"react-redux\";\n\n/**\n * UsersList component\n */\nclass SavedList extends Component {\n    /**\n     * UsersList Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            clientsList: [],\n            allUsersList: {},\n            isToggled: false\n        };\n    }\n\n    /**\n     * ComponentDidMount method\n     */\n    componentDidMount() {\n        let userId = localStorage.getItem('unique_id');\n\n        if (!userId) {\n            userId = Math.floor(Math.random() * Math.floor(999999999));\n            localStorage.setItem('unique_id', userId)\n        }\n\n        this.props.setUserId(userId);\n    };\n\n    /**\n     * Component did update\n     *\n     * @param prevProps\n     */\n    componentDidUpdate(prevProps) {\n        if (Object.keys(prevProps.likedList).length !== Object.keys(this.props.likedList).length) {\n            this.createList(this.props.likedList)\n        }\n\n        if (Object.keys(prevProps.allUsersList).length !== Object.keys(this.props.allUsersList).length) {\n            this.createList(this.props.likedList)\n        }\n    }\n\n    /**\n     * Remove user from liked list\n     *\n     * @param userId\n     */\n    removeUser = (userId) => {\n        let newList = {...this.props.likedList};\n\n        delete newList[userId];\n\n        this.props.changeLikedList(newList)\n    };\n\n    /**\n     * Create list of clients\n     *\n     * @param data\n     */\n    createList = (data) => {\n        let clientsData = [];\n\n        for (let userId in data) {\n            if (data.hasOwnProperty(userId)) {\n                let userData = data[userId],\n                    isOnline = this.props.allUsersList.hasOwnProperty(userId),\n                    statusColor = isOnline ? '#9FD468' : '#808080';\n\n                if (isOnline) {\n                    data[userId].socketId = this.props.allUsersList[userId].socketId\n                }\n\n                clientsData.push(\n                    <li key={userId}>\n                        <span className=\"client-color\" style={{backgroundColor: statusColor}}\n                              title={isOnline ? 'online' : 'offline'}/>\n                        <span className=\"name\">{userData.nick}</span>\n                        <span className='user-actions'>\n                            {isOnline && <span className='start-chat client-action'\n                                  title='розпочати приватний чат'\n                                  onClick={() => {\n                                      this.proposePrivateChat(userData.nick, userData.socketId)\n                                  }}\n                            />}\n                            <span className='remove-user client-action'\n                                  title='видалити користувача зі списку'\n                                  onClick={() => {\n                                      this.removeUser(userId)\n                                  }}\n                            />\n                        </span>\n                    </li>\n                )\n            }\n        }\n\n        this.setState({\n            clientsList: clientsData\n        })\n    };\n\n    /**\n     * Start private chat\n     *\n     * @param receiverNick\n     * @param receiverId\n     */\n    proposePrivateChat = (receiverNick, receiverId) => {\n        socket.chat.emit('private request', {\n            receiverNick,\n            receiverId,\n            senderNick: this.props.nick,\n            senderId: socket.chat.id\n        })\n    };\n\n    /**\n     * Render UsersList component\n     */\n    render() {\n        return (\n            <div className=\"users-list-wrapper\">\n                <ul className='users-list'>\n                    {this.state.clientsList.length\n                        ? this.state.clientsList :\n                    <li>Тут буде відображатися список усіх збережених користувачів. Щоб зберегти користувача натисніть\n                        на іконку серця у вікні приватного чату або поряд з ніком у списку загального чату. Колір поряд\n                        з користувачем у цьому списку означає його статус online (зелений) і offline (сірий).\n                    </li>}\n                </ul>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        likedList    : state.user.likedList,\n        allUsersList : state.user.allUsersList\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Show popup\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(appActions.showPopUp(type))\n        },\n\n        /**\n         * Change nick name\n         */\n        changeNick: () => {\n            localStorage.removeItem('nick');\n            dispatch(popUpActions.showPopUp('CREATE_NICK'))\n        },\n\n        /**\n         * Set unique user id\n         *\n         * @param id\n         */\n        setUserId: (id) => {\n            dispatch(userActions.setUserId(id))\n        },\n\n        /**\n         * Like/dislike user\n         *\n         * @param list\n         */\n        changeLikedList: (list) => {\n            dispatch(userActions.changeLikedList(list))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SavedList)\n\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {PureComponent} from 'react'\nimport socket from \"../../socket\";\nimport ChatMessage from '../smart/ChatMessage'\nimport {connect} from \"react-redux\";\nimport roomActions from \"../../actions/roomActions\";\nimport UsersList from \"./UsersList\";\nimport SavedList from \"./SavedList\";\nimport popUpActions from \"../../actions/popUpActions\";\nimport galleryActions from \"../../actions/galleryActions\";\nimport messageActions from \"../../actions/messageActions\";\nimport userActions from \"../../actions/userActions\";\n\n/**\n * MessagesWrapper component\n */\nclass MessagesWrapper extends PureComponent {\n    /**\n     * MessagesWrapper Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            notify          : null,\n            notify2         : null,\n            newMessagesQty  : 0,\n            messages        : []\n        };\n    }\n\n    /**\n     * ComponentDidMount\n     */\n    componentDidMount() {\n        if (!this.state.notify && !this.state.notify2) {\n            this.setState({\n                notify  : new Audio('/audio/magic.mp3'),\n                notify2 : new Audio('/audio/pop.mp3')\n            })\n        }\n\n        const type = this.props.type,\n            getMessageEvent = 'get ' + type + ' message';\n\n        if (type === 'private') {\n            let message = 'Очікуємо співрозмовника... </br> Поки йде пошук, можете поспілкуватися' +\n                ' в загальному чаті.';\n\n            if (this.props.isMobile) {\n                message += '</br> Щоб перейти в загальний чат зробіть свайп вліво ' +\n                '<img width=\"50px\" src=\"/images/swipe.gif\" alt=\"swipe invischat\"/>'\n            }\n\n            this.setState({\n                messages: this.state.messages.concat(<ChatMessage\n                    key={Math.round(100000 + Math.random() * (999999 - 100000))}\n                    gender=\"bot\"\n                    message={message}\n                    socketId={null}\n                    label='bot'\n                />)\n            });\n\n            socket.chat.off('get interlocutor id').on('get interlocutor id', (id) => {\n                this.props.setInterlocutorId(id)\n            })\n        } else {\n            socket.chat.off('get public chat info').on('get public chat info', () => {\n                this.props.nick && this.sendBotMessage('PUBLIC_WELCOME')\n            });\n\n            socket.chat.off('new user connected').on('new user connected', (nick) => {\n                if (nick) {\n                    this.sendBotMessage('NEW_USER_IN_PUBLIC', nick);\n                }\n            });\n\n            socket.chat.off('liked message').on('liked message', (data) => {\n                this.likesHandler(data)\n            })\n        }\n\n        socket.chat.off(getMessageEvent).on(getMessageEvent, (message) => {\n            //Ignore message if client is muted\n            if (this.props.mutedList.indexOf(message.socketId) !== -1) {\n                return false\n            }\n\n            const isAlien = message.socketId !== socket.chat.id;\n\n            if (message.botMessage) {\n                return this.sendBotMessage(message.botMessage)\n            }\n\n            if (this.props.isMobile) {\n                if (type === 'private' && this.props.chatPosition !== 0) {\n                    this.props.setNewMessagesQty(this.props.newMessagesQty + 1)\n                }\n\n                if (type === 'public' && this.props.chatPosition === 0) {\n                    this.props.setNewMessagesQty(this.props.newMessagesQty + 1)\n                }\n            }\n\n            if (isAlien) {\n                this.scrollToLastMessage();\n\n                if (this.props.isNotificationsEnabled && type === 'private' && this.state.notify) {\n                    this.state.notify.play();\n                }\n            } else {\n                this.scrollToLastMessage(true);\n            }\n\n            this.setState({\n                messages: this.state.messages.concat(\n                    <ChatMessage key={message.messageId}\n                                 message={message.text}\n                                 type={this.props.type}\n                                 label={socket.chat.id !== message.socketId ? 'anon' : 'you'}\n                                 messageId={message.messageId}\n                                 quotedMessage={message.quotedMessage}\n                                 quotedImage={message.quotedImage}\n                                 publicColor={message.publicColor}\n                                 isNoAdmin={message.isNoAdmin}\n                                 socketId={message.socketId}\n                                 gender={message.gender}\n                                 nickName={message.nick}\n                                 image={message.imageUrl}\n                    />\n                )\n            });\n\n            if (message.imageUrl) {\n                this.props.addImageToGallery({url: message.imageUrl, type: this.props.type})\n            }\n        });\n\n        socket.chat.off('deleted message').on('deleted message', (id) => {\n            let message = document.getElementById(id);\n\n            if (message) {\n                message.innerHTML = '<span class=\"message-text removed\">Повідомлення видалено</span>'\n            }\n        });\n\n        this.props.isMobile && window.addEventListener(\"resize\", this.resizeHandler)\n    };\n\n    resizeHandler = () => {\n        this.scrollToLastMessage(true)\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        let message = this.props.fakeMessageData;\n\n        if (prevProps.isConnected && !this.props.isConnected) {\n            setTimeout(() => {\n                this.sendBotMessage('CONNECTION_PROBLEM');\n            }, 100)\n        }\n\n        if (!prevProps.isConnected && this.props.isConnected) {\n            if (this.props.type === 'private') {\n                socket.reJoinRoom()\n            }\n\n            socket.updateUsersList();\n            this.sendBotMessage('CONNECTION_RESTORED');\n        }\n\n        if (prevProps.fakeMessageData.key !== message.key && this.props.type === message.type) {\n            this.setState({\n                messages: this.state.messages.concat(\n                    <ChatMessage key={message.messageId}\n                                 message={message.text}\n                                 type={message.type}\n                                 label={socket.chat.id !== message.socketId ? 'anon' : 'you'}\n                                 messageId={message.messageId}\n                                 quotedMessage={message.quotedMessage}\n                                 quotedImage={message.quotedImage}\n                                 publicColor={message.publicColor}\n                                 socketId={message.socketId}\n                                 gender={message.gender}\n                                 nickName={message.nick}\n                                 image={message.imageUrl}\n                    />\n                )\n            }, () => {\n                this.scrollToLastMessage(true)\n            });\n        }\n    }\n\n    /**\n     * Likes Handler\n     *\n     * @param data\n     *\n     * @returns {*}\n     */\n    likesHandler = (data) => {\n        let messageWrapper = document.getElementById(data.id);\n\n        if (!(messageWrapper && messageWrapper.querySelector('.message'))) {\n            return\n        }\n\n        let message = messageWrapper.querySelector('.likes-count');\n\n        if (!message) {\n            return messageWrapper.querySelector('.message').appendChild(\n                document.createRange().createContextualFragment(\n                    '<span class=\"likes-count\">1</span>'\n                )\n            );\n        }\n\n        let prevLikesCount = parseInt(message.textContent),\n            likesCount = data.isLiked ? prevLikesCount + 1 : prevLikesCount - 1;\n\n        if (likesCount === 0) {\n            return messageWrapper.querySelector('.likes-count').remove()\n        }\n\n        messageWrapper.querySelector('.likes-count').innerHTML = likesCount.toString()\n    };\n\n    /**\n     * Scroll to the last message\n     *\n     * @param force\n     */\n    scrollToLastMessage = (force = false) => {\n        const chat = this.chatTextRef;\n\n        if (!force && chat && Math.ceil(chat.scrollTop + chat.clientHeight) < chat.scrollHeight) {\n            return this.setState({\n                newMessagesQty: this.state.newMessagesQty + 1\n            })\n        }\n\n        let top = chat.scrollTop < chat.clientHeight ? chat.clientHeight : chat.scrollTop,\n            scr = setInterval(() => {\n                if (chat) {\n                    top += 300;\n                    chat.scrollTo(0, top);\n                }\n\n                if (!chat || top > chat.scrollHeight) {\n                    clearInterval(scr);\n                }\n            }, 1);\n\n        this.setState({\n            newMessagesQty: 0\n        })\n    };\n\n    /**\n     * Search new interlocutor in private chat\n     */\n    refreshChat = () => {\n        const isPrivate = this.props.type === 'private';\n\n        if (isPrivate && this.props.room && !this.props.isFull) {\n            return this.props.showPopUp('CAN_NOT_REFRESH')\n        }\n\n        this.setState({\n            messages: []\n        }, () => {\n            if (isPrivate) {\n                this.sendBotMessage('SEARCH_NEW');\n                socket.searchNew()\n            }\n        });\n    };\n\n    /**\n     * Show/hide list of active users in public chat\n     */\n    toggleList = (e, open = false) => {\n        if (this.props.type === 'public' && !this.props.nick) {\n            return this.props.showPopUp('CREATE_NICK')\n        }\n\n        let classList = this.chatTextWrapperRef.classList;\n\n        if (open) {\n            classList.toggle('with-users-list')\n        } else if (classList.contains('with-users-list') && !e.target.classList.contains('users-list')) {\n            classList.remove('with-users-list')\n        }\n    };\n\n    /**\n     * Send bot message\n     *\n     * @param message\n     * @param data\n     */\n    sendBotMessage = (message, data = null) => {\n        let text;\n\n        switch (message) {\n            case 'ROOM_IS_FULL' :\n                this.props.setIsFull(true);\n                this.state.notify2.play();\n                socket.chat.emit('set interlocutor id', {room: this.props.room, id: this.props.userId});\n                text = 'Співрозмовника знайдено! Розпочніть Ваш діалог';\n                break;\n            case 'INTERLOCUTOR_LEAVE' :\n                socket.leaveRoom();\n                this.state.notify2.play();\n                text = 'Співрозмовник покинув чат';\n                break;\n            case 'USER_DISCONNECTED' :\n                text = 'У співрозмовника виникли проблеми зі з\\'єднанням. Очікуємо відновлення зв\\'язку';\n                break;\n            case 'ROOM_IS_EMPTY' :\n                if (this.props.isFull) {\n                    socket.leaveRoom();\n                    this.state.notify2.play();\n                    text = 'Співрозмовник покинув чат';\n                } else {\n                    text = null\n                }\n                break;\n            case 'CONNECTION_PROBLEM' :\n                text = 'Спостерігаються проблеми зі з\\'єднанням. Очікуємо відновлення зв\\'язку';\n                break;\n            case 'SEARCH_NEW' :\n                text = 'Йде пошук нового співрозмовника';\n                break;\n            case 'NEW_USER_IN_PUBLIC' :\n                text = 'Користувач <b>' + data + '</b> приєднується до чату.';\n                break;\n            case 'PUBLIC_WELCOME' :\n                text = 'Вітаємо у загальному чаті! Ваші повідомлення та повідомлення осіб вашої' +\n                    ' статі відображаються справа, а від анонімів протилежної статі - зліва.' +\n                    ' Приємного спілкування!';\n                break;\n            case 'CONNECTION_RESTORED' :\n                text = !this.props.isFull && this.props.type === 'private' && this.props.room\n                    ? 'З\\'єднання та пошук співрозмовника відновлено '\n                    : 'З\\'єднання відновлено';\n                break;\n            default:\n                text = null\n        }\n\n        if (!text) {\n            return\n        }\n\n        this.setState({\n            messages: this.state.messages.concat(\n                <ChatMessage key={Math.round(100000 + Math.random() * (999999 - 100000))}\n                             gender=\"bot\"\n                             socketId={null}\n                             message={text}\n                             label='bot'\n                />\n            )\n        });\n\n        this.scrollToLastMessage(true)\n    };\n\n    /**\n     * Get height of chat text scroll\n     */\n    getScrollHeight = () => {\n        const chat = this.chatTextRef;\n\n        if (chat.scrollHeight === Math.ceil(chat.scrollTop + chat.clientHeight)) {\n            this.setState({\n                newMessagesQty: 0\n            })\n        }\n    };\n\n    /**\n     * Get messages wrapper component's ref\n     *\n     * @param node\n     */\n    getRef = (node) => {\n        this.chatTextRef = node\n    };\n\n    getChatTextWrapperRef = (node) => {\n        this.chatTextWrapperRef = node\n    };\n\n    /**\n     * Add user from private chat to the favorite list\n     */\n    saveUser = () => {\n        let newList = {...this.props.likedList},\n            userId = this.props.interlocutorId;\n\n        if (newList[userId]) {\n            delete newList[userId];\n            this.props.changeLikedList(newList)\n        } else {\n            this.props.showPopUp('LIKE_INTERLOCUTOR')\n        }\n    };\n\n    /**\n     * Component unmounted from DOM\n     */\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.resizeHandler);\n        socket.chat.off('get interlocutor id')\n            .off('get public chat info')\n            .off('new user connected')\n            .off('liked message')\n            .off('deleted message')\n            .off('get private message')\n            .off('get public message')\n    }\n\n    /**\n     * Render MessagesWrapper component\n     */\n    render() {\n        const saveUserClassName = this.props.likedList[this.props.interlocutorId] ?\n            'action-secondary save-user saved' : 'action-secondary save-user';\n\n        return (\n            <div className='chat-text-wrapper'\n                 onScroll={this.getScrollHeight}\n                 onClick={this.toggleList}\n                 ref={this.getChatTextWrapperRef}>\n                <div className=\"actions-secondary\">\n                    <span className=\"action-secondary refresh\"\n                          title=\"шукати нового співрозмовника\"\n                          onClick={this.refreshChat}\n                    />\n                    {this.props.type === 'private' &&\n                    <React.Fragment>\n                        <span className='action-secondary saved-list users-list'\n                              title=\"зберегти співрозмовника\"\n                              onClick={(e) => {this.toggleList(e, true)}}\n                        />\n                        {this.props.isFull &&\n                        <span className={saveUserClassName}\n                              title=\"зберегти співрозмовника\"\n                              onClick={this.saveUser}\n                        />}\n                    </React.Fragment>}\n                    {this.props.type === 'public' &&\n                    <span className=\"action-secondary show-users users-list\"\n                          title=\"показати хто у чаті\"\n                          onClick={(e) => {this.toggleList(e, true)}}\n                    />}\n                </div>\n                <div className='chat-text' ref={this.getRef}>{this.state.messages}</div>\n                {this.props.type === 'public'\n                    ? <UsersList/>\n                    : <SavedList/>}\n                {this.state.newMessagesQty ?\n                    <span className=\"unread-messages-count\"\n                          onClick={() => {this.scrollToLastMessage(true)}}\n                          children={\"У вас \" + this.state.newMessagesQty + \" нових повідомлень\"}/> : false}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isFull                 : state.room.isFull,\n        isMobile               : state.app.isMobile,\n        newMessagesQty         : state.message.newMessagesQty,\n        chatPosition           : state.app.chatPosition,\n        userId                 : state.user.userId,\n        interlocutorId         : state.room.interlocutorId,\n        nick                   : state.user.nick,\n        fakeMessageData        : state.message.fakeMessageData,\n        isConnected            : state.app.isConnected,\n        room                   : state.room.roomName,\n        likedList              : state.user.likedList,\n        mutedList              : state.user.mutedList,\n        isNotificationsEnabled : state.app.isNotificationsEnabled\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Set set room is full\n         *\n         * @param isFull\n         */\n        setIsFull: (isFull) => {\n            dispatch(roomActions.setIsFull(isFull))\n        },\n\n        /**\n         * Add new image to gallery\n         *\n         * @param data\n         */\n        addImageToGallery: (data) => {\n            dispatch(galleryActions.addImageToGallery(data))\n        },\n\n        /**\n         * Show popup\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(popUpActions.showPopUp(type))\n        },\n\n        /**\n         * Set new messages qty in not active chat\n         *\n         * @param qty\n         */\n        setNewMessagesQty: (qty) => {\n            dispatch(messageActions.setNewMessagesQty(qty))\n        },\n\n        /**\n         * Like/dislike user\n         *\n         * @param list\n         */\n        changeLikedList: (list) => {\n            dispatch(userActions.changeLikedList(list))\n        },\n\n        /**\n         * Set interlocutor Public Id\n         *\n         * @param id\n         */\n        setInterlocutorId: (id) => {\n            dispatch(roomActions.setInterlocutorId(id))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MessagesWrapper)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport ChatToolbar from './ChatToolbar'\nimport Dropzone from 'react-dropzone'\nimport request from 'superagent'\nimport MessagesWrapper from '../smart/MessagesWrapper'\nimport socket from \"../../socket\";\nimport roomActions from \"../../actions/roomActions\";\nimport {connect} from \"react-redux\";\nimport messageActions from \"../../actions/messageActions\";\nimport popUpActions from \"../../actions/popUpActions\";\n\nconst CLOUDINARY_UPLOAD_PRESET = 'oddbpaek';\nconst CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/dfgkgr7ui/image/upload';\n\n/**\n * ChatWindow component\n */\nclass ChatWindow extends Component {\n    /**\n     * ChatWindow Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isTyping     : false,\n            uploadedFile : null,\n        };\n    }\n\n    /**\n     * Drop image in dropzone handler\n     *\n     * @param files\n     */\n    onImageDrop = (files) => {\n        if (files.length) {\n            this.setState({\n                uploadedFile: files[0],\n            });\n            this.props.setIsUploadedImage({type: this.props.type, isUploaded: true});\n            this.handleImageUpload(files[0]);\n        }\n    };\n\n    /**\n     * Select image to upload\n     *\n     * @param e\n     */\n    imageSelect = (e) => {\n        this.onImageDrop(e.target.files);\n        e.target.value = null\n    };\n\n    /**\n     * Image upload handler\n     *\n     * @param file\n     */\n    handleImageUpload = (file) => {\n        let type = this.props.type,\n            upload = request.post(CLOUDINARY_UPLOAD_URL)\n            .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n            .field('tags', 'chat')\n            .field('file', file);\n\n        upload.end((err, response) => {\n            if (err) {\n                this.removeImagePreview();\n                this.props.showPopUp('IMAGE_UPLOADING_ERROR');\n            } else if (response.body.secure_url !== '') {\n                this.props.setImageUrl({type, imageUrl: response.body.secure_url});\n                this.props.setImagePublicId({type, id: response.body.public_id});\n            }\n        });\n    };\n\n    /**\n     * Remove image preview\n     */\n    removeImagePreview = () => {\n        this.props.setIsUploadedImage({type: this.props.type, isUploaded: false});\n        this.deleteImage()\n    };\n\n    /**\n     * Delete image from cloud\n     */\n    deleteImage = () => {\n        this.props.setImageUrl({type: this.props.type, imageUrl: null});\n\n        socket.chat.emit(\n            'remove uploaded image',\n            this.props.type === 'public' ? this.props.publicImageId : this.props.privateImageId\n        )\n    };\n\n    /**\n     * Set preview image url from clipboard\n     *\n     * @param src\n     */\n    setPreviewImgUrl = (src) => {\n        this.props.setIsUploadedImage({type: this.props.type, isUploaded: true});\n        this.props.setImageUrl({type: this.props.type, imageUrl: src})\n    };\n\n    /**\n     * Render ChatWindow component\n     */\n    render() {\n        let chatClassName = 'chat-window ' + this.props.type;\n\n        return (\n            <Dropzone multiple={false}\n                      accept=\"image/*\"\n                      className={'chat-window ' + chatClassName}\n                      activeClassName=\"active\"\n                      style={{position: \"absolute\"}}\n                      disableClick={true}\n                      onDrop={this.onImageDrop.bind(this)}>\n                <MessagesWrapper type={this.props.type} ssr={this.props.ssr}/>\n                <ChatToolbar type={this.props.type}\n                             removeImagePreview={this.removeImagePreview}\n                             imageSelect={this.imageSelect}\n                />\n            </Dropzone>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        publicImageId  : state.message.public.imagePublicId,\n        privateImageId : state.message.private.imagePublicId\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Set set room is full\n         *\n         * @param isFull\n         */\n        setIsFull: (isFull) => {\n            dispatch(roomActions.setIsFull(isFull))\n        },\n\n        /**\n         * Set uploaded image url\n         *\n         * @param url\n         */\n        setImageUrl: (url) => {\n            dispatch(messageActions.setImageUrl(url))\n        },\n\n        /**\n         * Show popup\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(popUpActions.showPopUp(type))\n        },\n\n        /**\n         * Set image public id\n         *\n         * @param id\n         */\n        setImagePublicId: (id) => {\n            dispatch(messageActions.setImagePublicId(id))\n        },\n\n        /**\n         * Set is uploaded image\n         *\n         * @param isUploaded\n         */\n        setIsUploadedImage: (isUploaded) => {\n            dispatch(messageActions.setIsUploadedImage(isUploaded))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatWindow)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\nimport galleryActions from \"../../actions/galleryActions\";\nimport {connect} from \"react-redux\";\n\n/**\n * Gallery component\n *\n * @param props\n\n * @returns {*}\n * @constructor\n */\nconst Gallery = (props) => {\n    const type = props.gallery.activeType,\n          gallery = props.gallery[type].images,\n          activeImageIndex = props.gallery[type].activeIndex;\n\n    const showPrevImage = () => {\n        if (activeImageIndex > 0) {\n            props.setActiveIndex({type, activeIndex: activeImageIndex - 1});\n        }\n    };\n\n    const showNextImage = () => {\n        if (activeImageIndex < gallery.length -1) {\n            props.setActiveIndex({type, activeIndex: activeImageIndex + 1});\n        }\n    };\n\n    return (\n        <div className=\"image-gallery\">\n            <span className=\"close close-gallery\" onClick={props.hideGallery}/>\n            {(gallery.length > 1 && activeImageIndex !== 0) &&\n            <span\n                title=\"попереднє зображення\"\n                className=\"gallery-link prev\"\n                onClick={showPrevImage}/>}\n            {activeImageIndex !== null ?\n                <img src={gallery[activeImageIndex]} alt=\"\"/> :\n                <span className=\"loader\"/>}\n            {(gallery.length > 1 && activeImageIndex < gallery.length - 1) &&\n            <span\n                title=\"наступне зображення\"\n                className=\"gallery-link next\"\n                onClick={showNextImage}/>}\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        gallery: state.gallery\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Hide image gallery\n         */\n        hideGallery: () => {\n            dispatch(galleryActions.setGalleryVisibility(false))\n        },\n\n        setActiveIndex: (data) => {\n            dispatch(galleryActions.setActiveIndex(data))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Gallery)\n\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport ChatWindow from \"../smart/ChatWindow\";\nimport socket from \"../../socket\";\nimport  { Redirect } from 'react-router-dom'\nimport {connect} from \"react-redux\";\nimport appActions from \"../../actions/appActions\";\nimport userActions from \"../../actions/userActions\";\nimport messageActions from \"../../actions/messageActions\";\nimport Gallery from \"./Gallery\";\nimport {Helmet} from \"react-helmet\";\n\n/**\n * Chat page component\n */\nclass Chat extends Component {\n    constructor(props) {\n        super(props);\n\n        if (!props.ssr) {\n            const gender = localStorage.getItem('gender');\n\n            if (!props.gender && gender) {\n                props.setGender(gender)\n            }\n        }\n\n        this.state = {\n            minSwipeLength : 60,// Minimal length needed for swipe (px)\n            touchPosition  : 0,\n            prevPosition   : 0,\n            swipeDistance  : 0\n        };\n    }\n\n    /**\n     * ComponentDidMount\n     */\n    componentDidMount() {\n        let nick = localStorage.getItem('nickName');\n\n        this.props.setIsInChat(true);\n        this.props.setRedirectionStatus(false);\n\n        if (!this.props.publicColor) {\n            this.props.setPublicColor()\n        }\n\n        if (nick && !this.props.nick) {\n            socket.setNick(nick);\n        }\n\n        if (!this.props.room) {\n            socket.joinChat()\n        }\n\n        socket.updateUsersList();\n\n        window.addEventListener('beforeunload', this.onBeforeUnload, false);\n        socket.subscribeJoinRoom()\n    }\n\n    onBeforeUnload = () => {\n        return \"Усю переписку буде втрачено. Ви справді бажаєте покинути чат?\";\n    };\n\n    /**\n     * Detect first touch on chat screen\n     *\n     * @param e\n     */\n    handleTouchStart = (e) => {\n        this.setState({\n            prevPosition: this.props.chatPosition,\n            touchStartPosition: e.nativeEvent.touches[0].clientX,\n            swipeDistance: 0\n        })\n    };\n\n    /**\n     * Detect swipe on chat screen\n     *\n     * @param e\n     */\n    handleSwipe = (e) => {\n        let position,\n            prevPosition   = this.state.prevPosition,\n            minSwipeLength = this.state.minSwipeLength,\n            swipeDistance  = -(this.state.touchStartPosition - e.nativeEvent.touches[0].clientX);\n\n        if (prevPosition === 0 && swipeDistance < -minSwipeLength) {\n            position = swipeDistance\n        } else if (prevPosition === -window.innerWidth && swipeDistance > minSwipeLength) {\n            position = prevPosition + swipeDistance\n        } else {\n            return\n        }\n\n        this.setState({\n            swipeDistance: swipeDistance\n        });\n\n        this.props.setChatPosition(position)\n    };\n\n    /**\n     * Detect end of swipe\n     */\n    handleTouchStop = () => {\n        if (!this.state.swipeDistance) {\n            return\n        }\n\n        let position;\n\n        if (this.state.prevPosition !== -window.innerWidth &&  this.props.chatPosition < -this.state.minSwipeLength) {\n            position = -window.innerWidth;\n            this.props.clearNewMessagesQty()\n        } else if (this.props.chatPosition > -window.innerWidth + this.state.minSwipeLength) {\n            position = 0;\n            this.props.clearNewMessagesQty()\n        } else {\n            position = this.state.prevPosition\n        }\n\n        this.props.setChatPosition(position);\n    };\n\n    /**\n     * ComponentWillUnmount\n     */\n    componentWillUnmount() {\n        this.props.setIsInChat(false);\n\n        window.removeEventListener('beforeunload', this.onBeforeUnload);\n\n        if (this.props.room) {\n            socket.leaveChat()\n        }\n\n        socket.chat.off('joined room');\n        this.props.clearAllUsersList()\n    }\n\n    /**\n     * Render component\n     *\n     * @returns {*}\n     */\n    render() {\n        let title = 'Invischat - Анонімний Чат',\n            description = 'Invischat - Анонімний чат з випадковим співрозмовником та форум зізнань',\n            keywords = 'чат, анонімний чат, lfyou, знайомства, чат знайомства в україні, знакомства, некто, чат онлайн, chat, шукаю тебе, анонімний чат тз, тз, шт, анонімний чат іф, зізнання, anonumous chat, чат невидимки, Invischat, анонімний чат, знайомства, шукаю тебе';\n\n        if (!this.props.ssr) {\n            if (!localStorage.getItem('gender')) {\n                return <Redirect to='/'/>\n            }\n        }\n\n        return (\n            <div id='chat' className='chat-content'>\n                <div className='chat-wrapper'>\n                    <div className='chat-windows'\n                         onTouchMove={!this.props.isMobile ? this.handleSwipe : () => {}}\n                         onTouchStart={!this.props.isMobile ? this.handleTouchStart : () => {}}\n                         onTouchEnd={!this.props.isMobile ? this.handleTouchStop : () => {}}\n                         style={!this.props.isMobile ? {left: this.props.chatPosition + \"px\", transition: \"linear .1s\"} : {}}>\n                        <ChatWindow type='private' ssr={this.props.ssr}/>\n                        <ChatWindow type='public' ssr={this.props.ssr}/>\n                        {this.props.isGalleryActive && <Gallery/>}\n                    </div>\n                </div>\n                <Helmet\n                    title={title}\n                    meta={[\n                        {\n                            name: 'description',\n                            content: description,\n                        },\n                        {\n                            name: 'keywords',\n                            content: keywords,\n                        }\n                    ]}\n                />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        chatPosition    : state.app.chatPosition,\n        publicColor     : state.message.publicColor,\n        isGalleryActive : state.gallery.isActive,\n        gender          : state.user.gender,\n        allUsersList    : state.user.allUsersList,\n        userId          : state.user.userId,\n        newMessagesQty  : state.message.newMessagesQty,\n        room            : state.room.roomName,\n        nick            : state.user.nick\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Set active chat position\n         *\n         * @param position\n         */\n        setChatPosition: (position) => {\n            dispatch(appActions.setChatPosition(position));\n        },\n\n        /**\n         * Clear all users List\n         */\n        clearAllUsersList: () => {\n            dispatch(userActions.setAllUsersList({}));\n        },\n\n        /**\n         * Clear new messages qty\n         */\n        clearNewMessagesQty: () => {\n            dispatch(messageActions.setNewMessagesQty(0))\n        },\n\n        /**\n         * Set public messages color\n         */\n        setPublicColor: () => {\n            dispatch(messageActions.setPublicColor())\n        },\n\n        /**\n         * Set is user in chat\n         *\n         * @param isInChat\n         */\n        setIsInChat: (isInChat) => {\n            dispatch(appActions.setIsInChat(isInChat))\n        },\n\n        /**\n         * Set user nickName\n         *\n         * @param nick\n         */\n        setNick: (nick) => {\n            dispatch(userActions.setNick(nick))\n        },\n\n        /**\n         * Set user gender\n         *\n         * @param gender\n         */\n        setGender: (gender) => {\n            dispatch(userActions.setGender(gender))\n        },\n\n        /**\n         *\n         * Set redirection status\n         *\n         * @param isNeedRedirect\n         */\n        setRedirectionStatus: (isNeedRedirect) => {\n            dispatch(appActions.setRedirectionStatus(isNeedRedirect))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat)\n","import React, { useState, useEffect } from 'react'\nimport socket from \"../../socket\";\n\n/**\n * Rich snippet component\n *\n * @param props\n *\n * @returns {*}\n * @constructor\n */\nfunction RatingSnippet(props) {\n    const [rating, setRating] = useState(props.rating);\n\n    useEffect(() => {\n        socket.chat.off('get rating').on('get rating', (rating) => {\n            setRating(rating)\n        })\n    });\n\n    if (!rating) {\n        return <div/>\n    }\n\n    let i = rating.average,\n        average = parseFloat(i).toFixed(1),\n        starsClassAdditional;\n\n    if (i > 1 && i < 2) {\n        starsClassAdditional = 1.5\n    } else if (i > 2 && i < 3) {\n        starsClassAdditional = 2.5\n    } else if (i > 3 && i < 4) {\n        starsClassAdditional = 3.5\n    } else if (i > 4 && i < 5) {\n        starsClassAdditional = 4.5\n    } else {\n        starsClassAdditional = Math.ceil(i);\n        average = starsClassAdditional\n    }\n\n    let ratingStarsClassName = rating\n            ? \"rating-stars stars-\" + starsClassAdditional.toString(10).replace('.', '-')\n            : 'rating-stars';\n\n    return (\n        <div>\n            <div itemScope itemType=\"https://schema.org/WebSite\">\n                <div style={{display: \"none\"}} itemProp=\"aggregateRating\" itemScope\n                     itemType=\"https://schema.org/AggregateRating\">\n                    <meta itemProp=\"bestRating\" content=\"5\"/>\n                    <meta itemProp=\"worstRating\" content=\"1\"/>\n                    <meta itemProp=\"ratingValue\" content={average}/>\n                    <meta itemProp=\"ratingCount\" content={rating.ratesQty}/>\n                </div>\n                <div className='app=rating'>\n                    <div className=\"rating-summary\">\n                        {average + '/5 (' + rating.ratesQty + ')'}\n                    </div>\n                    <ul className={ratingStarsClassName}>\n                        <li className='rating-star'/>\n                        <li className='rating-star'/>\n                        <li className='rating-star'/>\n                        <li className='rating-star'/>\n                        <li className='rating-star'/>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default RatingSnippet\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\nimport RatingSnippet from './RatingSnippet'\n\n/**\n * Footer component\n *\n * @returns {*}\n * @constructor\n */\nconst Footer = ({rating}) => {\n    return (\n        <footer>\n            <RatingSnippet rating={rating}/>\n            <div className=\"fb-like\" data-href=\"https://www.invischat.com\" data-layout=\"button_count\" data-action=\"like\"\n                 data-size=\"small\" data-show-faces=\"false\" data-share=\"false\">Like</div>\n        </footer>\n    )\n};\n\nexport default Footer\n","/**\n * @author Yuriy Matviyuk\n */\nimport appActions from '../../actions/appActions'\nimport React from 'react'\nimport {connect} from 'react-redux'\nimport {Helmet} from \"react-helmet\"\nimport {NavLink} from 'react-router-dom'\nimport messageActions from \"../../actions/messageActions\";\nimport socket from \"../../socket\";\nimport popUpActions from \"../../actions/popUpActions\";\nimport userActions from \"../../actions/userActions\";\n\n/**\n * Header component\n * @param props\n * @returns {*}\n * @constructor\n */\nconst Header = (props) => {\n    if (!socket.chat){\n        socket.connect();\n    }\n\n    let burgerClassName = props.isNavActive\n            ? 'action menu-burger active'\n            : 'action menu-burger',\n        chatSwitchClassName = props.unreadMessagesCount\n            ? 'action chat-switch unread'\n            : 'action chat-switch',\n        themeSwitchClassName = props.theme === 'dark'\n            ? 'action theme-switch dark'\n            : 'action theme-switch',\n        loginClassName = props.isLoggedIn\n            ? 'action logout'\n            : 'action login',\n        notificationsSwitchClassName = props.isNotificationsEnabled\n            ? 'action notifications-switch'\n            : 'action notifications-switch active';\n\n    const toggleSettings = (e) => {\n        e.target.classList.toggle('active')\n    };\n\n    return (\n        <header>\n            <NavLink exact={true} to='/' className='logo'>\n                <h1>Invischat</h1>\n            </NavLink>\n            <div className='actions'>\n                <span className=\"action now-online\"\n                      title=\"now online\">{props.onlineCount}\n                </span>\n                <span className='action settings' onClick={toggleSettings}>\n                    <span className=\"settings-wrapper\">\n                        <span className={notificationsSwitchClassName}\n                              onClick={props.changeNotifications}\n                              title='on/off notifications'\n                        />\n                        <span className={themeSwitchClassName}\n                              onClick={props.setTheme}\n                              title='change theme'\n                        />\n                    </span>\n                </span>\n                {props.isInChat && props.isMobile && <span className={chatSwitchClassName}\n                      onClick={props.changeChatPosition}\n                      title='switch chat'\n                      children={props.newMessagesQty ?\n                          <span className='new-qty'>{props.newMessagesQty}</span> : false}\n                />}\n                <span className={loginClassName}\n                      title={props.isLoggedIn ? 'вийти з аккаунта' : 'увійти в аккаунт'}\n                      onClick={props.isLoggedIn ? props.logOut : props.logIn}\n                />\n                <span className={burgerClassName}\n                      onClick={props.toggleMenu}\n                      title='show menu'>\n                </span>\n            </div>\n            <Helmet>\n                <meta name=\"theme-color\" content={props.theme === 'dark' ? '#2F2F2F' : '#FFFFFF'} />\n                {!props.ssr && window.location.href !== 'https://www.invischat.com'\n                    && <link rel=\"canonical\" href=\"https://www.invischat.com\"/>}\n            </Helmet>\n        </header>\n    )\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        chatPosition           : state.app.chatPosition,\n        isMobile               : state.app.isMobile,\n        isInChat               : state.app.isInChat,\n        isLoggedIn             : state.user.isLoggedIn,\n        isNavActive            : state.app.isNavActive,\n        isNotificationsEnabled : state.app.isNotificationsEnabled,\n        newMessagesQty         : state.message.newMessagesQty,\n        onlineCount            : state.app.onlineCount,\n        theme                  : state.app.theme,\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Toggle menu\n         */\n        toggleMenu: () => {\n            dispatch(appActions.toggleMenu())\n        },\n\n        /**\n         * Set Chat Theme\n         */\n        setTheme: () => {\n            dispatch(appActions.setTheme())\n        },\n\n        /**\n         * Switch between chat windows\n         */\n        changeChatPosition: () => {\n            dispatch(appActions.setChatPosition());\n            dispatch(messageActions.setNewMessagesQty(0))\n        },\n\n        /**\n         * LogOut\n         */\n        logOut: () => {\n            dispatch(popUpActions.showPopUp('LOGOUT'));\n            dispatch(userActions.logOut())\n        },\n\n        /**\n         * Login\n         */\n        logIn: () => {\n            dispatch(popUpActions.showPopUp('LOGIN'));\n        },\n\n        /**\n         * On/off notifications\n         */\n        changeNotifications: () => {\n            dispatch(appActions.changeNotifications())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\nimport  { Redirect } from 'react-router-dom'\nimport {Helmet} from \"react-helmet\"\nimport userActions from '../../actions/userActions'\nimport {connect} from 'react-redux'\nimport {NavLink} from 'react-router-dom'\n\n/**\n * Home component\n *\n * @param props\n *\n * @returns {*}\n * @constructor\n */\nconst Home = (props) => {\n    let title = 'Invischat - Анонімний Чат | Анонімний Форум',\n        description = 'Анонімний чат з випадковим співрозмовником і форум \"Зізнання\". Знайомства та спілкування. Відкрий душу, не втративши гідності',\n        keywords = 'чат, анонімний чат, форум, lfyou, знайомства, чат знайомства в україні, знакомства, некто, чат онлайн, chat, шукаю тебе, анонімний чат тз, тз, шт, анонімний чат іф, зізнання, анонімний форум, anonumous chat, чат невидимки, Invischat, анонімний чат, типове зізнання, шукаю тебе';\n\n    if (!props.ssr) {\n        const gender = localStorage && localStorage.getItem('gender');\n\n        if (gender && props.isNeedRedirect) {\n            props.setGender(gender);\n            return <Redirect to='/chat'/>\n        }\n    }\n\n    return (\n        <div className='page-content home'>\n            <Helmet\n                title={title}\n                meta={[\n                    {\n                        name: 'description',\n                        content: description,\n                    },\n                    {\n                        name: 'keywords',\n                        content: keywords,\n                    }\n                ]}\n            />\n            <div className='main-logo'>\n                <img src='/images/logo.png' alt='Invischat'/>\n            </div>\n            <div className='gender-hint'>Обери свою стать:</div>\n            <div className='gender-fieldset'>\n                <NavLink className='gender female'\n                         aria-label=\"Invischat дівчина\"\n                         onClick={() => {props.setGender('female')}}\n                         to='/chat'>\n                    <img src='../../images/female.png' alt=''/>\n                </NavLink>\n                <NavLink className='gender male'\n                         aria-label=\"Invischat хлопець\"\n                         onClick={() => {props.setGender('male')}}\n                         to='/chat'>\n                    <img src='../../images/male.png' alt=''/>\n                </NavLink>\n            </div>\n        </div>\n    )\n};\n\n/**\n * Add redux states to component props\n *\n * @param state\n * @returns {{gender: null}}\n */\nconst mapStateToProps = (state) => {\n    return {\n        gender         : state.user.gender,\n        isNeedRedirect : state.app.isNeedRedirect\n    }\n};\n\n/**\n * Add redux actions to component props\n *\n * @param dispatch\n * @returns {{setGender: setGender}}\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Set user gender and connect to chat namespace\n         *\n         * @param gender\n         */\n        setGender: (gender) => {\n            dispatch(userActions.setGender(gender))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\nimport {NavLink} from \"react-router-dom\";\nimport appActions from \"../../actions/appActions\";\nimport {connect} from \"react-redux\";\n\n/**\n * Nav component\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst Nav = (props) => {\n    return (\n        <nav className=\"menu\">\n            <NavLink className=\"nav-link\" exact onClick={props.toggleMenu} to='/'>Головна</NavLink>\n            <NavLink className=\"nav-link\" onClick={props.toggleMenu} to='/chat'>Чат</NavLink>\n            <NavLink className=\"nav-link\" exact onClick={props.toggleMenu} to='/ziznannya'>Зізнання</NavLink>\n            <NavLink className=\"nav-link\" onClick={props.toggleMenu} to='/contact_us'>Написати Нам</NavLink>\n            <NavLink className=\"nav-link\" onClick={props.toggleMenu} to='/privacy_policy'>Політика <br/> Конфіденційності</NavLink>\n        </nav>\n    )\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        isNavActive: state.app.isNavActive\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Toggle menu\n         */\n        toggleMenu: () => {\n            dispatch(appActions.toggleMenu())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav)\n","import React, {Component} from 'react'\nimport socket from '../../socket'\n\n/**\n * Contact us component\n */\nclass ContactUs extends Component {\n    state = {\n        isEmptyText: false,\n        mailSendSuccess: false,\n        mailSendError: false,\n        emailWasSend: false\n    };\n\n    /**\n     * ComponentDidMount method\n     */\n    componentDidMount() {\n        socket.chat.off('email send error').on('email sending error', () => {\n            this.setState({\n                mailSendError: true\n            })\n        });\n\n        socket.chat.off('email send successfully').on('email send successfully', () => {\n            this.setState({\n                mailSendSuccess: true\n            })\n        });\n\n        window.addEventListener('resize', this.scrollBottom)\n    }\n\n    scrollBottom = () => {\n        this.pageRef.scrollTop = this.pageRef.scrollHeight\n    };\n\n    /**\n     * Get message field ref\n     *\n     * @param node\n     */\n    getTextareaRef = (node) => {\n        this.textArea = node;\n    };\n\n    /**\n     * Send mail method\n     */\n    sendMail = () => {\n        let message = this.textArea.value;\n\n        if (message) {\n            socket.chat.emit('send mail', message);\n            this.setState({\n                emailWasSend: true,\n                isEmptyText: false\n            });\n        } else {\n            this.setState({\n                isEmptyText: true\n            });\n        }\n    };\n\n    getPageRef = (node) => {\n        this.pageRef = node;\n    };\n\n    /**\n     * Render component method\n     *\n     * @returns {*}\n     */\n    render() {\n        return (\n            <div className=\"page-content\" ref={this.getPageRef}>\n                <h2 className='page-title'>Зв'язок із Нами</h2>\n                {this.state.emailWasSend ? this.state.mailSendSuccess ?\n                    <p>Лист успішно відправлено. Дякуємо за Ваш відгук!</p> :\n                    this.state.mailSendError ?\n                        <p>При відправленні листа сталася помилка. Будь ласка, спробуйте пізніше</p> :\n                        <div className=\"send-mail-loader\">\n                            <span className=\"sending-process-message\">Надсилаємо повідомлення...</span>\n                            <span className=\"loader\"/>\n                        </div> :\n                    <div>\n                        <p className='page-description'>\n                            Якщо ви помітили помилки в роботі сервісу можете повідомити нам деталі, щоб ми могли швидко їх\n                            їх усунути. <br/> Також у цій формі можна написати свої пропозиції щодо вдосконалення сервісу.\n                            Ми розглянемо усі варіанти. Можливо, саме Ваша ідея стане ключовою у розвитку ресурсу =)\n                        </p>\n                        {this.state.isEmptyText ? <p className=\"error\">Повідомлення не може бути пустим</p> : false}\n                        <textarea className=\"mail-text\"\n                                  placeholder=\"Введіть повідомлення...\"\n                                  autoFocus={true}\n                                  ref={this.getTextareaRef}\n                        />\n                        <div className=\"actions buttons\">\n                            <button className=\"button ok-button\" onClick={this.sendMail}>Надіслати</button>\n                        </div>\n                    </div>}\n            </div>\n        )\n    }\n}\n\nexport default ContactUs\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport socket from \"../../socket\";\nimport popUpActions from \"../../actions/popUpActions\";\nimport {connect} from \"react-redux\";\nimport userActions from \"../../actions/userActions\";\n\n/**\n * CreateNick component\n */\nclass CreateNick extends Component {\n    /**\n     * CreateNick Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            saveNick: false,\n            isInUse: false,\n            isValid : true\n        };\n    }\n\n    componentDidMount() {\n        socket.chat.on('checked nick', data => {\n            if (data.isInUse) {\n                return this.setState({\n                    isInUse: data.isInUse\n                })\n            }\n\n            if (this.state.saveNick) {\n                localStorage.setItem('nickName', data.nick)\n            } else if (localStorage.getItem('nickName')) {\n                localStorage.removeItem('nickName')\n            }\n\n            socket.setNick(data.nick);\n            this.setState({isValid: false});\n            this.props.hidePopUp();\n        })\n    }\n\n    /**\n     * Change need to save nick in localStorage\n     */\n    changeSavingStatus = () => {\n        this.setState({\n            saveNick: !this.state.saveNick\n        })\n    };\n\n    /**\n     * Accept creating nick name\n     *\n     * @returns {boolean}\n     */\n    acceptAction = () => {\n        let value = this.inputRef.value,\n            modKey = value.match(new RegExp(/(%m%)/));\n\n        if (modKey) {\n            this.props.setAsModerator();\n            value = value.replace(modKey[0], '')\n        }\n\n        if (value.length > 2 && value.length < 15) {\n            socket.chat.emit('check is nick exist', value);\n        } else {\n            this.setState({isValid: false});\n        }\n    };\n\n    /**\n     * Chack pressed button\n     *\n     * @param e\n     */\n    checkKey = (e) => {\n        this.setState({\n            isInUse: false\n        });\n\n        if(e.key === 'Enter'){\n            this.acceptAction();\n        }\n    };\n\n    /**\n     * Get input ref\n     *\n     * @param node\n     */\n    getInputRef = (node) => {\n        this.inputRef = node\n    };\n\n    /**\n     * Show login popup\n     */\n    showLoginForm = () => {\n        this.props.hidePopUp();\n        setTimeout(() => {this.props.showPopUp('LOGIN')}, 0);\n    };\n\n    componentWillUnmount() {\n        socket.chat.off('checked nick')\n    }\n\n    /**\n     * Render CreateNick component\n     */\n    render() {\n        let additionalClassName = this.state.saveNick ? 'pop-up-additional save' : 'pop-up-additional';\n\n        if (!this.state.isValid) {\n            additionalClassName+= ' invalid'\n        }\n\n        return (\n            <React.Fragment>\n                <div className=\"pop-up-text\">Щоб написати у загальний чат, придумайте нікнейм</div>\n                <div className={additionalClassName}>\n                    <input type='text'\n                           className='nick-input'\n                           autoFocus={true}\n                           ref={this.getInputRef}\n                           onKeyPress={this.checkKey}/>\n                    <label className={this.state.saveNick ? 'checkbox-label active' : 'checkbox-label'}>\n                        <input id='save_nick' type='checkbox' onChange={this.changeSavingStatus}/>\n                        <span>Запам'ятати цей нік</span>\n                    </label>\n                    {!this.state.isValid &&\n                        <p className=\"error\">Нікнейм повинен містити від 3 до 15 символів</p>}\n                    {this.state.isInUse\n                        && <p className=\"error\">\n                                Нікнейм зарезервований зареєєстрованим користувачем. Якщо це\n                                Ви, <button className='button ok-button authorise'\n                                            onClick={this.showLoginForm}>авторизуйтесь</button>\n                            </p>}\n                </div>\n                <div className=\"pop-up-actions\">\n                    <button className=\"button ok-button\" onClick={this.acceptAction}>ок</button>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = () => {\n    return {}\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Hide popup\n         */\n        hidePopUp: () => {\n            dispatch(popUpActions.hidePopUp())\n        },\n\n        /**\n         * Show popup\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(popUpActions.showPopUp(type))\n        },\n\n        /**\n         * Set user as Moderator\n         */\n        setAsModerator: () => {\n            localStorage.setItem('status', 'moderator');\n            dispatch(userActions.setAsModerator())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateNick)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {useState} from 'react'\nimport popUpActions from \"../../actions/popUpActions\";\nimport userActions from \"../../actions/userActions\";\nimport {connect} from \"react-redux\";\n\n/**\n * LikeInterlocutor component\n *\n * @param props\n\n * @returns {*}\n * @constructor\n */\nconst LikeInterlocutor = (props) => {\n    const [isValid, setIsValid] = useState(true);\n\n    let inputRef;\n    /**\n     * Accept creating nick name\n     *\n     * @returns {boolean}\n     */\n    const acceptAction = () => {\n        let value = inputRef.value.toString();\n\n        if (value.length && value.length <= 15) {\n            let newList = {...props.likedList},\n                userId = props.interlocutorId;\n\n            newList[userId] = {\n                nick: value,\n                userId,\n                socketId: props.allUsersList[userId].socketId\n            };\n\n            props.changeLikedList(newList);\n            props.hidePopUp();\n        } else {\n            setIsValid(false);\n        }\n    };\n\n    /**\n     * Chack pressed button\n     *\n     * @param e\n     */\n    const checkKey = (e) => {\n        if(e.key === 'Enter'){\n            acceptAction();\n        }\n    };\n\n    /**\n     * Get input ref\n     *\n     * @param node\n     */\n    const getInputRef = (node) => {\n        inputRef = node\n    };\n\n    let additionalClassName = isValid ? 'pop-up-additional ' : 'pop-up-additional invalid';\n\n    return (\n        <React.Fragment>\n            <div className=\"pop-up-text\">Введіть ім'я поточного співрозмовника під яким бажаєте зберегти\n                його до списку улюблених</div>\n            <div className={additionalClassName}>\n                <input type='text' autoFocus={true} ref={getInputRef} onKeyPress={checkKey}/>\n                {!isValid &&\n                <p className=\"error\">Ім'я не може бути пустим та довшим ніж 15 символів</p>}\n            </div>\n            <div className=\"pop-up-actions\">\n                <button className=\"button ok-button\" onClick={acceptAction}>ок</button>\n            </div>\n        </React.Fragment>\n    )\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        interlocutorId : state.room.interlocutorId,\n        allUsersList   : state.user.allUsersList,\n        likedList      : state.user.likedList\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Like/dislike user\n         *\n         * @param list\n         */\n        changeLikedList: (list) => {\n            dispatch(userActions.changeLikedList(list))\n        },\n\n        /**\n         * Hide popup\n         */\n        hidePopUp: () => {\n            dispatch(popUpActions.hidePopUp())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LikeInterlocutor)\n","import popUpActions from \"../../actions/popUpActions\"\nimport React, {Component} from 'react'\nimport socket from \"../../socket\"\nimport {connect} from \"react-redux\"\n\n/**\n * Rating component\n */\nclass Rating extends Component {\n    state = {\n        disabled: false,\n        tempRating: null,\n        rating: 5\n    };\n\n    /**\n     * Rate\n     * \n     * @param rating\n     */\n    rate = (rating) => {\n        this.setState({\n            rating: rating,\n            tempRating: rating\n        });\n    };\n\n    /**\n     * Star over method\n     *\n     * @param rating\n     */\n    starOver = (rating) => {\n        this.setState({\n            tempRating: this.state.rating,\n            rating: rating\n        });\n    };\n\n    /**\n     * Star out method\n     */\n    starOut = () => {\n        this.setState({\n            rating: this.state.rating\n        });\n    };\n\n    /**\n     * Send rate method\n     */\n    sendRate = () => {\n        socket.chat.emit('chat rate', this.state.rating);\n        localStorage.setItem('rating', this.state.rating);\n        return this.props.hidePopUp();\n    };\n\n    /**\n     * Render component method\n     *\n     * @returns {*}\n     */\n    render() {\n        var stars = [];\n\n        for(var i = 1; i < 6; i++) {\n            var className = 'star-rating__star';\n\n            if (this.state.rating >= i && this.state.rating != null) {\n                className += ' is-selected';\n            }\n\n            stars.push(\n                <label  className={className}\n                        key={i}\n                        onClick={this.rate.bind(this, i)}\n                        onMouseOver={this.starOver.bind(this, i)}\n                        onMouseOut={this.starOut}>\n                    ★\n                </label>\n            );\n        }\n\n        return (\n            <React.Fragment>\n                <div className=\"pop-up-text\">\n                    Ви уже провели тривалиий час у нашому чаті. Пропонуємо оцінити на скільки він Вам сподобався\n                    або не сподобався. Ваша думка важлива для нас!\n                </div>\n                <p className='pop-up-stars'>{stars}</p>\n                <div className=\"pop-up-actions\">\n                    <button className=\"button ok-button\" onClick={this.sendRate}>Оцінити</button>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = () => {\n    return {}\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Hide popup\n         */\n        hidePopUp: () => {\n            dispatch(popUpActions.hidePopUp())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Rating)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport socket from \"../../socket\";\nimport popUpActions from \"../../actions/popUpActions\";\nimport {connect} from \"react-redux\";\nimport userActions from \"../../actions/userActions\";\n\n/**\n * Login component\n */\nclass Login extends Component {\n    /**\n     * Login Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            nick: null,\n            password: null,\n            repeatedPass: null,\n            nickError: false,\n            passError: false,\n            repeatPassError: false,\n            isSave: true,\n            type: null\n        };\n    }\n\n    /**\n     * Component was mounted in DOM\n     */\n    componentDidMount() {\n        socket.chat.off('login response').on('login response', (data) => {\n            if (data.nickExist) {\n                this.setState({nickError: 'Користувач з таким логіном уже зареєстрований'})\n            } else if (data.invalid) {\n                this.setState({passError: 'Невірний логін або пароль'})\n            } else {\n                this.props.setAsLoggedIn(data);\n\n                if (this.state.isSave) {\n                    localStorage.setItem('credentials', JSON.stringify({nick: data.nick, password: data.password}))\n                }\n            }\n        })\n    }\n\n    /**\n     * Check nick\n     *\n     * @param e\n     *\n     * @returns {*}\n     */\n    checkNick = (e) => {\n        if (this.state.type === 'logIn') {\n            return this.setState({\n                nick: e.target.value,\n                nickError: false\n            });\n        }\n\n        let nick = e.target.value;\n\n        if (nick.length >= 3 && nick.length <= 15) {\n            return this.setState({\n                nick,\n                nickError: false\n            });\n        }\n\n        this.setState({\n            nickError: 'Логін повинен містити від 3 до 15 символів',\n            isInvalidNick: true\n        })\n    };\n\n    /**\n     * Check is password correct\n     *\n     * @param e\n     */\n    checkPassword = (e) => {\n        const password = e.target.value;\n        let passError;\n\n        if (this.state.type === 'logIn') {\n            passError = false\n        } else if (password.length < 6) {\n            passError = 'Пароль повинен складатися мінімум з 6 символів'\n        } else if (password.match(new RegExp(/([А-я])/))) {\n            passError = 'Пароль не повинен містити кириличних символів'\n        } else if (password.match(new RegExp(/(\\s)/))) {\n            passError = 'Пароль не повинен містити пробілів'\n        } else if (!password.match(new RegExp(/([0-9])/))) {\n            passError = 'Пароль повинен містити хоча б одну цифру'\n        } else if (!password.match(new RegExp(/([A-Z])/))) {\n            passError = 'Пароль повинен містити хоча б одну велику літеру'\n        }\n\n        this.setState({passError, password})\n    };\n\n    /**\n     * Check is a repeated password is a same as password\n     *\n     * @param e\n     */\n    checkPasswordIsSame = (e) => {\n        const repeatedPass = e.target.value;\n        let repeatPassError = repeatedPass === this.state.password\n            ? false : 'Паролі не співпадають';\n\n        this.setState({repeatedPass, repeatPassError})\n    };\n\n    /**\n     * Submit log in\n     */\n    logIn = () => {\n        const nick = this.state.nick,\n              password = this.state.password;\n\n        if (!nick) {\n            return this.setState({nickError: 'Введіть логін'})\n        }\n\n        if (!password) {\n            return this.setState({passError: 'Введіть пароль'})\n        }\n\n        socket.chat.emit(\n            'login',\n            {\n                nick: this.state.nick,\n                password: this.state.password,\n                isNew: this.state.type === 'signIn'\n            }\n        );\n    };\n\n    /**\n     * Check is need auto login\n     */\n    changeIsSave = () => {\n        this.setState({\n            isSave: !this.state.isSave\n        })\n    };\n\n    componentWillUnmount() {\n        socket.chat.off('login response')\n    }\n\n    /**\n     * Render Login component\n     */\n    render() {\n        let type = this.state.type,\n            isValidForm = this.state.nickError || this.state.passError || this.state.repeatPassError;\n\n        if (this.props.isLoggedIn) {\n            return (\n                <React.Fragment>\n                    <div className=\"pop-up-text\">Ви успішно увійшли в аккаунт</div>\n                    <div className=\"pop-up-actions\">\n                        <button className=\"button ok-button\"\n                                onClick={this.props.hidePopUp}\n                                children={\"ок\"}/>\n                    </div>\n                </React.Fragment>\n            )\n        }\n\n        return (\n            <React.Fragment>\n                {!type\n                    ? <React.Fragment>\n                        <div className=\"pop-up-text\">\n                            {this.props.isInChat\n                                ? 'Увійдіть у свій обліковий запис або створіть новий'\n                                : 'Коментувати та оцінювати пости можуть лише авторизовані користувачі.'}\n                        </div>\n                        <div className=\"pop-up-actions\">\n                            <button className=\"button button-accept\"\n                                    onClick={() => {this.setState({type: 'logIn'})}}\n                                    children={\"вхід\"}/>\n                            <button className=\"button button-accept\"\n                                    onClick={() => {this.setState({type: 'signIn'})}}\n                                    children={\"реєстрація\"}/>\n                        </div>\n                    </React.Fragment>\n                    : <React.Fragment>\n                        <div className='pop-up-additional'>\n                            <div className='login-credentials'>\n                                <div className=\"field\">\n                                    <label className='label login' htmlFor='set_nick'/>\n                                    <input className='set-nick'\n                                           id='set_nick'\n                                           type='text'\n                                           placeholder='Логін'\n                                           autoFocus={true}\n                                           onChange={this.checkNick}/>\n                                    {this.state.nickError\n                                        ? <p className=\"error\">{this.state.nickError}</p>\n                                        : false}\n                                </div>\n                                <div className=\"field\">\n                                    <label className='label password' htmlFor='set_password'/>\n                                    <input className='set-password'\n                                           id='set_password'\n                                           placeholder='Пароль'\n                                           type='password'\n                                           onChange={this.checkPassword}/>\n                                    {this.state.passError\n                                        ? <p className=\"error\">{this.state.passError}</p>\n                                        : false}\n                                </div>\n                                {type === 'signIn'\n                                    && <div className=\"field\">\n                                        <label className='label password' htmlFor='repeat_password'/>\n                                        <input className='repeat-password'\n                                                  id='repeat_password'\n                                                  placeholder='Повторіть пароль'\n                                                  type='password'\n                                                  onChange={this.checkPasswordIsSame}/>\n                                    {this.state.repeatPassError\n                                        ? <p className=\"error\">{this.state.repeatPassError}</p>\n                                        : false}\n                                </div>}\n                            </div>\n                            <label className={this.state.isSave ? 'checkbox-label active' : 'checkbox-label'}>\n                                <input id='save_nick' type='checkbox' onChange={this.changeIsSave}/>\n                                <span>Запам'ятати мене</span>\n                            </label>\n                        </div>\n                        <div className=\"pop-up-actions\">\n                            <button className=\"button ok-button\"\n                                    onClick={this.logIn}\n                                    disabled={isValidForm}\n                                    children={\"увійти\"}/>\n                        </div>\n                    </React.Fragment>}\n            </React.Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isLoggedIn : state.user.isLoggedIn,\n        isInChat   : state.app.isInChat\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Hide popup\n         */\n        hidePopUp: () => {\n            dispatch(popUpActions.hidePopUp())\n        },\n\n        /**\n         * Set user as logged in\n         *\n         * @param data\n         */\n        setAsLoggedIn: (data) => {\n            dispatch(userActions.setAsLoggedIn(data))\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport CreateNick from './CreateNick'\nimport socket from '../../socket'\nimport {connect} from \"react-redux\"\nimport LikeInterlocutor from '../dumb/LikeInterlocutor'\nimport popUpActions from \"../../actions/popUpActions\"\nimport {Redirect} from 'react-router-dom'\nimport Rating from \"./Rating\";\nimport Login from \"./Login\";\n\n/**\n * PopUp component\n *\n * @param props\n *\n * @returns {*}\n * @constructor\n */\nclass PopUp extends Component {\n    /**\n     * PopUp Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            title         : '',\n            isModal       : false,\n            text          : '',\n            customContent : null\n        };\n    }\n\n    /**\n     * Component was mounted in DOM\n     */\n    componentDidMount() {\n        let state;\n\n        switch (this.props.type) {\n            case 'CREATE_NICK' :\n                state = {\n                    title         : 'Придумайте нікнейм',\n                    customContent : <CreateNick/>\n                };\n                break;\n            case 'RATE_APP' :\n                state = {\n                    title         : 'Оцініть чат',\n                    customContent : <Rating/>\n                };\n                break;\n            case 'PRIVATE_REQUEST' :\n                let sender = this.props.senderNick\n                    ? this.props.senderNick\n                    : 'Хтось із Ваших попередніх співрозмовників';\n\n                state = {\n                    title : 'Запит на приватний чат',\n                    text   : sender + ' пропонує перейти у приватний чат. Поточний приватний чат буде втрачено. Бажаєте перейти?',\n                    isModal: true\n                };\n                break;\n            case 'LIKE_INTERLOCUTOR' :\n                state = {\n                    title         : 'Зберегти співрозмовника',\n                    customContent : <LikeInterlocutor/>\n                };\n                break;\n            case 'LOGIN' :\n                state = {\n                    title         : 'Авторизація',\n                    customContent : <Login/>\n                };\n                break;\n            case 'LOGOUT' :\n                state = {\n                    title: 'Вихід з аккаунта',\n                    text: 'Ви успішно вийшли з аккаунта'\n                };\n                break;\n            case 'POST_ADDED' :\n                state = {\n                    title : 'Пост створено',\n                    text  : 'Ваш пост успішно створено та відправлено на перевірку, після якої, у ' +\n                        'разі позитивного рішення, він з\\'явиться у загальній стрічці'\n                };\n                break;\n            case 'PRIVATE_REQUEST_REJECTED' :\n                state = {\n                    title : 'Запит відхилено',\n                    text  : this.props.interlocutor + ' відмовився(-лась) переходти в приватний чат'\n                };\n                break;\n            case 'CAN_NOT_REFRESH' :\n                state = {\n                    title : 'Повторний пошук',\n                    text  : 'Неможливо розпочати новий пошук, оскільки ще триває попередній'\n                };\n                break;\n            case 'PRIVATE_REQUEST_ACCEPTED' :\n                state = {\n                    title : 'Запит прийнято',\n                    text  : 'Вас з\\'єднано з ' + this.props.interlocutor + '. Приємного спілкування!'\n                };\n                break;\n            case 'IMAGE_UPLOADING_ERROR' :\n                state = {\n                    title : 'Помилка завантаження',\n                    text  : 'На жаль, не вдалося завантажити зображення. Спробуйте, будь ласка пізніще'\n                };\n                break;\n            default:\n                state = {};\n        }\n\n        this.setState(state)\n    };\n\n    /**\n     * Accept modal action\n     */\n    accept = () => {\n        switch (this.props.type) {\n            case 'PRIVATE_REQUEST' :\n                this.acceptPrivateRequest();\n                break;\n            default:\n                return this.props.hidePopUp()\n        }\n\n        this.props.hidePopUp()\n    };\n\n    /**\n     * Reject modal action\n     *\n     * @returns {*|void|{type: string}}\n     */\n    reject = () => {\n        switch (this.props.type) {\n            case 'PRIVATE_REQUEST' :\n                this.rejectPrivateRequest();\n                break;\n            default:\n                return this.props.hidePopUp()\n        }\n\n        this.props.hidePopUp()\n    };\n\n    /**\n     * Accept request to private chat\n     *\n     * @returns {*}\n     */\n    acceptPrivateRequest = () => {\n        socket.chat.emit('accept private request', {\n            receiverNick : this.props.nick,\n            receiverId   : socket.chat.id,\n            senderId     : this.props.senderId,\n            senderNick   : this.props.senderNick,\n        });\n\n        if (!this.props.isInChat) {\n            return <Redirect to='/chat'/>\n        }\n    };\n\n    /**\n     * Reject private chat request\n     */\n    rejectPrivateRequest = () => {\n        socket.chat.emit('reject private request', {\n            senderId: this.props.senderId,\n            receiverNick: this.props.nick\n        })\n    };\n\n    /**\n     * Render component\n     *\n     * @returns {*}\n     */\n    render()\n    {\n        return (\n            <div className='pop-up-overlay'>\n                <div className=\"pop-up\">\n                    <div className=\"pop-up-title-wrapper\">\n                        <span className=\"pop-up-title\" children={this.state.title}/>\n                        <span className=\"pop-up-close\" onClick={this.props.hidePopUp}/>\n                    </div>\n                    {this.state.customContent\n                        ? this.state.customContent\n                        : <React.Fragment>\n                            <div className=\"pop-up-text\" children={this.state.text}/>\n                            <div className=\"pop-up-actions\">\n                                {this.state.isModal\n                                    ? <React.Fragment>\n                                        <button className=\"button button-reject\" onClick={this.reject}>ні</button>\n                                        <button className=\"button button-accept\" onClick={this.accept}>так</button>\n                                    </React.Fragment>\n                                    : <button className=\"button ok-button\" onClick={this.props.hidePopUp}>ок</button>}\n                            </div>\n                        </React.Fragment>}\n                </div>\n            </div>\n        )\n    }\n}\n\n/**\n * Add redux states to props\n *\n * @param state\n * @returns {{isInChat: boolean, nick: (popUpData.nick|{hasReject, additional, text, title, validation}|null), senderId: null, interlocutor: null, senderNick: null, type: *}}\n */\nconst mapStateToProps = (state) => {\n    return {\n        type         : state.popup.type,\n        isInChat     : state.app.isInChat,\n        senderNick   : state.user.senderNick,\n        interlocutor : state.user.interlocutorNick,\n        senderId     : state.user.senderId,\n        nick         : state.user.nick\n    }\n};\n\n/**\n * Add redux actions to props\n *\n * @param dispatch\n *\n * @returns {{hidePopUp: hidePopUp}}\n */\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Hide popup\n         */\n        hidePopUp: () => {\n            dispatch(popUpActions.hidePopUp())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PopUp)\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\n\n/**\n * PrivacyPolicy component\n *\n * @returns {*}\n * @constructor\n */\nconst PrivacyPolicy = () => {\n    return (\n        <div className=\"page-content privacy-policy\">\n            <h3>ПОЛІТИКА КОНФІДЕНЦІЙНОСТІ</h3>\n            <h4>1. Загальні положення</h4>\n            <p>\n                Цей документ описує політику конфіденційності для веб-додатку Invischat,\n                розміщеного за веб-адресою <a href=\"https://www.invischat.com\">https://www.invischat.com</a> (надалі – «Чат»).\n                У цьому документі роз’яснюється, які види інформації можуть бути зібрані\n                і оброблятися серверами Чату, хмарними сховищами та сторонніми сервісами,\n                що використовуються для коректної роботи Чату, та як може використовуватися ця інформація.\n            </p>\n            <p>\n                Даний документ не поширюється на веб-сайти, перехід на які здійснюється за\n                допомогою гіперпосилань, розміщених на сторінках Чату.\n            </p>\n\n            <h4>2. Автоматичний збір і обробка інформації</h4>\n            <p>\n                Для ведення аналітики відвідування та сеансів користувачів у Чаті з пристроїв\n                відвідувачів автоматично збирається і зберігається наступна інформація:\n            </p>\n            <ul>\n                <li>вид браузера та операційної системи;</li>\n                <li>дата і час відвідування Чату;</li>\n                <li>тривалість перебування на сторінках Чату;</li>\n                <li>регіон перебування та стать відвідувача;</li>\n                <li>переглянуті сторінки;</li>\n                <li>адреса та назва сайту або веб-додатку з якого був здійснений перехід на сторінки Чату.</li>\n                <li>інші дані, які ви надали компанії Google у обліковому записі Google</li>\n            </ul>\n            <h4>3. Анонімність</h4>\n            <p>\n                Чат не зобов’язує користувачів вводити жодну особисту інформацію, яку можна вважати\n                конфіденційною. Усі повідовмення зберігаються виключно\n                у браузері на термін рівнозначний тривалості браузерної сесії.<br/>\n                Текстовий вміст повідомлень жодним чином не фіксується й не зберігається на серверах Чату.\n                Усі графічні зображення, завантажені\n                безпосередньо з пристрою користувача, надсилаються для тимчасового зберігання на сторонній хмарний\n                сервіс <a href=\"https://cloudinary.com\">cloudinary.com</a> . Усі завантажені зображення\n                видаляються зі сховища з інтервалом 10 хвилин.\n            </p>\n            <h4>4. Використання плагінів соціальних мереж</h4>\n            <p>\n                Технічне оснащення сторінок Чату включає в себе плагіни соціальної мережі facebook.com,\n                керування якою відбувається зі штаб-квартири компанії Facebook Inc, розташованої в США,\n                штат Каліфорнія, Пало Альто, Авеню Каліфорнія 94304, вул.1601 (надалі «Facebook»).\n            </p>\n            <p>\n                Ці плагіни можуть бути кнопками «Like» або відповідно «Мені подобається», а також «Поширити»\n                в мережі Facebook. Плагін передаватиме на сервер Facebook дані про те, які саме наші\n                веб-сторінки Ви відвідали. Якщо Ви маєте обліковий запис на Facebook і Ви зайшли у\n                систему під своїм аккаунтом, під час відвідування нашої веб-сторінки Facebook пов'язуватиме\n                цю інформацію з Вашим аккаунтом.\n            </p>\n            <p>\n                У разі використання будь-яких функцій плагіна (наприклад, при натисканні кнопки\n                «Мені подобається» чи коментуванні), ця інформація також буде синхронізована з Вашим\n                аккаунтом на Facebook.\n            </p>\n            <p>\n                Більш детальну інформацію про збір та використання даних мережею Facebook, а також\n                про права і можливості захисту персональних даних в даному контексті можна знайти в\n                розділі про захист персональних даних на сайті Facebook.\n            </p>\n            <p>\n                Щоб уникнути зв'язку мережі Facebook з нашими веб-сторінками та подальшого зв’язку\n                даної інформації з Вашим аккаунтом, Вам потрібно вийти з облікового запису Facebook\n                перед відвідуванням наших веб-сторінок.\n            </p>\n            <h4>5. Відповідальність сторін</h4>\n            <p>\n                Чат надає ресурси для знайомства у інтернеті лише розважального характеру. Чат не\n                використовує засобів цензури для фільтрації текстового та графічного контенту відправленого\n                випадковим співрозмовником у Чаті, тому забороняється використання ресурсу дітьми,\n                що не досягли шістнадцятирічного віку. Відповідальність за вміст повідомлень несе виключно відправник.\n            </p>\n            <h4>6. Зміна ПОЛІТИКИ КОНФІДЕНЦІЙНОСТІ</h4>\n            <p>\n                Перебуваючи на сторінках Чату Ви автоматично погоджуєтеся з умовами конфіденційності,\n                передбаченими у даному документі та підтверджуєте, що погоджуєтеся з\n                тим, що дана ПОЛІТИКА КОНФІДЕНЦІЙНОСТІ може час від часу змінюватися. Зміни, що вносяться до ПОЛІТИКИ\n                КОНФІДЕНЦІЙНОСТІ, публікуються у Чаті.\n            </p>\n        </div>\n    )\n};\n\nexport default PrivacyPolicy\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport {Redirect, withRouter} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport request from \"superagent\";\nimport {Image, Transformation} from 'cloudinary-react';\nimport socket from \"../../socket\";\nimport popUpActions from \"../../actions/popUpActions\";\n\nconst CLOUDINARY_UPLOAD_PRESET = 'oddbpaek';\nconst CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/dfgkgr7ui/image/upload';\n\n/**\n * CreatePost component\n */\nclass CreatePost extends Component {\n    /**\n     * CreatePost Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            uploadedFile: null,\n            isAllowComments: true,\n            validationError: null,\n            imgPubId : null,\n            isAdded: false\n        };\n    }\n    \n    componentDidMount() {\n        socket.chat.off('post added').on('post added', () => {\n            this.setState({\n                isAdded: true\n            });\n\n            this.props.showPopUp('POST_ADDED');\n        });\n    }\n\n    /**\n     * Try to upload image\n     *\n     * @param file\n     */\n    handleImageUpload = (file) => {\n        let upload = request.post(CLOUDINARY_UPLOAD_URL)\n                .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n                .field('tags', 'post')\n                .field('folder', 'forum')\n                .field('file', file);\n\n        upload.end((err, response) => {\n            if (err) {\n                this.removePreview();\n                this.props.showPopUp('IMAGE_UPLOADING_ERROR');\n            } else if (response.body.secure_url !== '') {\n                this.setState({\n                    imgPubId: response.body.public_id\n                });\n            }\n        });\n    };\n\n    /**\n     * UChose image to upload\n     *\n     * @param e\n     */\n    uploadImage = (e) => {\n        const files = e.target.files;\n\n        if (files.length) {\n            this.setState({\n                uploadedFile: files[0],\n            });\n\n            this.handleImageUpload(files[0]);\n        }\n    };\n\n    /**\n     * Remove image\n     */\n    removePreview = () => {\n        this.setState({\n            uploadedFile: null,\n            imgPubId : null\n        })\n    };\n\n    /**\n     * Get textarea element\n     *\n     * @param node\n     */\n    getTextareaRef = (node) => {\n        this.textarea = node\n    };\n\n    /**\n     * Get input element\n     *\n     * @param node\n     */\n    getInputRef = (node) => {\n        this.input = node\n    };\n\n    /**\n     * Create post\n     */\n    addPost = () => {\n        let date = new Date(),\n            dd = date.getDate(),\n            mm = date.getMonth() + 1,\n            yyyy = date.getFullYear();\n\n        if (dd < 10) {\n            dd = '0' + dd;\n        }\n\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n\n        let fullDate = dd + '.' + mm + '.' + yyyy;\n\n        let postData = {\n            \"author\": this.props.isLoggedIn ? this.props.login : 'Гість',\n            \"authorId\": this.props.isLoggedIn ? this.props.userId : '23742386234',\n            \"isAllowComments\": this.state.isAllowComments,\n            \"title\": this.input.value,\n            \"text\": this.textarea.value,\n            \"image\": this.state.imgPubId,\n            \"date\": fullDate,\n            \"likesQty\": 0,\n            \"viewsQty\": 0,\n            \"comments\": []\n        };\n\n        socket.chat.emit('create post', postData);\n    };\n\n    /**\n     * Post title validation\n     *\n     * @param e\n     */\n    checkTitleLength = (e) => {\n        let soLong = e.target.value.length > 50;\n\n        this.setState({\n            validationError: soLong ? 'Заголовок не може бути довшим ніж 50 символів' : false\n        })\n    };\n\n    /**\n     * Allow/disallow comments\n     */\n    manageComments = () => {\n        this.setState({\n            isAllowComments: !this.state.isAllowComments\n        })\n    };\n\n    componentWillUnmount() {\n        socket.chat.off('post added');\n    }\n\n    /**\n     * Render CreatePost component\n     */\n    render() {\n        if (this.state.isAdded) {\n            return (<Redirect to='/ziznannya'/>)\n        }\n\n        return (\n            <div>\n                <h3>Створення нового поста</h3>\n                <div className='post-create-form'>\n                    <span className='post-create-label'>Заголовок:</span>\n                    <input className='post-create-title'\n                           type='text'\n                           onChange={this.checkTitleLength}\n                           ref={this.getInputRef}\n                    />\n                    <p className=\"error\">{this.state.validationError}</p>\n                    <span className='post-create-label'>Зображення:</span>\n                    <div className=\"post-image\">\n                        {this.state.uploadedFile\n                               ? this.state.imgPubId\n                                    ? <React.Fragment>\n                                        <span className='remove-preview' onClick={this.removePreview}/>\n                                        <Image cloudName='dfgkgr7ui' publicId={this.state.imgPubId}>\n                                            <Transformation height=\"120\" fetchFormat=\"auto\" width=\"120\" crop=\"fill\" />\n                                        </Image>\n                                    </React.Fragment>\n                                    : <span className=\"loader\"/>\n                            : <label className='action upload-post-image'\n                                   htmlFor='post_image'\n                                   title='завантажити зображення'>\n                                <input type='file'\n                                       className='upload-photo'\n                                       name='post_image'\n                                       id='post_image'\n                                       accept='image/*'\n                                       onChange={this.uploadImage}\n                                />\n                            </label>}\n                    </div>\n                    <span className='post-create-label'>Текст поста:</span>\n                    <textarea ref={this.getTextareaRef}/>\n                    <label className={this.state.isAllowComments ? 'checkbox-label' : 'checkbox-label active'}>\n                        <input type='checkbox' onChange={this.manageComments}/>\n                        <span>Заборонити коментування</span>\n                    </label>\n                    <div className=\"actions buttons\">\n                        <button className='button ok-button'\n                                disabled={this.state.validationError}\n                                onClick={this.addPost}>Опублікувати</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isLoggedIn : state.user.isLoggedIn,\n        nick       : state.user.nick,\n        login      : state.user.login,\n        userId     : state.user.userId\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Show popup\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(popUpActions.showPopUp(type))\n        }\n    }\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CreatePost))\n\n","/**\n * @author Yuriy Matviyuk\n */\nimport React from 'react'\n\n/**\n * Loader component\n *\n * @param props\n\n * @returns {*}\n * @constructor\n */\nconst Loader = ({text}) => {\n    return (\n            <div className='loading'>\n                <span className=\"loader\"/>\n                <p className=\"className\">{text}</p>\n            </div>\n    )\n};\n\nexport default Loader\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, { Component, Suspense, lazy } from 'react';\nimport {NavLink, withRouter} from \"react-router-dom\";\nimport Loader from \"../dumb/Loader\";\nimport {connect} from \"react-redux\";\n\nconst LazyPostPreview = lazy(() => import('../dumb/PostPreview'));\n\n/**\n * Posts component\n */\nclass Posts extends Component {\n    /**\n     * Posts Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            posts: [],\n            lastPostIndex: 0,\n            hasMore: true\n        };\n    }\n\n    componentDidMount() {\n        this.loadPosts();\n    }\n\n    scrollList = (e) => {\n        const listWrapper = e.target;\n\n        if (listWrapper.scrollHeight <= Math.ceil(listWrapper.scrollTop + listWrapper.clientHeight + 1) && this.state.hasMore) {\n            this.loadPosts()\n        }\n    };\n\n    loadPosts = () => {\n        let posts = this.props.posts,\n            postIds = Object.keys(posts).reverse(),\n            lastId = 0,\n            list = [];\n\n        if (posts && postIds.length) {\n            let counter = 0;\n\n            postIds.forEach((postId, index) => {\n                if (!posts.hasOwnProperty(postId) || postIds.indexOf(postId) <= this.state.lastPostId) {\n                    return\n                }\n\n                if (counter <= 4) {\n                    let postData = posts[postId];\n\n                    list.push(\n                        <Suspense key={postId} fallback={<Loader text='Пост завантажується...'/>}>\n                            <LazyPostPreview postId={postId} postData={postData}/>\n                        </Suspense>\n                    );\n\n                    counter++;\n                    lastId = postId;\n                } else {\n                    return false\n                }\n            });\n\n            let lastPostId = postIds.indexOf(lastId);\n\n            this.setState({\n                lastPostId,\n                posts: [...this.state.posts, ...list],\n                hasMore: lastPostId !== postIds.length - 1\n            })\n        }\n    };\n\n    /**\n     * Render Posts component\n     */\n    render() {\n        return (\n            <div className='posts-list'\n                 ref={node => this.listRef = node}\n                 onScroll={this.scrollList}>\n                <NavLink className='post-add' to='/ziznannya/new_post'/>\n                {this.state.posts}\n                {this.state.hasMore\n                    ? <Loader/>\n                    : <button className='button ok-button'\n                              onClick={() => this.listRef.scrollTo(0,0)}>\n                        На початок\n                </button>}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isLoggedIn: state.user.isLoggedIn\n    }\n};\n\nexport default withRouter(connect(mapStateToProps)(Posts))\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport socket from \"../../socket\";\nimport {Image, Transformation} from \"cloudinary-react\";\n\n/**\n * NewPosts component\n */\nclass NewPosts extends Component {\n    /**\n     * NewPosts Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            newPosts: null\n        };\n    }\n\n    componentDidMount() {\n        socket.chat.emit('fetch new posts');\n        socket.chat.on('get new posts', posts => {\n            let newPosts = {};\n\n            posts.forEach((post) => {\n                newPosts[post._id] = post\n            });\n\n            this.setState({newPosts})\n        })\n    }\n\n    /**\n     * Add or delete post\n     *\n     * @param e\n     * @param publish\n     */\n    managePost = (e, publish = true) => {\n        let newPosts = {...this.state.newPosts},\n            postId = e.target.dataset.postId,\n            post = newPosts[postId],\n            newPost = {...post, publish};\n\n        socket.chat.emit('add/delete post', newPost);\n\n        delete newPosts[postId];\n\n        this.setState({newPosts});\n    };\n\n    /**\n     * Render NewPosts component\n     */\n    render() {\n        let posts = this.state.newPosts,\n            list = [];\n\n        if (!posts) {\n            return 'Нових постів немає'\n        }\n\n        for (let id in posts) {\n            if (!posts.hasOwnProperty(id)) {\n                continue\n            }\n\n            let post = posts[id];\n\n            list.push(\n                <div className='new-post' key={id}>\n                    <h4>{posts.title}</h4>\n                    <Image cloudName='dfgkgr7ui' publicId={post.image} alt=''>\n                        <Transformation height=\"200\" fetchFormat=\"auto\" width=\"auto\" crop=\"scale\" />\n                    </Image>\n                    <p>{post.text}</p>\n                    <div className='new-post-actions'>\n                        <button type='button'\n                                onClick={(e) => this.managePost(e,false)}\n                                data-post-id={post._id}\n                                className='button button-reject'>Delete</button>\n                        <button type='button'\n                                onClick={(e) => this.managePost(e)}\n                                data-post-id={post._id}\n                                className='button button-accept'>Add</button>\n                    </div>\n                </div>\n            )\n        }\n\n        return (\n            <div className='new-posts-list'>\n                {list}\n            </div>\n        )\n    }\n}\n\nexport default NewPosts\n","/**\n * @author Yuriy Matviyuk\n */\nconst forumActions = {\n    /**\n     * Set all posts data\n     *\n     * @param posts\n     *\n     * @returns {{payload: *, type: string}}\n     */\n    setAllPostsData: (posts) => {\n        return {\n            type: 'SET_POSTS',\n            payload: posts\n        }\n    }\n};\n\nexport default forumActions;\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport {NavLink, withRouter} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport socket from \"../../socket\";\nimport forumActions from \"../../actions/forumActions\";\nimport popUpActions from \"../../actions/popUpActions\";\nimport Loader from \"../dumb/Loader\";\nimport {Image, Transformation} from 'cloudinary-react';\nimport userActions from \"../../actions/userActions\";\n\n/**\n * Post component\n */\nclass Post extends Component {\n    /**\n     * Post Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            comment: null\n        };\n    }\n\n    /**\n     * Component was mounted in DOM\n     */\n    componentDidMount() {\n        const postId = this.props.match.params.post_id.toString();\n\n        if (!this.props.postsData) {\n            socket.chat.emit('fetch posts')\n        } else {\n            socket.chat.emit('see post', postId);\n        }\n\n        socket.chat.on('get posts', (posts) => {\n            let postsData = {};\n\n            posts.forEach((post) => {\n                postsData[post.post_id] = post.post\n            });\n\n            this.props.setAllPostsData(postsData);\n            socket.chat.emit('see post', postId);\n        });\n\n        socket.chat.off('seen post').on('seen post', () => {\n            let postsData = {...this.props.postsData};\n            postsData[postId].viewsQty += 1;\n            this.props.setAllPostsData(postsData)\n        })\n    }\n\n    getTextareaRef = (node) => {\n        this.textarea = node;\n    };\n\n    setTextareaFocus = () => {\n        if (!this.props.isLoggedIn) {\n            return this.props.showPopUp('LOGIN')\n        }\n\n        this.textarea.focus()\n    };\n\n    /**\n     * Like post\n     */\n    likePost = () => {\n        if (!this.props.isLoggedIn) {\n            return this.props.showPopUp('LOGIN')\n        }\n\n        const postId = this.props.match.params.post_id;\n\n        let prevLikedList = this.props.likedPosts,\n            newLikedPostsList = {...prevLikedList},\n            postsData = {...this.props.postsData},\n            userId = this.props.userId,\n            isLike;\n\n        if (prevLikedList[postId]) {\n            isLike = false;\n            postsData[postId].likesQty -= 1;\n            delete newLikedPostsList[postId]\n        } else {\n            isLike = true;\n            postsData[postId].likesQty += 1;\n            newLikedPostsList[postId] = true\n        }\n\n        socket.chat.emit('like post', {userId, isLike, postId});\n\n        this.props.setAllPostsData(postsData);\n        this.props.likeDislikePost(newLikedPostsList)\n    };\n\n    addComment = () => {\n        let date = new Date(),\n            dd = date.getDate(),\n            mm = date.getMonth() + 1,\n            yyyy = date.getFullYear();\n\n        if (dd < 10) {\n            dd = '0' + dd;\n        }\n\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n\n        let fullDate = dd + '.' + mm + '.' + yyyy;\n\n        let data = {\n            text: this.state.comment,\n            author: this.props.login,\n            postId: this.props.match.params.post_id,\n            date: fullDate\n        };\n\n        socket.chat.emit('comment post', data);\n\n        this.textarea.value = ''\n    };\n\n    setCommentText = (e) => {\n        this.setState({\n            comment: e.target.value\n        })\n    };\n\n    componentWillUnmount() {\n        socket.chat.off('seen post')\n    }\n\n    /**\n     * Render Post component\n     */\n    render() {\n        if (!this.props.postsData) {\n            return (\n                <div className='loader-wrapper'>\n                    <Loader text='Пост завантажується, будь ласка, зачекайте...'/>\n                </div>\n            )\n        }\n\n        const postId = this.props.match.params.post_id,\n            postData = this.props.postsData[postId];\n\n        if (!postData) {\n            return (\n                <div className='post-not-found'>\n                    <h5>Пост не знайдено</h5>\n                    <p>Нажаль неможливо відобразити даний пост. Можливо його не існує або він був видалений</p>\n                    <NavLink exact to='/ziznannya'>Повернутися до стрічки</NavLink>\n                </div>\n            )\n        }\n\n        const postsIds = Object.keys(this.props.postsData),\n            commentsData = postData.comments,\n            likeBtnClassName = this.props.likedPosts[postId]\n                ? 'post-view-like liked' : 'post-view-like',\n            commentsQty = commentsData && (commentsData.length || 0),\n            comments = [];\n\n        if (commentsQty) {\n            commentsData.forEach((comment, id) => {\n                comments.push(\n                    <div className=\"post-comment\" key={id}>\n                        <div className=\"post-comment-text\">{comment.text}</div>\n                        <div className='post-comment-data'>\n                            <span className=\"post-comment-author\">{comment.author}</span>\n                            <span className=\"post-comment-date\">{comment.date}</span>\n                        </div>\n                    </div>\n                )\n            })\n        }\n\n        let prevPostId = parseInt(postId) + 1,\n            nextPostId = parseInt(postId) - 1,\n            hasPrevPost = postsIds.indexOf(prevPostId.toString(10)) !== -1,\n            hasNextPost = postsIds.indexOf(nextPostId.toString(10)) !== -1;\n        return (\n            <div className='post-view'>\n                <div className=\"post-toolbar\">\n                    <NavLink exact className=\"post-nav-link back\" to={'/ziznannya'}/>\n                    {hasPrevPost && <NavLink className='post-nav-link prev' to={'/ziznannya/' + prevPostId}/>}\n                    <span className={likeBtnClassName} onClick={this.likePost}/>\n                    {postData.isAllowComments && <span className=\"post-view-comment\" onClick={this.setTextareaFocus}/>}\n                    {hasNextPost && <NavLink className='post-nav-link next' to={'/ziznannya/' + nextPostId}/>}\n                </div>\n                <div className='post'>\n                    <h3 className='post-title'>{postData.title}</h3>\n                    {postData.image\n                        ? <div className=\"post-image-wrapper\">\n                            <Image cloudName='dfgkgr7ui' publicId={postData.image} alt=''>\n                                <Transformation height=\"400\" fetchFormat=\"auto\" width=\"auto\" crop=\"scale\" />\n                            </Image>\n                        </div> : false}\n                    <div className=\"post-text\">{postData.text}</div>\n                    <div className=\"post-additional\">\n                        <div className=\"post-publication-data\">\n                            <span className=\"post-author\">{postData.author}</span>\n                            <span className=\"post-date\">{postData.date}</span>\n                        </div>\n                        <div className='post-popularity-data'>\n                            <span className=\"post-views-qty\">{postData.viewsQty}</span>\n                            <span className=\"post-likes-qty\">{postData.likesQty}</span>\n                            <span className=\"post-comments-qty\">{commentsQty}</span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"post-comments\">\n                    <span className=\"post-comments-title\">{'Коментарі (' + commentsQty + ') :'}</span>\n                    <div className=\"post-comments-wrapper\">\n                        {comments.length\n                            ? comments\n                            : postData.isAllowComments\n                                && <p className='comments-message'>До даного поста ще немає коментарів</p>}\n                    </div>\n                </div>\n                {this.props.isLoggedIn && postData.isAllowComments\n                    && <div className=\"post-write-comment\">\n                        <span className=\"post-comments-title\">Написати коментар</span>\n                        <textarea ref={this.getTextareaRef} onChange={this.setCommentText}/>\n                        <div className=\"actions buttons\">\n                            <button className='button ok-button'\n                                    disabled={!this.state.comment}\n                                    onClick={this.addComment}>\n                                Відправити\n                            </button>\n                        </div>\n                    </div>}\n                {!postData.isAllowComments\n                    && <p className='comments-message'>Автор заборонив коментування запису</p>}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        postsData  : state.forum.postsData,\n        isLoggedIn : state.user.isLoggedIn,\n        likedPosts : state.user.likedPosts,\n        login      : state.user.login,\n        userId     : state.user.userId\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Set all posts data\n         *\n         * @param posts\n         */\n        setAllPostsData: (posts) => {\n            dispatch(forumActions.setAllPostsData(posts))\n        },\n\n        /**\n         * Change liked posts list\n         *\n         * @param list\n         */\n        likeDislikePost: (list) => {\n            dispatch(userActions.likeDislikePost(list))\n        },\n\n        /**\n         * Show popUp\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(popUpActions.showPopUp(type))\n        }\n    }\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Post))\n","/**\n * @author Yuriy Matviyuk\n */\nimport React, {Component} from 'react'\nimport {Switch, Route, withRouter} from \"react-router-dom\";\nimport CreatePost from './CreatePost';\nimport socket from \"../../socket\";\nimport Posts from \"./Posts\";\nimport NewPosts from \"./NewPosts\";\nimport Post from \"./Post\";\nimport {connect} from \"react-redux\";\nimport Loader from \"../dumb/Loader\";\nimport forumActions from \"../../actions/forumActions\";\nimport {Helmet} from \"react-helmet\";\n\n/**\n * Forum component\n */\nclass Forum extends Component {\n    /**\n     * Forum Constructor\n     *\n     * @param props\n     */\n    constructor(props) {\n        super(props);\n        \n        this.state = {};\n    }\n\n    componentDidMount() {\n        if (!this.props.postsData) {\n            socket.chat.emit('fetch posts')\n        }\n\n        socket.chat.on('get posts', (posts) => {\n            let postsData = {};\n\n            posts.forEach((post) => {\n                postsData[post.post_id] = post.post\n            });\n\n            this.props.setAllPostsData(postsData)\n        });\n\n        socket.chat.off('update post data').on('update post data', data => {\n            let newPostsData = {...this.props.postsData};\n\n            newPostsData[data.postId].comments.push(data);\n\n            this.props.setAllPostsData(newPostsData)\n        });\n    }\n\n    /**\n     * Render Forum component\n     */\n    render() {\n        let title = 'Анонімний Форум Зізнання',\n        description = 'Думки, історії, зізнання... Invischat - Відкрий душу, не втративши гідності',\n        keywords = 'форум, анонімний форум, зізнання, історії, зізнання ТЗ, зізнання ІФ, шукаю тебе, знакомства, некто, штт, зізнання, форум Львів, форум Тернопіль, Invischat';\n\n\n        return (\n            <div className='page-content forum'>\n                <Switch>\n                    <Route exact path='/ziznannya' render = {() => (\n                        this.props.postsData\n                            ? <Posts posts={this.props.postsData}/>\n                            : <div className='loader-wrapper'>\n                                <Loader text='Пости завантажуються, будь ласка, зачекайте...'/>\n                            </div>\n                        )}\n                    />\n                    <Route exact path='/ziznannya/new_post' component={CreatePost}/>\n                    <Route exact path='/ziznannya/new_posts_list' component={NewPosts}/>\n                    <Route path='/ziznannya/:post_id' component={Post}/>\n                </Switch>\n                <Helmet\n                    title={title}\n                    meta={[\n                        {\n                            name: 'description',\n                            content: description,\n                        },\n                        {\n                            name: 'keywords',\n                            content: keywords,\n                        }\n                    ]}\n                />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        postsData  : state.forum.postsData\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Set all posts data\n         *\n         * @param posts\n         */\n        setAllPostsData: (posts) => {\n            dispatch(forumActions.setAllPostsData(posts))\n        }\n    }\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Forum))\n","/**\n * @author Yuriy Matviyuk\n */\nimport Aside from './dumb/Aside'\nimport Chat from './dumb/Chat'\nimport Footer from './dumb/Footer'\nimport Header from './dumb/Header'\nimport Home from './dumb/Home'\nimport Nav from './dumb/Nav'\nimport ContactUs from './smart/ContactUs'\nimport PopUp from './smart/PopUp';\nimport PrivacyPolicy from './dumb/PrivacyPolicy'\nimport React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {Switch, Route, withRouter} from 'react-router-dom'\nimport socket from \"../socket\"\nimport appActions from \"../actions/appActions\"\nimport userActions from \"../actions/userActions\";\nimport popUpActions from \"../actions/popUpActions\";\nimport roomActions from \"../actions/roomActions\";\nimport messageActions from \"../actions/messageActions\";\nimport Forum from \"./smart/Forum\";\n\n/**\n * App component\n */\nclass App extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            mobileBreakpoint: 768\n        };\n    }\n\n    /**\n     * ComponentDidMount\n     */\n    componentDidMount() {\n        let credentials = localStorage.getItem('credentials');\n\n        if (credentials) {\n            socket.chat.emit('login', JSON.parse(credentials))\n        }\n\n        socket.chat.off('login response').on('login response', (data) => {\n            this.props.setAsLoggedIn(data);\n        });\n\n        if (localStorage.getItem('block')) {\n            this.props.setBanStatus(true)\n        }\n\n        if (localStorage.getItem('not_admin')) {\n            this.props.setAsNoAdmin()\n        }\n\n        this.detectDeviceType();\n        this.setTheme();\n\n        socket.subscribeUsersCount();\n\n        socket.chat.off('get private request').on('get private request', (data) => {\n            this.props.setPrivateRequestData({\n                senderNick: data.senderNick,\n                senderId: data.senderId\n            });\n\n            this.props.showPopUp('PRIVATE_REQUEST')\n        });\n\n        socket.chat.off('private request accepted').on('private request accepted', (data) => {\n            let interlocutor = data.interlocutor ? data.interlocutor : 'Загубленим співрозмовником';\n            socket.leaveRoom();\n\n            setTimeout(() => {\n                socket.chat.emit('join room', data.roomName);\n                this.props.joinRoom(data.roomName);\n                this.props.setIsFull(true);\n\n                if (this.props.isMobile && this.props.chatPosition !== 0) {\n                    this.props.switchToPrivate();\n                }\n\n                this.props.setInterlocutorNick(interlocutor);\n                this.props.showPopUp('PRIVATE_REQUEST_ACCEPTED');\n            }, 1)\n        });\n\n        socket.chat.off('private request rejected').on('private request rejected', (receiverNick) => {\n            this.props.setInterlocutorNick(receiverNick);\n            this.props.showPopUp('PRIVATE_REQUEST_REJECTED')\n        });\n\n        socket.chat.off('like').on('like', (isLiked) => {\n            this.props.setLikesCount(isLiked ? this.props.likesCount + 1 : this.props.likesCount - 1)\n        });\n\n        socket.chat.off('block').on('block', () => {\n            this.props.setBanStatus()\n        });\n\n        socket.chat.off('reconnect').on('reconnect', () => {\n            this.props.setConnectionStatus(true);\n\n            if (this.props.isInChat && !this.props.isFull && this.props.room) {\n                socket.reJoinRoom()\n            }\n        });\n\n        socket.chat.off('disconnect').on('disconnect', () => {\n            this.props.setConnectionStatus(false)\n        });\n\n        if (!localStorage.getItem('rating')) {\n            setTimeout(() => {return this.showRating()}, 600000);\n        }\n\n        window.addEventListener('click', (e) => {\n            if (!e.target.classList.contains('settings')) {\n                document.querySelector('.settings').classList.remove('active')\n            }\n        })\n    }\n\n    /**\n     * Check is need to change default theme\n     */\n    setTheme = () => {\n        if (localStorage.getItem('theme') === 'dark') {\n            this.props.setTheme('dark')\n        }\n    };\n\n    /**\n     * Show rating popup\n     */\n    showRating = () => {\n        return this.props.showPopUp('RATE_APP');\n    };\n\n    /**\n     * Detect device viewport width and subscribe to it changes\n     */\n    detectDeviceType = () => {\n        this.props.setDeviceType(window.innerWidth < this.state.mobileBreakpoint);\n\n        window.addEventListener(\"resize\", () => {\n            this.props.setDeviceType(window.innerWidth < this.state.mobileBreakpoint)\n        }, null);\n    };\n\n    /**\n   * Render App component\n   *\n   * @returns {*}\n   */\n    render() {\n        let wrapperClassName = this.props.theme === 'dark' ? 'page-wrapper dark' : 'page-wrapper';\n\n        return (\n            <div className={wrapperClassName}>\n                <Header ssr={this.props.ssr}/>\n                <div className='page-main-wrapper'>\n                    <Aside/>\n                    <Nav/>\n                    <main className={this.props.isNavActive ? 'nav-active' : ''}>\n                        <Switch>\n                            <Route path=\"/chat\" render={() => (<Chat ssr={this.props.ssr}/>)}/>\n                            <Route path=\"/ziznannya\" render={() => (<Forum ssr={this.props.ssr}/>)}/>\n                            <Route path=\"/privacy_policy\" component={PrivacyPolicy}/>\n                            <Route path=\"/contact_us\" component={ContactUs}/>\n                            <Route path=\"/\" render={() => (<Home ssr={this.props.ssr}/>)}/>\n                        </Switch>\n                    </main>\n                </div>\n                <Footer rating={this.props.rating}/>\n                {this.props.isPopUpShow && <PopUp/>}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isNavActive : state.app.isNavActive,\n        theme       : state.app.theme,\n        likesCount  : state.user.likesCount,\n        isInChat    : state.app.isInChat,\n        isFull      : state.room.isFull,\n        room        : state.room.roomName,\n        userId      : state.user.userId,\n        isMobile    : state.app.isMobile,\n        chatPosition: state.app.chatPosition,\n        isPopUpShow : state.popup.isPopUpShow\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        /**\n         * Change online users count\n         *\n         * @param count\n         */\n        changeOnlineCount: (count) => {\n            dispatch(appActions.changeOnlineCount(count))\n        },\n\n        /**\n         * Change design theme\n         *\n         * @param theme\n         */\n        setTheme: (theme) => {\n            dispatch(appActions.setTheme(theme))\n        },\n\n        /**\n         * Set likes count\n         *\n         * @param qty\n         */\n        setLikesCount: (qty) => {\n            dispatch(userActions.setLikesCount(qty))\n        },\n\n        /**\n         * Join private room\n         *\n         * @param room\n         */\n        joinRoom: (room) => {\n            dispatch(roomActions.joinRoom(room))\n        },\n\n        /**\n         * Set current interlocutor nick\n         *\n         * @param nick\n         */\n        setInterlocutorNick: (nick) => {\n            dispatch(userActions.setInterlocutorNick(nick))\n        },\n\n        /**\n         * Show popup\n         *\n         * @param type\n         */\n        showPopUp: (type) => {\n            dispatch(popUpActions.showPopUp(type))\n        },\n\n        /**\n         * Set sender request data\n         *\n         * @param data\n         */\n        setPrivateRequestData: (data) => {\n            dispatch(userActions.setPrivateRequestData(data))\n        },\n\n        /**\n         * Set device type\n         *\n         * @param isMobile\n         */\n        setDeviceType: (isMobile) => {\n            dispatch(appActions.setDeviceType(isMobile))\n        },\n\n        /**\n         * Switch to private window\n         */\n        switchToPrivate: () => {\n            dispatch(appActions.setChatPosition());\n            dispatch(messageActions.setNewMessagesQty(0))\n        },\n\n        /**\n         * Set user ban status\n         *\n         * @param isBlockForce\n         */\n        setBanStatus: (isBlockForce = false) => {\n            dispatch(userActions.setBanStatus(isBlockForce))\n        },\n\n        /**\n         * Set noadmin status\n         */\n        setAsNoAdmin: () => {\n            dispatch(userActions.setAsNoAdmin())\n        },\n\n        /**\n         * Set connection status\n         *\n         * @param isConnected\n         */\n        setConnectionStatus: (isConnected) => {\n            dispatch(appActions.setConnectionStatus(isConnected))\n        },\n\n        /**\n         * Set user as logged in\n         *\n         * @param data\n         */\n        setAsLoggedIn: (data) => {\n            dispatch(userActions.setAsLoggedIn(data))\n        },\n\n        /**\n         * Set set room is full\n         *\n         * @param isFull\n         */\n        setIsFull: (isFull) => {\n            dispatch(roomActions.setIsFull(isFull))\n        }\n    }\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App))\n","/**\n * @author Yuriy Matviyuk\n */\nimport './index.css'\nimport * as serviceWorker from './serviceWorker'\nimport App from './components/App'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from './store'\nimport {BrowserRouter} from 'react-router-dom'\nimport {Provider} from 'react-redux'\n\nReactDOM.hydrate((\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>\n), document.getElementById('root'));\nserviceWorker.register();\n\n"],"sourceRoot":""}