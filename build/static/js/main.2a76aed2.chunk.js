(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAEsAZADASIAAhEBAxEB/8QAGwABAQEBAAMBAAAAAAAAAAAAAAYFBAIDBwH/xAA0EAEAAQQBAwMEAAMGBwAAAAAAAQIDBAUREiExBhNBFCJRYTKx8AcVM3GBkRYjJDRSweH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAytjtcrFyfYxdTlZlUUxVNdM000d/jmfl6td6hpyc+MDNwr+Bl10zVbou8TFyI89Mx5aOfcyrWNNWFYov3uY4orr6ImPnul6b+VkertfO+sRh1W6a/o6bf3UXKpjvzXz58duP/oWIl78XvUHqTMwKsq/j4OBRRFdNivom7XVHPefx57fp5a+q/pvU1Ooqyb2TiZNmbtmb1XVVbqjzHPzHYHRlb7IubG7gafAnNu2O165Vcii3bn8c/M/po6y5sLlmudlYsWbnV9sWa5qjj98x5R3pbSVbajOv5eblUWqcu5TRbs3Jo5q7TNU8eZ7x/s3fTuTk2NpsNLlX68n6Tprs3rk81TRVHPEz8zH5BQiK9K6/I3mkpyNnsc25HXVTaii/VTMRE+ZnzM8/nxEQ1PTmZkXLGy12bk1V3cC5Nr6mqeJmiY+2qf328goR89y7mmps3bmBu9tdzLcTNN6KrldM1R+ft4mFVr66996Zx7l29dsXb9qJm5Yrmiqmr8xMfuPANgQG09S37etva3Iy5o2GLkUUfUWappi9TExzPMeJiJjmGvhbGv1NuK/psmuxrsKYnpoqmi5kTPiZ47xR/P8AkFQJL1Tt6KNzjaq9n16/Fm171+9b5iurvMRRExHbw4sLa4OBu8C1qNvfy8fJue1esXqqqumZ/hqpmY7d/ILoSl3e2NZ6xzrexzarWN7Fv26KpqmmKvniI8FG9sbP1hrreuzqruP7Nz3aKZqimZ47cxPkFWJON/j631dt7Wyzqrdjps+zRXNVVMT0RM8RHjy8sXeWdn6zx6Nfm1XcWMSrropmqKernzMT88AqhHZ+bFfqnLxdrtcjX4lq3RONTbuzai5zH3TNUee/9dnR6SyYu7fdWrOdezMW1Nn2arl6bvHMVc8TP7/kCpHhdmYtVzHaemXznX7bAn0/Rdy/UGyo2fTV9lN+5V93M9McTzHjgH0kSm6y9ja/s+nJvXqrWd7duarlqvpnma6fmP154eXqvY5VVirXa29Xav0Y9WTkXqKpibdumOYjmPE1THAKkZvp+7Xd9PYF29cqrrqx6Kqq655mZ48zKV19jIyfRV/bXdlsvqYt3a6eMuuI+2Z47c/oF4MbHuU3fSGNcy825jxXiW6rmTFfFcc0xzPVPzP5/aSzs3W4OPOdpNrs7mTamKo92LlVu5HPeKuY48A+jDO2eTP/AA7l5Vuqqir6Su5TNM8TE9EzHEpPYY+Rjeh7e1o2ey+rqtWq5mcuvj7pjntz+JBeiW9W7f6bKwddObVg2ciJrv5NH8VNEfFP4mZ+WTG112sz8K5p91kZVNy/TbyMe9XVXFVM+ao5jtMAvxLbLc2tX61ojNzK7OHOBz0TNU0TX1z34j54jy9eV6hxdj6j0tnV59VdE3LnvUUTVTFUdPbmO3PyCtEvkxe33qXK105V/HwcCiiblNivpqu11RzHM/jj4/TywKr+l9TW9TOTeycPLszcs+9V1VW6qfMc/McQCmAAAAAAAAAAAAABj7HO3GJmz9Lq6c3EmmOJovRRXTV88xPmHFGJs91t8LL2GHTgYuFVNyi3N2K67lfx47RH9f5UoCdysTYavf39nrsSMyzmUU037MXIoqpqpjiKo57THHw8tbhZ+bvqtxssaMSLdr2cex1xXVETPM1TMdlAAmrGPs9BmZsYeB9dhZV6b9EUXaaK7dU+YmJ8x2+HToNfl28vO2myoptZebVTHs01dUWqKY4iOfmW4AhfR+XtcL0/b+n1v11i5XXNuaLtNE0TzMTE8/Hbnn9tXC0WZXotpTlVUW8/ZzXXXFM802+Y4inn9f8AtsajWWdPr6MLGquVW6JmYm5MTPeefiI/LtBJ2qt/VpI1NGopx7lNj2ZyJvUzRxEccxEd+Z/H5dOJjbbA9H42Fi48RsOn255rp4tczPNUzz34j8cqMBK7r0zE+mcfXYOPF+7Zu01dVUxFVXf76uZn5du21l+xl4mz1FmmcjHiLVdimYpi7Z/8e/aJjzDdAYW31+bTtcbc6y3RcyLdubN2xcq6fcomeeInxExL242x22RlW7delqxrXP8AzLt2/TPEfqI8tgBi4mBk2/VufnV2+Ma7Yooor6o7zHmOPJmYGTd9Wa7Not849mzcprr6o7TMdu3ltAMXX4GTZ9U7fMuW+nHyKbMWq+qJ6umnie3mP9S/gZNfrDGz6bfONRiVW6q+qO1U1c8ceW0Awr2tyNrv4v7CzFOBhf8Ab2qpir3a581zEfEfES/dLrb2FvtzfqsU2sbIqtezNMxxV00zE9o8d5+W4A8LkTVbqiPMxMQktNRvNdoLWruen6b00RXHXcybfRPNUz3jme3dYAJLI9P51n0BVqLXGRl/bPTFURH+JFUxEzx4h1Ymmyrfp/YzkUxc2mwtVzd4mO1U0zFNET44jwowErm3thqvS2u1uPi9efkWoxop9yI6KujvPPifE/Lmt2d1Z9LzprWgrjmxVa9ycu15mJ5njn8zMq67j2b1duu7bprqtVdVEzHM0z45h7QR1OPlbz0V9BasxaysKunHqt11xMV1WuImJmO3d57md/u9NewbeojEmaY65rv01dXExPTTx/OfhU2cezjxXFm3Tb9yublXTHHVVPmZ/b2gwNtibPK1NjV4tm3RRes0279+uv8Aw47RMRTHmeOX76l1V7J9J163X2vcrppt0W6OqI5imqPmeI8Q3gGJvNbl3crC2et9uczD6o9u5PFN2iY708/E/h+2dluL1+1b/uOqxTNcRduXMiiYpp57zHHeZ4bQDFqwMmfWlOw9v/pYwPZ9zqj+Pr5448+DcYGTk73S5Nm31Wca5cm7V1RHTE0xEdp8/wCjaATuZibDW7+7tNdixmWsu3TRkWYuRRVFVPaKo57eO3D912Hn52//AL32WNGJTZtTax7HXFdXfzVMx2/X9d6EBwYl3ZV7PMt5WPbow6On6a5TP3V9vu57z/KDAu7K5mZtOdj27WPRXEY1dE966e/Mz3n9fEO8Bwa27srl7MjYY9u1bovTGPNE8zXb+JnvPf8A2/yd4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/9k="},139:function(e,t,a){e.exports=a(339)},140:function(e,t,a){},200:function(e,t){},339:function(e,t,a){"use strict";a.r(t);a(140);var s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var o=a(4),i=a(5),r=a(7),c=a(6),l=a(8),p=a(0),u=a.n(p),m=function(){return u.a.createElement("aside",null)},d=function(e){return u.a.createElement("span",{className:"action add-emoji",onClick:e.showEmojiPicker})},A=function(e){var t="upload_"+e.type+"_photo";return u.a.createElement("label",{className:"action upload-photo",htmlFor:t,title:"\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"},u.a.createElement("input",{type:"file",className:"upload-photo",name:t,id:t,accept:"image/*",onChange:e.imageSelect}))},h=a(129),g=a.n(h),f=(a(144),a(58)),E=a(2),v=a(131),b=a.n(v),k=a(59),y={chatPosition:0,isConnected:!0,isMobile:!0,isNavActive:!1,isNeedRedirect:!0,isInChat:!1,isNotificationsEnabled:!0,onlineCount:null,theme:"light"},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_MENU":e=Object(E.a)({},e,{isNavActive:!e.isNavActive});break;case"SET_CHAT_POSITION":e=Object(E.a)({},e,{chatPosition:null===t.payload?0===e.chatPosition?-window.innerWidth:0:t.payload});break;case"SET_IS_IN_CHAT":e=Object(E.a)({},e,{isInChat:t.payload});break;case"SET_CONNECTION_STATUS":e=Object(E.a)({},e,{isConnected:t.payload});break;case"SET_REDIRECTION_STATUS":e=Object(E.a)({},e,{isNeedRedirect:t.payload});break;case"SET_THEME":e=Object(E.a)({},e,{theme:t.payload});break;case"SET_DEVICE_TYPE":e=Object(E.a)({},e,{isMobile:t.payload});break;case"CHANGE_NOTIFICATIONS":e=Object(E.a)({},e,{isNotificationsEnabled:!e.isNotificationsEnabled});break;case"CHANGE_ONLINE_COUNT":e=Object(E.a)({},e,{onlineCount:t.payload});break;default:e=Object(E.a)({},e)}return e},N={isActive:!1,activeType:null,private:{images:[],index:0,activeIndex:null},public:{images:[],index:0,activeIndex:null}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GALLERY_VISIBILITY":e=Object(E.a)({},e,{isActive:t.payload});break;case"SET_ACTIVE_GALLERY_TYPE":e=Object(E.a)({},e,{activeType:t.payload});break;case"ADD_TO_GALLERY":var a=t.payload.type;(e=Object(E.a)({},e))[a].images.push(t.payload.url),e[a].index++;break;case"REMOVE_FROM_GALLERY":(e=Object(E.a)({},e))[t.payload.type].images=t.payload.updatedGallery;break;case"SET_ACTIVE_INDEX":(e=Object(E.a)({},e))[t.payload.type].activeIndex=t.payload.activeIndex;break;default:e=Object(E.a)({},e)}return e},T=(a(203),{private:{text:"",imageUrl:null,imagePublicId:null,IsUploadedImage:!1,quotedMessage:null,quotedImage:null},public:{text:"",imageUrl:null,imagePublicId:null,IsUploadedImage:!1,quotedMessage:null,quotedImage:null},publicColor:null,newMessagesQty:0,fakeMessageData:{}}),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE_TEXT":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{text:t.payload.text});break;case"SET_IS_UPLOADED_IMAGE":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{isUploadedImage:t.payload.isUploaded});break;case"SET_PUBLIC_COLOR":e=Object(E.a)({},e,{publicColor:t.payload});break;case"SET_NEW_MESSAGES_QTY":e=Object(E.a)({},e,{newMessagesQty:t.payload});break;case"SET_FAKE_MESSAGE_DATA":e=Object(E.a)({},e,{fakeMessageData:t.payload});break;case"RESET_MESSAGE_DATA":var a=t.payload;(e=Object(E.a)({},e))[a]=T[a];break;case"SET_IMAGE_URL":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{imageUrl:t.payload.imageUrl});break;case"SET_QUOTE":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{quotedMessage:t.payload.message,quotedImage:t.payload.image});break;case"SET_IMAGE_PUBLIC_ID":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{imagePublicId:t.payload.id});break;default:e=Object(E.a)({},e)}return e},w={isPopUpShow:!1,type:null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_POPUP":e=Object(E.a)({},e,{type:t.payload,isPopUpShow:!0});break;case"HIDE_POPUP":e=Object(E.a)({},e,{isPopUpShow:!1});break;default:e=Object(E.a)({},e)}return e},j={postsData:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":e=Object(E.a)({},e,{postsData:t.payload});break;default:e=Object(E.a)({},e)}return e},C={roomName:null,isFull:!1,interlocutorId:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOIN_ROOM":e=Object(E.a)({},e,{roomName:t.payload});break;case"SET_INTERLOCUTOR_ID":e=Object(E.a)({},e,{interlocutorId:t.payload});break;case"LEAVE_ROOM":e=Object(E.a)({},e,{roomName:null,isFull:!1});break;case"SET_IS_FULL":e=Object(E.a)({},e,{isFull:t.payload});break;default:e=Object(E.a)({},e)}return e},U=a(132),_={gender:null,nick:null,userId:null,prevUserId:null,isNewInPublic:!0,isLoggedIn:!1,mutedList:[],likedList:{},allUsersList:{},likesQty:null,commentsQty:null,login:null,likedPosts:{},isBlocked:!1,isModerator:!1,senderId:null,senderNick:null,interlocutorNick:null},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GENDER":e=Object(E.a)({},e,{gender:t.payload});break;case"SET_ALL_USERS_LIST":e=Object(E.a)({},e,{allUsersList:t.payload});break;case"LIKE_DISLIKE_POST":e=Object(E.a)({},e,{likedPosts:t.payload});break;case"SET_AS_LOGGED_IN":e=Object(E.a)({},e,{isLoggedIn:!0,prevUserId:e.userId},t.payload);break;case"LOGOUT":e=Object(E.a)({},e,{isLoggedIn:!1},t.payload);break;case"SET_BAN_STATUS":e=Object(E.a)({},e,{isBlocked:t.payload});break;case"SET_AS_NOADMIN":e=Object(E.a)({},e,{isNoAdmin:!0});break;case"SET_USER_ID":e=Object(E.a)({},e,{userId:t.payload});break;case"SET_NICK":e=Object(E.a)({},e,{nick:t.payload});break;case"SET_LIKES_COUNT":e=Object(E.a)({},e,{likesCount:t.payload});break;case"CHANGE_MUTED_LIST":e=Object(E.a)({},e,{mutedList:t.payload});break;case"CHANGE_LIKED_LIST":e=Object(E.a)({},e,{likedList:t.payload});break;case"SET_AS_MODERATOR":e=Object(E.a)({},e,{isModerator:!0});break;case"SET_IS_NEW":e=Object(E.a)({},e,{isNewInPublic:!e.isNewInPublic});break;case"SET_PRIVATE_REQUEST_DATA":e=Object(E.a)({},e,t.payload);break;case"SET_INTERLOCUTOR_NICK":e=Object(E.a)({},e,{interlocutorNick:t.payload});break;default:e=Object(E.a)({},e)}return e},x=a(30),D=[U.a];var F=Object(x.d)(Object(x.c)({app:I,user:R,room:M,message:S,popup:P,gallery:O,forum:L}),{},x.a.apply(void 0,Object(k.a)(D))),q={toggleMenu:function(){return{type:"TOGGLE_MENU"}},setConnectionStatus:function(e){return{type:"SET_CONNECTION_STATUS",payload:e}},setRedirectionStatus:function(e){return{type:"SET_REDIRECTION_STATUS",payload:e}},setIsInChat:function(e){return{type:"SET_IS_IN_CHAT",payload:e}},setTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e||(e="dark"===localStorage.getItem("theme")?"light":"dark"),localStorage.setItem("theme",e),{type:"SET_THEME",payload:e}},changeNotifications:function(){return{type:"CHANGE_NOTIFICATIONS"}},setDeviceType:function(e){return{type:"SET_DEVICE_TYPE",payload:e}},setChatPosition:function(){return{type:"SET_CHAT_POSITION",payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}},changeOnlineCount:function(e){return{type:"CHANGE_ONLINE_COUNT",payload:e}}},G={setGender:function(e){return localStorage.setItem("gender",e),{type:"SET_GENDER",payload:e}},setUserId:function(e){return{type:"SET_USER_ID",payload:e}},changeMutedList:function(e){return{type:"CHANGE_MUTED_LIST",payload:e}},setAsLoggedIn:function(e){var t=e._id,a=e.nick,s=e.nick,n=Object(E.a)({},e,{userId:t,nick:a,login:s});return setTimeout(W.updateUsersList,1e3),delete n.password,delete n._id,localStorage.setItem("nick",a),localStorage.setItem("unique_id",t),{type:"SET_AS_LOGGED_IN",payload:n}},logOut:function(){return localStorage.removeItem("credentials"),localStorage.removeItem("nick"),setTimeout(W.updateUsersList,1e3),{type:"LOGOUT",payload:{nick:null,login:null}}},likeDislikePost:function(e){return{type:"LIKE_DISLIKE_POST",payload:e}},setLikesCount:function(e){return{type:"SET_LIKES_COUNT",payload:e}},changeLikedList:function(e){return localStorage.setItem("liked_list",JSON.stringify(e)),{type:"CHANGE_LIKED_LIST",payload:e}},setAsModerator:function(){return{type:"SET_AS_MODERATOR"}},setAsNoAdmin:function(){return{type:"SET_AS_NOADMIN"}},setBanStatus:function(){var e;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e=!0:localStorage.getItem("block")?(e=!1,localStorage.removeItem("block")):(e=!0,localStorage.setItem("block","blocked")),{type:"SET_BAN_STATUS",payload:e}},setAllUsersList:function(e){return{type:"SET_ALL_USERS_LIST",payload:e}},setInterlocutorNick:function(e){return{type:"SET_INTERLOCUTOR_NICK",payload:e}},setPrivateRequestData:function(e){return{type:"SET_PRIVATE_REQUEST_DATA",payload:e}},setIsNew:function(){return{type:"SET_IS_NEW"}},setNick:function(e){return{type:"SET_NICK",payload:e}}},H={joinRoom:function(e){return{type:"JOIN_ROOM",payload:e}},setInterlocutorId:function(e){return{type:"SET_INTERLOCUTOR_ID",payload:e}},setIsFull:function(e){return{type:"SET_IS_FULL",payload:e}},leaveRoom:function(){return{type:"LEAVE_ROOM"}}},z={setMessageText:function(e){return{type:"SET_MESSAGE_TEXT",payload:e}},sendFakeMessage:function(e){return{type:"SET_FAKE_MESSAGE_DATA",payload:e}},setNewMessagesQty:function(e){return{type:"SET_NEW_MESSAGES_QTY",payload:e}},setQuote:function(e){return{type:"SET_QUOTE",payload:e}},setImageUrl:function(e){return{type:"SET_IMAGE_URL",payload:e}},setImagePublicId:function(e){return{type:"SET_IMAGE_PUBLIC_ID",payload:e}},resetMessageData:function(e){return{type:"RESET_MESSAGE_DATA",payload:e}},setIsUploadedImage:function(e){return{type:"SET_IS_UPLOADED_IMAGE",payload:e}},setPublicColor:function(){for(var e="#",t=0;t<6;t++)e+="0123456789"[Math.floor(10*Math.random())];return{type:"SET_PUBLIC_COLOR",payload:e}}},V={io:b.a,chat:null,connect:function(){return V.chat=V.io(""),V},subscribeJoinRoom:function(){return V.chat.off("joined room").on("joined room",function(e){F.dispatch(H.joinRoom(e))}),V},subscribeUsersCount:function(){return V.chat.off("change clients count").on("change clients count",function(e){F.dispatch(q.changeOnlineCount(e))}),V},leaveChat:function(){V.chat.emit("leave chat"),V.leaveRoom()},leaveRoom:function(){var e=F.getState();if(!e.room.roomName||!e.user.gender)return V;var t={room:e.room.roomName,gender:e.user.gender,destroy:!e.room.isFull};return V.chat.emit("leave room",t),F.dispatch(H.leaveRoom()),V},reJoinRoom:function(){var e=F.getState();return e.room.roomName&&V.chat.emit("rejoin room",{room:e.room.roomName,gender:e.user.gender,isFull:e.room.isFull}),V},joinChat:function(){var e=F.getState().user.gender;return e?(V.chat.emit("join chat",e),V):V},searchNew:function(){return F.getState().room.roomName&&V.leaveRoom(),F.getState().user.gender&&V.joinChat(),V},setNick:function(e){return F.dispatch(G.setNick(e)),V.updateUsersList(),V},updateUsersList:function(){var e=F.getState(),t={nick:e.user.nick,userId:e.user.userId,isVIP:e.user.isVIP,isBlocked:e.user.isBlocked,color:e.message.publicColor};e.user.nick&&e.user.isNewInPublic?(V.chat.emit("connect to public chat",t),F.dispatch(G.setIsNew())):V.chat.emit("reconnect to public chat",t)},sendMessage:function(e){if(e.text||e.imageUrl||e.quotedImage||e.quotedMessage){var t=Math.round(1e5+899999*Math.random()),a=F.getState(),s=e.type,n=Object(E.a)({},e,{publicColor:"public"===s&&a.message.publicColor,messageId:t,key:t,gender:a.user.gender,nick:a.user.nick,isNoAdmin:a.user.isNoAdmin,socketId:V.chat.id,room:"private"===e.type?a.room.roomName:null});a.user.isBlocked?(n.type=e.type,F.dispatch(z.sendFakeMessage(n))):V.chat.emit("send "+s+" message",n),document.getElementById(s+"_message").innerHTML="",F.dispatch(z.resetMessageData(s))}return V}},W=V,Q=a(3),B=Object(Q.b)(function(e){return{messageData:e.message}})(function(e){return u.a.createElement("span",{className:"action send-message",onClick:function(){var t=e.type,a=e.messageData[t];W.sendMessage(Object(E.a)({},a,{type:t}))}})}),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).checkKeyType=function(e){if("Enter"===e.key){var t=a.props.type,s="public"===t?a.props.publicMessageData:a.props.privateMessageData;e.preventDefault(),W.sendMessage(Object(E.a)({},s,{type:t}))}},a.typingHandler=function(e){var t=e.target.innerHTML;if("private"!==a.props.type||a.state.isTyping||(W.chat.emit("typing",a.props.room),a.setState({isTyping:!0}),setTimeout(function(){a.setState({isTyping:!1})},2500)),t.toString().length>=1e3)return alert("\u0412\u0430\u0448\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043d\u0430\u0434\u0442\u043e \u0434\u043e\u0432\u0433\u0435. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u043c\u0435\u043d\u0448\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),!1;a.props.setMessageText({type:a.props.type,text:t})},a.getInputRef=function(e){a.inputRef=e},a.formatClipboardData=function(e){e.preventDefault();var t=e.clipboardData.getData("text/html"),s=new RegExp(/(<img src=")(.*?)(?=\s*")/),n=t.match(s);n&&a.props.setPreviewImgUrl(n[0].replace('<img src="',""));var o=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,o)},a.state={isTyping:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.refactoredMessage!==e.refactoredMessage&&(this.inputRef.innerHTML=this.props.refactoredMessage)}},{key:"render",value:function(){var e=this.props.type,t=this.props.isFull,a=this.props.isConnected,s=t&&a||"public"===e&&a&&"string"===typeof this.props.nick;return u.a.createElement("span",{className:"action write-message"},u.a.createElement("div",{className:"message-area"},u.a.createElement("p",{className:"message-input",ref:this.getInputRef,contentEditable:s,id:this.props.type+"_message",suppressContentEditableWarning:!0,onInput:this.typingHandler,onPaste:this.formatClipboardData,onKeyPress:this.checkKeyType})))}}]),t}(p.Component),X=Object(Q.b)(function(e){return{privateMessageData:e.message.private,publicMessageData:e.message.public,isFull:e.room.isFull,nick:e.user.nick,room:e.room.roomName,isConnected:e.app.isConnected}},function(e){return{setMessageText:function(t){e(z.setMessageText(t))}}})(Y),K={showPopUp:function(e){return{type:"SHOW_POPUP",payload:e}},hidePopUp:function(){return{type:"HIDE_POPUP"}}},J={search:"\u041f\u043e\u0448\u0443\u043a",notfound:"\u0421\u043c\u0430\u0439\u043b \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e",skintext:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u043e\u043d \u0448\u043a\u0456\u0440\u0438 \u0437\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c",categories:{search:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043f\u043e\u0448\u0443\u043a\u0443",recent:"\u041d\u0435\u0449\u043e\u0434\u0430\u0432\u043d\u0456",people:"\u0415\u043c\u043e\u0446\u0456\u0457 \u0442\u0430 \u043b\u044e\u0434\u0438",nature:"\u0422\u0432\u0430\u0440\u0438\u043d\u0438 \u0442\u0430 \u043f\u0440\u0438\u0440\u043e\u0434\u0430",foods:"\u0407\u0436\u0430 \u0442\u0430 \u043d\u0430\u043f\u043e\u0457",activity:"\u0414\u0456\u044f\u043b\u044c\u043d\u0456\u0441\u0442\u044c",places:"\u041f\u043e\u0434\u043e\u0440\u043e\u0436\u0456 \u0442\u0430 \u043c\u0456\u0441\u0446\u044f",objects:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u0438",symbols:"\u0421\u0438\u043c\u0432\u043e\u043b\u0438",flags:"\u041f\u0440\u0430\u043f\u043e\u0440\u0438",custom:"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044c\u043a\u0456"}},Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).checkNick=function(e){"private"!==a.props.type&&(a.props.nick||(e.preventDefault(),a.props.showPopUp("CREATE_NICK")))},a.showEmojiPicker=function(){document.addEventListener("click",a.hideEmojiPicker),document.addEventListener("tap",a.hideEmojiPicker),a.setState({isShowEmojiPicker:!0})},a.hideEmojiPicker=function(e){a.pickerRef&&!a.pickerRef.contains(e.target)&&(a.setState({isShowEmojiPicker:!1}),document.removeEventListener("click",a.hideEmojiPicker),document.removeEventListener("tap",a.hideEmojiPicker))},a.getPickerRef=function(e){a.pickerRef=e},a.addEmoji=function(e){var t=u.a.createElement("span",{className:"emoji-wrapper",contentEditable:!1,dangerouslySetInnerHTML:{__html:Object(f.a)({html:!0,set:"apple",skin:JSON.parse(localStorage.getItem("emoji-mart.skin")),emoji:e.id,size:20})}}),s=("public"===a.props.type?a.props.publicMessage:a.props.privateMessage)+g.a.renderToStaticMarkup(t)+"&nbsp;";a.setState({refactoredMessage:s}),a.props.setMessageText(a.props.type,s)},a.removeQuote=function(){a.props.setQuote({type:a.props.type})},a.state={isTyping:!1,isShowEmojiPicker:!1,refactoredMessage:null},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.chat.on("show typing",function(){e.setState({isTyping:!0}),setTimeout(function(){e.setState({isTyping:!1})},2500)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideEmojiPicker),document.removeEventListener("tap",this.hideEmojiPicker),W.chat.off("show typing")}},{key:"render",value:function(){var e=this.props.type,t=this.props.isFull,a=this.props.isConnected,s="public"===e?this.props.publicImageUrl:this.props.privateImageUrl,n="public"===e?this.props.publicIsUploadedImg:this.props.privateIsUploadedImg,o="public"===e?this.props.publicQuotedImage:this.props.privateQuotedImage,i="public"===e?this.props.publicQuotedMessage:this.props.privateQuotedMessage,r=t&&a||"public"===e,c=r?"chat-actions-toolbar":"chat-actions-toolbar disabled",l=i||o;return u.a.createElement("div",{className:c,onClick:this.checkNick,title:r?"":"\u0434\u0456\u0457 \u0437 \u0447\u0430\u0442\u043e\u043c \u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u043e\u0432\u0430\u043d\u0456"},this.state.isTyping&&"private"===e&&u.a.createElement("span",{className:"write-animation"},"\u0430\u043d\u043e\u043d\u0456\u043c \u0434\u0440\u0443\u043a\u0443\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"),this.state.isShowEmojiPicker&&u.a.createElement("div",{ref:this.getPickerRef},u.a.createElement(f.b,{set:"apple",i18n:J,showPreview:!1,color:"light"===this.props.theme?"#2F2F2F":"#E3E3E3",emojiTooltip:!0,onSelect:this.addEmoji,title:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043c\u0430\u0439\u043b",emoji:"point_up",style:{position:"absolute",top:"-295px",width:"calc(100% - 10px)",left:"5px",display:"block"}})),n&&u.a.createElement("div",{className:"image-preview"},u.a.createElement("div",{className:"preview-wrapper"},s?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"remove-preview",onClick:this.props.removeImagePreview}),u.a.createElement("img",{src:s,alt:"preview"})):u.a.createElement("div",{className:"image-preview-loader"},u.a.createElement("span",{className:"loader"})))),l&&u.a.createElement("span",{className:"quoted-message"},u.a.createElement("span",{className:"quote-wrapper"},u.a.createElement("span",{className:"remove-quote",onClick:this.removeQuote}),i&&u.a.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:i}}),o&&u.a.createElement("img",{src:o,alt:""}))),u.a.createElement("div",{className:"actions-wrapper"},u.a.createElement(A,{type:e,imageSelect:this.props.imageSelect}),u.a.createElement(d,{type:e,showEmojiPicker:this.showEmojiPicker}),u.a.createElement(X,{type:e,refactoredMessage:this.state.refactoredMessage}),u.a.createElement(B,{type:e})))}}]),t}(p.Component),$=Object(Q.b)(function(e){return{isFull:e.room.isFull,isConnected:e.app.isConnected,publicMessage:e.message.public.text,privateMessage:e.message.private.text,privateQuotedMessage:e.message.private.quotedMessage,publicQuotedMessage:e.message.public.quotedMessage,privateQuotedImage:e.message.private.quotedImage,publicQuotedImage:e.message.public.quotedImage,privateImageUrl:e.message.private.imageUrl,publicIsUploadedImg:e.message.public.isUploadedImage,privateIsUploadedImg:e.message.private.isUploadedImage,publicImageUrl:e.message.public.imageUrl,theme:e.app.theme,nick:e.user.nick}},function(e){return{showPopUp:function(t){e(K.showPopUp(t))},setMessageText:function(t,a){e(z.setMessageText({type:t,text:a}))},setQuote:function(t){e(z.setQuote(t))}}})(Z),ee=a(138),te=a(54),ae=a.n(te),se=a(135),ne=a.n(se),oe={addImageToGallery:function(e){return{type:"ADD_TO_GALLERY",payload:e}},setGalleryVisibility:function(e){return{type:"SET_GALLERY_VISIBILITY",payload:e}},setActiveGalleryType:function(e){return{type:"SET_ACTIVE_GALLERY_TYPE",payload:e}},setActiveIndex:function(e){return{type:"SET_ACTIVE_INDEX",payload:e}},removeImageFromGallery:function(e){return{type:"REMOVE_FROM_GALLERY",payload:e}}},ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).deleteMessage=function(){a.props.image&&a.removeFromGallery(),W.chat.emit("delete message",a.props.messageId)},a.removeFromGallery=function(){var e,t=a.props.type;e=a.props.gallery[t].images.map(function(e,t){return t===a.state.imageIndex?ne.a:e}),a.props.removeImageFromGallery({type:t,updatedGallery:e})},a.quoteMessage=function(){a.props.setQuote({message:a.props.message,image:a.props.image,type:a.props.type})},a.collapseActions=function(){a.setState({isShowActions:!1}),document.removeEventListener("click",a.collapseActions),document.removeEventListener("tap",a.collapseActions)},a.toggleActions=function(){document.addEventListener("click",a.collapseActions),document.addEventListener("tap",a.collapseActions),a.setState({isShowActions:!0})},a.detectURL=function(e){a.setState({messageText:e.replace(/((([^;"]https?:\/\/)|(^https?:\/\/)|(www\.))[^\s]+)/g,function(e,t,a){return'<a href="'+("www."===a?"http://"+e:e)+'" target="_blank">'+e+"</a>"})})},a.likeMessage=function(){a.setState({isLiked:!a.state.isLiked},function(){W.chat.emit("like message",{id:a.props.messageId,isLiked:a.state.isLiked})})},a.showGallery=function(e){var t=a.props.type;a.props.setActiveIndex({type:t,activeIndex:parseInt(e.target.dataset.index,10)}),a.props.showGallery(t)},a.state={name:null,isSameGender:!1,messageText:null,deletedImageUrl:"/images/deleted.jpg",isShowActions:!1,date:null,isLiked:!1},e.image&&(a.state.imageIndex=e.gallery[e.type].images.length),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.detectURL(this.props.message);var e,t=new Date,a=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();e="public"===this.props.type?this.props.nickName:"bot"===this.props.label?"\u0411\u043e\u0442":"anon"===this.props.label?"\u0410\u043d\u043e\u043d\u0456\u043c":"\u0412\u0438",this.setState({date:this.state.date?this.state.date:a+":"+s,name:e})}},{key:"render",value:function(){var e=this.state.isShowActions?" active":"",t=this.props.socketId===W.chat.id,a=this.props.gender===this.props.userGender?" same":" anon",s=t?"you":"",n=this.props.quotedMessage||this.props.quotedImage,o="message-container "+this.props.gender+" "+s+e+a,i=this.state.isLiked?"message-action like-message liked":"message-action like-message";return u.a.createElement("p",{className:o,id:this.props.messageId},t?u.a.createElement("span",{className:"message-action delete-message",onClick:this.deleteMessage,title:"\u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"}):u.a.createElement("span",{className:i,onClick:this.likeMessage,title:this.state.isLiked?"\u043c\u0435\u043d\u0456 \u043d\u0435 \u043f\u043e\u0434\u043e\u0431\u0430\u0454\u0442\u044c\u0441\u044f":"\u043c\u0435\u043d\u0456 \u043f\u043e\u0434\u043e\u0431\u0430\u0454\u0442\u044c\u0441\u044f"}),u.a.createElement("span",{className:"message-action quote-message",onClick:this.quoteMessage,title:"\u043f\u0435\u0440\u0435\u0441\u043b\u0430\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"}),u.a.createElement("span",{onClick:"bot"!==this.props.label?this.toggleActions:function(){},className:"public"===this.props.type&&this.props.isNoAdmin?"message vip":"message",style:this.props.publicColor?{background:this.props.publicColor}:{}},this.state.messageText&&u.a.createElement("span",{className:"message-text",dangerouslySetInnerHTML:{__html:this.state.messageText}}),this.props.image&&u.a.createElement("span",{className:"message-image"},u.a.createElement("img",{src:this.props.image,onClick:this.showGallery,"data-index":this.state.imageIndex,alt:""})),n&&u.a.createElement("span",{className:"quote"},this.props.quotedMessage&&u.a.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:this.props.quotedMessage}}),this.props.quotedImage&&u.a.createElement("img",{src:this.props.quotedImage,alt:""}))),u.a.createElement("span",{className:"time"},this.state.name+", "+this.state.date))}}]),t}(p.Component),re=Object(Q.b)(function(e){return{nick:e.user.nick,userGender:e.user.gender,gallery:e.gallery}},function(e){return{setQuote:function(t){e(z.setQuote(t))},setActiveIndex:function(t){e(oe.setActiveIndex(t))},showGallery:function(t){e(oe.setGalleryVisibility(!0)),e(oe.setActiveGalleryType(t))},removeImageFromGallery:function(t){e(oe.removeImageFromGallery(t))}}})(ie),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).blockClient=function(e){W.chat.emit("block user",e)},a.likeUser=function(e){var t=e.userId,s=Object(E.a)({},a.props.likedList);s[t]?s=delete s[t]:s[t]=e,a.props.changeLikedList(s)},a.muteUser=function(e){var t=a.props.mutedList;a.props.changeMutedList(-1!==t.indexOf(e)?t.filter(function(t){return t!==e}):t.concat(e))},a.createList=function(){var e=[],t=a.props.allUsersList;for(var s in t){if(t.hasOwnProperty(s))if("continue"===function(){var n=-1!==a.props.mutedList.indexOf(t[s].socketId),o=a.props.likedList[s]?"liked like-user client-action":"like-user client-action",i=t[s];if(!i.nick)return"continue";e.push(u.a.createElement("li",{key:s},u.a.createElement("span",{className:"client-color",style:{backgroundColor:i.color}}),u.a.createElement("span",{className:"name"},i.nick),u.a.createElement("span",{className:"user-actions"},i.socketId!==W.chat.id&&u.a.createElement("span",{className:o,onClick:function(){a.likeUser(i)}},0!==a.props.likesCount&&u.a.createElement("span",{className:"likes-count",children:a.props.likesCount})),i.socketId===W.chat.id&&u.a.createElement("span",{className:"client-action change-nick",onClick:a.props.changeNick}),a.props.isModerator&&i.socketId!==W.chat.id&&u.a.createElement("span",{className:i.isBlocked?"ban-client client-action blocked":"ban-client client-action",title:"\u0417\u0430\u0431\u043b\u043e\u043a\u0443\u0432\u0430\u0442\u0438",onClick:function(e){e.target.classList.toggle("blocked"),a.blockClient(i.socketId)}}),i.socketId!==W.chat.id&&u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"start-chat client-action",title:"\u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442",onClick:function(){a.proposePrivateChat(i.nick,i.socketId)}}),u.a.createElement("span",{className:n?"mute-user client-action muted":"mute-user client-action",title:"\u0456\u0433\u043d\u043e\u0440\u0443\u0432\u0430\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",onClick:function(){a.muteUser(i.socketId)}})))))}())continue}a.setState({clientsList:e})},a.proposePrivateChat=function(e,t){W.chat.emit("private request",{receiverNick:e,receiverId:t,senderNick:a.props.nick,senderId:W.chat.id})},a.state={clientsList:[],isToggled:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;"moderator"===localStorage.getItem("status")&&this.props.setAsModerator();var t=localStorage.getItem("liked_list");t&&this.props.changeLikedList(JSON.parse(t)),W.chat.on("change clients",function(t){e.props.setAllUsersList(t),e.createList()}),this.createList(this.props.allUsersList)}},{key:"componentWillUnmount",value:function(){W.chat.off("change clients")}},{key:"componentDidUpdate",value:function(e,t,a){e.mutedList.length===this.props.mutedList.length&&e.nick===this.props.nick&&Object.keys(e.likedList).length===Object.keys(this.props.likedList).length||this.createList(),e.nick!==this.props.nick&&W.chat.emit("changed nick",{nick:this.props.nick,prevUserId:this.props.prevUserId,userId:this.props.userId})}},{key:"render",value:function(){return u.a.createElement("div",{className:"users-list-wrapper"},u.a.createElement("ul",{className:"users-list"},this.state.clientsList))}}]),t}(p.Component),le=Object(Q.b)(function(e){return{nick:e.user.nick,mutedList:e.user.mutedList,allUsersList:e.user.allUsersList,isModerator:e.user.isModerator,prevUserId:e.user.prevUserId,userId:e.user.userId,likesCount:e.user.likesCount,likedList:e.user.likedList}},function(e){return{showPopUp:function(t){e(q.showPopUp(t))},changeNick:function(){localStorage.removeItem("nick"),e(K.showPopUp("CREATE_NICK"))},changeMutedList:function(t){e(G.changeMutedList(t))},setAllUsersList:function(t){e(G.setAllUsersList(t))},setAsModerator:function(){e(G.setAsModerator())},changeLikedList:function(t){e(G.changeLikedList(t))}}})(ce),pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).removeUser=function(e){var t=Object(E.a)({},a.props.likedList);delete t[e],a.props.changeLikedList(t)},a.createList=function(e){var t=[],s=function(s){if(e.hasOwnProperty(s)){var n=e[s],o=a.props.allUsersList.hasOwnProperty(s),i=o?"#9FD468":"#808080";o&&(e[s].socketId=a.props.allUsersList[s].socketId),t.push(u.a.createElement("li",{key:s},u.a.createElement("span",{className:"client-color",style:{backgroundColor:i},title:o?"online":"offline"}),u.a.createElement("span",{className:"name"},n.nick),u.a.createElement("span",{className:"user-actions"},o&&u.a.createElement("span",{className:"start-chat client-action",title:"\u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442",onClick:function(){a.proposePrivateChat(n.nick,n.socketId)}}),u.a.createElement("span",{className:"remove-user client-action",title:"\u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443",onClick:function(){a.removeUser(s)}}))))}};for(var n in e)s(n);a.setState({clientsList:t})},a.proposePrivateChat=function(e,t){W.chat.emit("private request",{receiverNick:e,receiverId:t,senderNick:a.props.nick,senderId:W.chat.id})},a.state={clientsList:[],allUsersList:{},isToggled:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("unique_id");e||(e=Math.floor(Math.random()*Math.floor(999999999)),localStorage.setItem("unique_id",e)),this.props.setUserId(e)}},{key:"componentDidUpdate",value:function(e){Object.keys(e.likedList).length!==Object.keys(this.props.likedList).length&&this.createList(this.props.likedList),Object.keys(e.allUsersList).length!==Object.keys(this.props.allUsersList).length&&this.createList(this.props.likedList)}},{key:"render",value:function(){return u.a.createElement("div",{className:"users-list-wrapper"},u.a.createElement("ul",{className:"users-list"},this.state.clientsList.length?this.state.clientsList:u.a.createElement("li",null,"\u0422\u0443\u0442 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0438\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0441\u0456\u0445 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432. \u0429\u043e\u0431 \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u0456\u043a\u043e\u043d\u043a\u0443 \u0441\u0435\u0440\u0446\u044f \u0443 \u0432\u0456\u043a\u043d\u0456 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u0447\u0430\u0442\u0443 \u0430\u0431\u043e \u043f\u043e\u0440\u044f\u0434 \u0437 \u043d\u0456\u043a\u043e\u043c \u0443 \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0430\u0442\u0443. \u041a\u043e\u043b\u0456\u0440 \u043f\u043e\u0440\u044f\u0434 \u0437 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0435\u043c \u0443 \u0446\u044c\u043e\u043c\u0443 \u0441\u043f\u0438\u0441\u043a\u0443 \u043e\u0437\u043d\u0430\u0447\u0430\u0454 \u0439\u043e\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441 online (\u0437\u0435\u043b\u0435\u043d\u0438\u0439) \u0456 offline (\u0441\u0456\u0440\u0438\u0439).")))}}]),t}(p.Component),ue=Object(Q.b)(function(e){return{likedList:e.user.likedList,allUsersList:e.user.allUsersList}},function(e){return{showPopUp:function(t){e(q.showPopUp(t))},changeNick:function(){localStorage.removeItem("nick"),e(K.showPopUp("CREATE_NICK"))},setUserId:function(t){e(G.setUserId(t))},changeLikedList:function(t){e(G.changeLikedList(t))}}})(pe),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).resizeHandler=function(){a.scrollToLastMessage(!0)},a.likesHandler=function(e){var t=document.getElementById(e.id);if(t&&t.querySelector(".message")){var a=t.querySelector(".likes-count");if(!a)return t.querySelector(".message").appendChild(document.createRange().createContextualFragment('<span class="likes-count">1</span>'));var s=parseInt(a.textContent),n=e.isLiked?s+1:s-1;if(0===n)return t.querySelector(".likes-count").remove();t.querySelector(".likes-count").innerHTML=n.toString()}},a.scrollToLastMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.chatTextRef;if(!e&&t&&Math.ceil(t.scrollTop+t.clientHeight)<t.scrollHeight)return a.setState({newMessagesQty:a.state.newMessagesQty+1});var s=t.scrollTop<t.clientHeight?t.clientHeight:t.scrollTop,n=setInterval(function(){t&&(s+=300,t.scrollTo(0,s)),(!t||s>t.scrollHeight)&&clearInterval(n)},1);a.setState({newMessagesQty:0})},a.refreshChat=function(){var e="private"===a.props.type;if(e&&a.props.room&&!a.props.isFull)return a.props.showPopUp("CAN_NOT_REFRESH");a.setState({messages:[]},function(){e&&(a.sendBotMessage("SEARCH_NEW"),W.searchNew())})},a.toggleList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("public"===a.props.type&&!a.props.nick)return a.props.showPopUp("CREATE_NICK");var s=a.chatTextWrapperRef.classList;t?s.toggle("with-users-list"):s.contains("with-users-list")&&!e.target.classList.contains("users-list")&&s.remove("with-users-list")},a.sendBotMessage=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case"ROOM_IS_FULL":a.props.setIsFull(!0),a.state.notify2.play(),W.chat.emit("set interlocutor id",{room:a.props.room,id:a.props.userId}),t="\u0421\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e! \u0420\u043e\u0437\u043f\u043e\u0447\u043d\u0456\u0442\u044c \u0412\u0430\u0448 \u0434\u0456\u0430\u043b\u043e\u0433";break;case"INTERLOCUTOR_LEAVE":W.leaveRoom(),a.state.notify2.play(),t="\u0421\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a \u043f\u043e\u043a\u0438\u043d\u0443\u0432 \u0447\u0430\u0442";break;case"USER_DISCONNECTED":t="\u0423 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430 \u0432\u0438\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437\u0456 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f\u043c. \u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437\u0432'\u044f\u0437\u043a\u0443";break;case"ROOM_IS_EMPTY":a.props.isFull?(W.leaveRoom(),a.state.notify2.play(),t="\u0421\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a \u043f\u043e\u043a\u0438\u043d\u0443\u0432 \u0447\u0430\u0442"):t=null;break;case"CONNECTION_PROBLEM":t="\u0421\u043f\u043e\u0441\u0442\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437\u0456 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f\u043c. \u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437\u0432'\u044f\u0437\u043a\u0443";break;case"SEARCH_NEW":t="\u0419\u0434\u0435 \u043f\u043e\u0448\u0443\u043a \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430";break;case"NEW_USER_IN_PUBLIC":t="\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <b>"+s+"</b> \u043f\u0440\u0438\u0454\u0434\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043e \u0447\u0430\u0442\u0443.";break;case"PUBLIC_WELCOME":t="\u0412\u0456\u0442\u0430\u0454\u043c\u043e \u0443 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0447\u0430\u0442\u0456! \u0412\u0430\u0448\u0456 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0442\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043e\u0441\u0456\u0431 \u0432\u0430\u0448\u043e\u0457 \u0441\u0442\u0430\u0442\u0456 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u044c\u0441\u044f \u0441\u043f\u0440\u0430\u0432\u0430, \u0430 \u0432\u0456\u0434 \u0430\u043d\u043e\u043d\u0456\u043c\u0456\u0432 \u043f\u0440\u043e\u0442\u0438\u043b\u0435\u0436\u043d\u043e\u0457 \u0441\u0442\u0430\u0442\u0456 - \u0437\u043b\u0456\u0432\u0430. \u041f\u0440\u0438\u0454\u043c\u043d\u043e\u0433\u043e \u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u043d\u043d\u044f!";break;case"CONNECTION_RESTORED":t=!a.props.isFull&&"private"===a.props.type&&a.props.room?"\u0417'\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0442\u0430 \u043f\u043e\u0448\u0443\u043a \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430 \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043e ":"\u0417'\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043e";break;default:t=null}t&&(a.setState({messages:a.state.messages.concat(u.a.createElement(re,{key:Math.round(1e5+899999*Math.random()),gender:"bot",socketId:null,message:t,label:"bot"}))}),a.scrollToLastMessage(!0))},a.getScrollHeight=function(){var e=a.chatTextRef;e.scrollHeight===Math.ceil(e.scrollTop+e.clientHeight)&&a.setState({newMessagesQty:0})},a.getRef=function(e){a.chatTextRef=e},a.getChatTextWrapperRef=function(e){a.chatTextWrapperRef=e},a.saveUser=function(){var e=Object(E.a)({},a.props.likedList),t=a.props.interlocutorId;e[t]?(delete e[t],a.props.changeLikedList(e)):a.props.showPopUp("LIKE_INTERLOCUTOR")},a.state={notify:null,notify2:null,newMessagesQty:0,messages:[]},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.notify||this.state.notify2||this.setState({notify:new Audio("/audio/magic.mp3"),notify2:new Audio("/audio/pop.mp3")});var t=this.props.type,a="get "+t+" message";if("private"===t){var s="\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430... </br> \u041f\u043e\u043a\u0438 \u0439\u0434\u0435 \u043f\u043e\u0448\u0443\u043a, \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0432 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0447\u0430\u0442\u0456.";this.props.isMobile&&(s+='</br> \u0429\u043e\u0431 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0447\u0430\u0442 \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0441\u0432\u0430\u0439\u043f \u0432\u043b\u0456\u0432\u043e <img width="50px" src="/images/swipe.gif" alt="swipe invischat"/>'),this.setState({messages:this.state.messages.concat(u.a.createElement(re,{key:Math.round(1e5+899999*Math.random()),gender:"bot",message:s,socketId:null,label:"bot"}))}),W.chat.off("get interlocutor id").on("get interlocutor id",function(t){e.props.setInterlocutorId(t)})}else W.chat.off("get public chat info").on("get public chat info",function(){e.props.nick&&e.sendBotMessage("PUBLIC_WELCOME")}),W.chat.off("new user connected").on("new user connected",function(t){t&&e.sendBotMessage("NEW_USER_IN_PUBLIC",t)}),W.chat.off("liked message").on("liked message",function(t){e.likesHandler(t)});W.chat.off(a).on(a,function(a){if(-1!==e.props.mutedList.indexOf(a.socketId))return!1;var s=a.socketId!==W.chat.id;if(a.botMessage)return e.sendBotMessage(a.botMessage);e.props.isMobile&&("private"===t&&0!==e.props.chatPosition&&e.props.setNewMessagesQty(e.props.newMessagesQty+1),"public"===t&&0===e.props.chatPosition&&e.props.setNewMessagesQty(e.props.newMessagesQty+1)),s?(e.scrollToLastMessage(),e.props.isNotificationsEnabled&&"private"===t&&e.state.notify&&e.state.notify.play()):e.scrollToLastMessage(!0),e.setState({messages:e.state.messages.concat(u.a.createElement(re,{key:a.messageId,message:a.text,type:e.props.type,label:W.chat.id!==a.socketId?"anon":"you",messageId:a.messageId,quotedMessage:a.quotedMessage,quotedImage:a.quotedImage,publicColor:a.publicColor,isNoAdmin:a.isNoAdmin,socketId:a.socketId,gender:a.gender,nickName:a.nick,image:a.imageUrl}))}),a.imageUrl&&e.props.addImageToGallery({url:a.imageUrl,type:e.props.type})}),W.chat.off("deleted message").on("deleted message",function(e){var t=document.getElementById(e);t&&(t.innerHTML='<span class="message-text removed">\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e</span>')}),this.props.isMobile&&window.addEventListener("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e,t,a){var s=this,n=this.props.fakeMessageData;e.isConnected&&!this.props.isConnected&&setTimeout(function(){s.sendBotMessage("CONNECTION_PROBLEM")},100),!e.isConnected&&this.props.isConnected&&("private"===this.props.type&&W.reJoinRoom(),W.updateUsersList(),this.sendBotMessage("CONNECTION_RESTORED")),e.fakeMessageData.key!==n.key&&this.props.type===n.type&&this.setState({messages:this.state.messages.concat(u.a.createElement(re,{key:n.messageId,message:n.text,type:n.type,label:W.chat.id!==n.socketId?"anon":"you",messageId:n.messageId,quotedMessage:n.quotedMessage,quotedImage:n.quotedImage,publicColor:n.publicColor,socketId:n.socketId,gender:n.gender,nickName:n.nick,image:n.imageUrl}))},function(){s.scrollToLastMessage(!0)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeHandler),W.chat.off("get interlocutor id").off("get public chat info").off("new user connected").off("liked message").off("deleted message").off("get private message").off("get public message")}},{key:"render",value:function(){var e=this,t=this.props.likedList[this.props.interlocutorId]?"action-secondary save-user saved":"action-secondary save-user";return u.a.createElement("div",{className:"chat-text-wrapper",onScroll:this.getScrollHeight,onClick:this.toggleList,ref:this.getChatTextWrapperRef},u.a.createElement("div",{className:"actions-secondary"},u.a.createElement("span",{className:"action-secondary refresh",title:"\u0448\u0443\u043a\u0430\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430",onClick:this.refreshChat}),"private"===this.props.type&&u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"action-secondary saved-list users-list",title:"\u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430",onClick:function(t){e.toggleList(t,!0)}}),this.props.isFull&&u.a.createElement("span",{className:t,title:"\u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430",onClick:this.saveUser})),"public"===this.props.type&&u.a.createElement("span",{className:"action-secondary show-users users-list",title:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0445\u0442\u043e \u0443 \u0447\u0430\u0442\u0456",onClick:function(t){e.toggleList(t,!0)}})),u.a.createElement("div",{className:"chat-text",ref:this.getRef},this.state.messages),"public"===this.props.type?u.a.createElement(le,null):u.a.createElement(ue,null),!!this.state.newMessagesQty&&u.a.createElement("span",{className:"unread-messages-count",onClick:function(){e.scrollToLastMessage(!0)},children:"\u0423 \u0432\u0430\u0441 "+this.state.newMessagesQty+" \u043d\u043e\u0432\u0438\u0445 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c"}))}}]),t}(p.PureComponent),de=Object(Q.b)(function(e){return{isFull:e.room.isFull,isMobile:e.app.isMobile,newMessagesQty:e.message.newMessagesQty,chatPosition:e.app.chatPosition,userId:e.user.userId,interlocutorId:e.room.interlocutorId,nick:e.user.nick,fakeMessageData:e.message.fakeMessageData,isConnected:e.app.isConnected,room:e.room.roomName,likedList:e.user.likedList,mutedList:e.user.mutedList,isNotificationsEnabled:e.app.isNotificationsEnabled}},function(e){return{setIsFull:function(t){e(H.setIsFull(t))},addImageToGallery:function(t){e(oe.addImageToGallery(t))},showPopUp:function(t){e(K.showPopUp(t))},setNewMessagesQty:function(t){e(z.setNewMessagesQty(t))},changeLikedList:function(t){e(G.changeLikedList(t))},setInterlocutorId:function(t){e(H.setInterlocutorId(t))}}})(me),Ae="oddbpaek",he="https://api.cloudinary.com/v1_1/dfgkgr7ui/image/upload",ge=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).onImageDrop=function(e){e.length&&(a.setState({uploadedFile:e[0]}),a.props.setIsUploadedImage({type:a.props.type,isUploaded:!0}),a.handleImageUpload(e[0]))},a.imageSelect=function(e){a.onImageDrop(e.target.files),e.target.value=null},a.handleImageUpload=function(e){var t=a.props.type;ae.a.post(he).field("upload_preset",Ae).field("tags","chat").field("file",e).end(function(e,s){e?(a.removeImagePreview(),a.props.showPopUp("IMAGE_UPLOADING_ERROR")):""!==s.body.secure_url&&(a.props.setImageUrl({type:t,imageUrl:s.body.secure_url}),a.props.setImagePublicId({type:t,id:s.body.public_id}))})},a.removeImagePreview=function(){a.props.setIsUploadedImage({type:a.props.type,isUploaded:!1}),a.deleteImage()},a.deleteImage=function(){a.props.setImageUrl({type:a.props.type,imageUrl:null}),W.chat.emit("remove uploaded image","public"===a.props.type?a.props.publicImageId:a.props.privateImageId)},a.setPreviewImgUrl=function(e){a.props.setIsUploadedImage({type:a.props.type,isUploaded:!0}),a.props.setImageUrl({type:a.props.type,imageUrl:e})},a.state={isTyping:!1,uploadedFile:null},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="chat-window "+this.props.type;return u.a.createElement(ee.a,{multiple:!1,accept:"image/*",className:"chat-window "+e,activeClassName:"active",style:{position:"absolute"},disableClick:!0,onDrop:this.onImageDrop.bind(this)},u.a.createElement(de,{type:this.props.type,ssr:this.props.ssr}),u.a.createElement($,{type:this.props.type,removeImagePreview:this.removeImagePreview,imageSelect:this.imageSelect}))}}]),t}(p.Component),fe=Object(Q.b)(function(e){return{publicImageId:e.message.public.imagePublicId,privateImageId:e.message.private.imagePublicId}},function(e){return{setIsFull:function(t){e(H.setIsFull(t))},setImageUrl:function(t){e(z.setImageUrl(t))},showPopUp:function(t){e(K.showPopUp(t))},setImagePublicId:function(t){e(z.setImagePublicId(t))},setIsUploadedImage:function(t){e(z.setIsUploadedImage(t))}}})(ge),Ee=a(341),ve=Object(Q.b)(function(e){return{gallery:e.gallery}},function(e){return{hideGallery:function(){e(oe.setGalleryVisibility(!1))},setActiveIndex:function(t){e(oe.setActiveIndex(t))}}})(function(e){var t=e.gallery.activeType,a=e.gallery[t].images,s=e.gallery[t].activeIndex;return u.a.createElement("div",{className:"image-gallery"},u.a.createElement("span",{className:"close close-gallery",onClick:e.hideGallery}),a.length>1&&0!==s&&u.a.createElement("span",{title:"\u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",className:"gallery-link prev",onClick:function(){s>0&&e.setActiveIndex({type:t,activeIndex:s-1})}}),null!==s?u.a.createElement("img",{src:a[s],alt:""}):u.a.createElement("span",{className:"loader"}),a.length>1&&s<a.length-1&&u.a.createElement("span",{title:"\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",className:"gallery-link next",onClick:function(){s<a.length-1&&e.setActiveIndex({type:t,activeIndex:s+1})}}))}),be=a(19),ke=function(e){function t(e){var a;if(Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).onBeforeUnload=function(){return"\u0423\u0441\u044e \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0443 \u0431\u0443\u0434\u0435 \u0432\u0442\u0440\u0430\u0447\u0435\u043d\u043e. \u0412\u0438 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u0438 \u0447\u0430\u0442?"},a.handleTouchStart=function(e){a.setState({prevPosition:a.props.chatPosition,touchStartPosition:e.nativeEvent.touches[0].clientX,swipeDistance:0})},a.handleSwipe=function(e){var t,s=a.state.prevPosition,n=a.state.minSwipeLength,o=-(a.state.touchStartPosition-e.nativeEvent.touches[0].clientX);if(0===s&&o<-n)t=o;else{if(!(s===-window.innerWidth&&o>n))return;t=s+o}a.setState({swipeDistance:o}),a.props.setChatPosition(t)},a.handleTouchStop=function(){var e;a.state.swipeDistance&&(a.state.prevPosition!==-window.innerWidth&&a.props.chatPosition<-a.state.minSwipeLength?(e=-window.innerWidth,a.props.clearNewMessagesQty()):a.props.chatPosition>-window.innerWidth+a.state.minSwipeLength?(e=0,a.props.clearNewMessagesQty()):e=a.state.prevPosition,a.props.setChatPosition(e))},!e.ssr){var s=localStorage.getItem("gender");!e.gender&&s&&e.setGender(s)}return a.state={minSwipeLength:60,touchPosition:0,prevPosition:0,swipeDistance:0},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("nickName");this.props.setIsInChat(!0),this.props.setRedirectionStatus(!1),this.props.publicColor||this.props.setPublicColor(),e&&!this.props.nick&&W.setNick(e),this.props.room||W.joinChat(),W.updateUsersList(),window.addEventListener("beforeunload",this.onBeforeUnload,!1),W.subscribeJoinRoom()}},{key:"componentWillUnmount",value:function(){this.props.setIsInChat(!1),window.removeEventListener("beforeunload",this.onBeforeUnload),this.props.room&&W.leaveChat(),W.chat.off("joined room"),this.props.clearAllUsersList()}},{key:"render",value:function(){return this.props.ssr||localStorage.getItem("gender")?u.a.createElement("div",{id:"chat",className:"chat-content"},u.a.createElement("div",{className:"chat-wrapper"},u.a.createElement("div",{className:"chat-windows",onTouchMove:this.props.isMobile?function(){}:this.handleSwipe,onTouchStart:this.props.isMobile?function(){}:this.handleTouchStart,onTouchEnd:this.props.isMobile?function(){}:this.handleTouchStop,style:this.props.isMobile?{}:{left:this.props.chatPosition+"px",transition:"linear .1s"}},u.a.createElement(fe,{type:"private",ssr:this.props.ssr}),u.a.createElement(fe,{type:"public",ssr:this.props.ssr}),this.props.isGalleryActive&&u.a.createElement(ve,null))),u.a.createElement(be.Helmet,{title:"Invischat - \u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0427\u0430\u0442",meta:[{name:"description",content:"Invischat - \u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442 \u0437 \u0432\u0438\u043f\u0430\u0434\u043a\u043e\u0432\u0438\u043c \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u043e\u043c \u0442\u0430 \u0444\u043e\u0440\u0443\u043c \u0437\u0456\u0437\u043d\u0430\u043d\u044c"},{name:"keywords",content:"\u0447\u0430\u0442, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442, lfyou, \u0437\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u0430, \u0447\u0430\u0442 \u0437\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u0430 \u0432 \u0443\u043a\u0440\u0430\u0457\u043d\u0456, \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u0430, \u043d\u0435\u043a\u0442\u043e, \u0447\u0430\u0442 \u043e\u043d\u043b\u0430\u0439\u043d, chat, \u0448\u0443\u043a\u0430\u044e \u0442\u0435\u0431\u0435, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442 \u0442\u0437, \u0442\u0437, \u0448\u0442, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442 \u0456\u0444, \u0437\u0456\u0437\u043d\u0430\u043d\u043d\u044f, anonumous chat, \u0447\u0430\u0442 \u043d\u0435\u0432\u0438\u0434\u0438\u043c\u043a\u0438, Invischat, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442, \u0437\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u0430, \u0448\u0443\u043a\u0430\u044e \u0442\u0435\u0431\u0435"}]})):u.a.createElement(Ee.a,{to:"/"})}}]),t}(p.Component),ye=Object(Q.b)(function(e){return{chatPosition:e.app.chatPosition,publicColor:e.message.publicColor,isGalleryActive:e.gallery.isActive,gender:e.user.gender,allUsersList:e.user.allUsersList,userId:e.user.userId,newMessagesQty:e.message.newMessagesQty,room:e.room.roomName,nick:e.user.nick}},function(e){return{setChatPosition:function(t){e(q.setChatPosition(t))},clearAllUsersList:function(){e(G.setAllUsersList({}))},clearNewMessagesQty:function(){e(z.setNewMessagesQty(0))},setPublicColor:function(){e(z.setPublicColor())},setIsInChat:function(t){e(q.setIsInChat(t))},setNick:function(t){e(G.setNick(t))},setGender:function(t){e(G.setGender(t))},setRedirectionStatus:function(t){e(q.setRedirectionStatus(t))}}})(ke),Ie=a(60);var Ne=function(e){var t=Object(p.useState)(e.rating),a=Object(Ie.a)(t,2),s=a[0],n=a[1];if(Object(p.useEffect)(function(){W.chat.off("get rating").on("get rating",function(e){n(e)})}),!s)return u.a.createElement("div",null);var o,i=s.average,r=parseFloat(i).toFixed(1);i>1&&i<2?o=1.5:i>2&&i<3?o=2.5:i>3&&i<4?o=3.5:i>4&&i<5?o=4.5:r=o=Math.ceil(i);var c=s?"rating-stars stars-"+o.toString(10).replace(".","-"):"rating-stars";return u.a.createElement("div",null,u.a.createElement("div",{itemScope:!0,itemType:"https://schema.org/WebSite"},u.a.createElement("div",{style:{display:"none"},itemProp:"aggregateRating",itemScope:!0,itemType:"https://schema.org/AggregateRating"},u.a.createElement("meta",{itemProp:"bestRating",content:"5"}),u.a.createElement("meta",{itemProp:"worstRating",content:"1"}),u.a.createElement("meta",{itemProp:"ratingValue",content:r}),u.a.createElement("meta",{itemProp:"ratingCount",content:s.ratesQty})),u.a.createElement("div",{className:"app=rating"},u.a.createElement("div",{className:"rating-summary"},r+"/5 ("+s.ratesQty+")"),u.a.createElement("ul",{className:c},u.a.createElement("li",{className:"rating-star"}),u.a.createElement("li",{className:"rating-star"}),u.a.createElement("li",{className:"rating-star"}),u.a.createElement("li",{className:"rating-star"}),u.a.createElement("li",{className:"rating-star"})))))},Oe=function(e){var t=e.rating;return u.a.createElement("footer",null,u.a.createElement(Ne,{rating:t}),u.a.createElement("div",{className:"fb-like","data-href":"https://www.invischat.com","data-layout":"button_count","data-action":"like","data-size":"small","data-show-faces":"false","data-share":"false"},"Like"))},Te=a(345),Se=Object(Q.b)(function(e){return{chatPosition:e.app.chatPosition,isMobile:e.app.isMobile,isInChat:e.app.isInChat,isLoggedIn:e.user.isLoggedIn,isNavActive:e.app.isNavActive,isNotificationsEnabled:e.app.isNotificationsEnabled,newMessagesQty:e.message.newMessagesQty,onlineCount:e.app.onlineCount,theme:e.app.theme}},function(e){return{toggleMenu:function(){e(q.toggleMenu())},setTheme:function(){e(q.setTheme())},changeChatPosition:function(){e(q.setChatPosition()),e(z.setNewMessagesQty(0))},logOut:function(){e(K.showPopUp("LOGOUT")),e(G.logOut())},logIn:function(){e(K.showPopUp("LOGIN"))},changeNotifications:function(){e(q.changeNotifications())}}})(function(e){W.chat||W.connect();var t=e.isNavActive?"action menu-burger active":"action menu-burger",a=e.unreadMessagesCount?"action chat-switch unread":"action chat-switch",s="dark"===e.theme?"action theme-switch dark":"action theme-switch",n=e.isLoggedIn?"action logout":"action login",o=e.isNotificationsEnabled?"action notifications-switch":"action notifications-switch active";return u.a.createElement("header",null,u.a.createElement(Te.a,{exact:!0,to:"/",className:"logo"},u.a.createElement("h1",null,"Invischat")),u.a.createElement("div",{className:"actions"},u.a.createElement("span",{className:"action now-online",title:"now online"},e.onlineCount),u.a.createElement("span",{className:"action settings",onClick:function(e){e.target.classList.toggle("active")}},u.a.createElement("span",{className:"settings-wrapper"},u.a.createElement("span",{className:o,onClick:e.changeNotifications,title:"on/off notifications"}),u.a.createElement("span",{className:s,onClick:e.setTheme,title:"change theme"}))),e.isInChat&&e.isMobile&&u.a.createElement("span",{className:a,onClick:e.changeChatPosition,title:"switch chat",children:!!e.newMessagesQty&&u.a.createElement("span",{className:"new-qty"},e.newMessagesQty)}),u.a.createElement("span",{className:n,title:e.isLoggedIn?"\u0432\u0438\u0439\u0442\u0438 \u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430":"\u0443\u0432\u0456\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",onClick:e.isLoggedIn?e.logOut:e.logIn}),u.a.createElement("span",{className:t,onClick:e.toggleMenu,title:"show menu"})),u.a.createElement(be.Helmet,null,u.a.createElement("meta",{name:"theme-color",content:"dark"===e.theme?"#2F2F2F":"#FFFFFF"}),!e.ssr&&"https://www.invischat.com"!==window.location.href&&u.a.createElement("link",{rel:"canonical",href:"https://www.invischat.com"})))}),we=Object(Q.b)(function(e){return{gender:e.user.gender,isNeedRedirect:e.app.isNeedRedirect}},function(e){return{setGender:function(t){e(G.setGender(t))}}})(function(e){if(!e.ssr){var t=localStorage&&localStorage.getItem("gender");if(t&&e.isNeedRedirect)return e.setGender(t),u.a.createElement(Ee.a,{to:"/chat"})}return u.a.createElement("div",{className:"page-content home"},u.a.createElement(be.Helmet,{title:"Invischat - \u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0427\u0430\u0442 | \u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0424\u043e\u0440\u0443\u043c",meta:[{name:"description",content:'\u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442 \u0437 \u0432\u0438\u043f\u0430\u0434\u043a\u043e\u0432\u0438\u043c \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u043e\u043c \u0456 \u0444\u043e\u0440\u0443\u043c "\u0417\u0456\u0437\u043d\u0430\u043d\u043d\u044f". \u0417\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u0430 \u0442\u0430 \u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u043d\u043d\u044f. \u0412\u0456\u0434\u043a\u0440\u0438\u0439 \u0434\u0443\u0448\u0443, \u043d\u0435 \u0432\u0442\u0440\u0430\u0442\u0438\u0432\u0448\u0438 \u0433\u0456\u0434\u043d\u043e\u0441\u0442\u0456'},{name:"keywords",content:"\u0447\u0430\u0442, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442, \u0444\u043e\u0440\u0443\u043c, lfyou, \u0437\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u0430, \u0447\u0430\u0442 \u0437\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u0430 \u0432 \u0443\u043a\u0440\u0430\u0457\u043d\u0456, \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u0430, \u043d\u0435\u043a\u0442\u043e, \u0447\u0430\u0442 \u043e\u043d\u043b\u0430\u0439\u043d, chat, \u0448\u0443\u043a\u0430\u044e \u0442\u0435\u0431\u0435, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442 \u0442\u0437, \u0442\u0437, \u0448\u0442, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442 \u0456\u0444, \u0437\u0456\u0437\u043d\u0430\u043d\u043d\u044f, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0444\u043e\u0440\u0443\u043c, anonumous chat, \u0447\u0430\u0442 \u043d\u0435\u0432\u0438\u0434\u0438\u043c\u043a\u0438, Invischat, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0447\u0430\u0442, \u0442\u0438\u043f\u043e\u0432\u0435 \u0437\u0456\u0437\u043d\u0430\u043d\u043d\u044f, \u0448\u0443\u043a\u0430\u044e \u0442\u0435\u0431\u0435"}]}),u.a.createElement("div",{className:"main-logo"},u.a.createElement("img",{src:"/images/logo.png",alt:"Invischat"})),u.a.createElement("div",{className:"gender-hint"},"\u041e\u0431\u0435\u0440\u0438 \u0441\u0432\u043e\u044e \u0441\u0442\u0430\u0442\u044c:"),u.a.createElement("div",{className:"gender-fieldset"},u.a.createElement(Te.a,{className:"gender female","aria-label":"Invischat \u0434\u0456\u0432\u0447\u0438\u043d\u0430",onClick:function(){e.setGender("female")},to:"/chat"},u.a.createElement("img",{src:"../../images/female.png",alt:""})),u.a.createElement(Te.a,{className:"gender male","aria-label":"Invischat \u0445\u043b\u043e\u043f\u0435\u0446\u044c",onClick:function(){e.setGender("male")},to:"/chat"},u.a.createElement("img",{src:"../../images/male.png",alt:""}))))}),Pe=Object(Q.b)(function(e){return{isNavActive:e.app.isNavActive}},function(e){return{toggleMenu:function(){e(q.toggleMenu())}}})(function(e){return u.a.createElement("nav",{className:"menu"},u.a.createElement(Te.a,{className:"nav-link",exact:!0,onClick:e.toggleMenu,to:"/"},"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"),u.a.createElement(Te.a,{className:"nav-link",onClick:e.toggleMenu,to:"/chat"},"\u0427\u0430\u0442"),u.a.createElement(Te.a,{className:"nav-link",exact:!0,onClick:e.toggleMenu,to:"/ziznannya"},"\u0417\u0456\u0437\u043d\u0430\u043d\u043d\u044f"),u.a.createElement(Te.a,{className:"nav-link",onClick:e.toggleMenu,to:"/contact_us"},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u041d\u0430\u043c"),u.a.createElement(Te.a,{className:"nav-link",onClick:e.toggleMenu,to:"/privacy_policy"},"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 ",u.a.createElement("br",null)," \u041a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"))}),je=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={isEmptyText:!1,mailSendSuccess:!1,mailSendError:!1,emailWasSend:!1},a.scrollBottom=function(){a.pageRef.scrollTop=a.pageRef.scrollHeight},a.getTextareaRef=function(e){a.textArea=e},a.sendMail=function(){var e=a.textArea.value;e?(W.chat.emit("send mail",e),a.setState({emailWasSend:!0,isEmptyText:!1})):a.setState({isEmptyText:!0})},a.getPageRef=function(e){a.pageRef=e},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.chat.off("email send error").on("email sending error",function(){e.setState({mailSendError:!0})}),W.chat.off("email send successfully").on("email send successfully",function(){e.setState({mailSendSuccess:!0})}),window.addEventListener("resize",this.scrollBottom)}},{key:"render",value:function(){return u.a.createElement("div",{className:"page-content",ref:this.getPageRef},u.a.createElement("h2",{className:"page-title"},"\u0417\u0432'\u044f\u0437\u043e\u043a \u0456\u0437 \u041d\u0430\u043c\u0438"),this.state.emailWasSend?this.state.mailSendSuccess?u.a.createElement("p",null,"\u041b\u0438\u0441\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e. \u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0437\u0430 \u0412\u0430\u0448 \u0432\u0456\u0434\u0433\u0443\u043a!"):this.state.mailSendError?u.a.createElement("p",null,"\u041f\u0440\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0456 \u043b\u0438\u0441\u0442\u0430 \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435"):u.a.createElement("div",{className:"send-mail-loader"},u.a.createElement("span",{className:"sending-process-message"},"\u041d\u0430\u0434\u0441\u0438\u043b\u0430\u0454\u043c\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f..."),u.a.createElement("span",{className:"loader"})):u.a.createElement("div",null,u.a.createElement("p",{className:"page-description"},"\u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u043c\u0456\u0442\u0438\u043b\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u0440\u043e\u0431\u043e\u0442\u0456 \u0441\u0435\u0440\u0432\u0456\u0441\u0443 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 \u043d\u0430\u043c \u0434\u0435\u0442\u0430\u043b\u0456, \u0449\u043e\u0431 \u043c\u0438 \u043c\u043e\u0433\u043b\u0438 \u0448\u0432\u0438\u0434\u043a\u043e \u0457\u0445 \u0457\u0445 \u0443\u0441\u0443\u043d\u0443\u0442\u0438. ",u.a.createElement("br",null)," \u0422\u0430\u043a\u043e\u0436 \u0443 \u0446\u0456\u0439 \u0444\u043e\u0440\u043c\u0456 \u043c\u043e\u0436\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0441\u0432\u043e\u0457 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0449\u043e\u0434\u043e \u0432\u0434\u043e\u0441\u043a\u043e\u043d\u0430\u043b\u0435\u043d\u043d\u044f \u0441\u0435\u0440\u0432\u0456\u0441\u0443. \u041c\u0438 \u0440\u043e\u0437\u0433\u043b\u044f\u043d\u0435\u043c\u043e \u0443\u0441\u0456 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0438. \u041c\u043e\u0436\u043b\u0438\u0432\u043e, \u0441\u0430\u043c\u0435 \u0412\u0430\u0448\u0430 \u0456\u0434\u0435\u044f \u0441\u0442\u0430\u043d\u0435 \u043a\u043b\u044e\u0447\u043e\u0432\u043e\u044e \u0443 \u0440\u043e\u0437\u0432\u0438\u0442\u043a\u0443 \u0440\u0435\u0441\u0443\u0440\u0441\u0443 =)"),!!this.state.isEmptyText&&u.a.createElement("p",{className:"error"},"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),u.a.createElement("textarea",{className:"mail-text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f...",autoFocus:!0,ref:this.getTextareaRef}),u.a.createElement("div",{className:"actions buttons"},u.a.createElement("button",{className:"button ok-button",onClick:this.sendMail},"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438"))))}}]),t}(p.Component),Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).changeSavingStatus=function(){a.setState({saveNick:!a.state.saveNick})},a.acceptAction=function(){var e=a.inputRef.value,t=e.match(new RegExp(/(%m%)/));t&&(a.props.setAsModerator(),e=e.replace(t[0],"")),e.length>2&&e.length<15?W.chat.emit("check is nick exist",e):a.setState({isValid:!1})},a.checkKey=function(e){a.setState({isInUse:!1}),"Enter"===e.key&&a.acceptAction()},a.getInputRef=function(e){a.inputRef=e},a.showLoginForm=function(){a.props.hidePopUp(),setTimeout(function(){a.props.showPopUp("LOGIN")},0)},a.state={saveNick:!1,isInUse:!1,isValid:!0},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.chat.on("checked nick",function(t){if(t.isInUse)return e.setState({isInUse:t.isInUse});e.state.saveNick?localStorage.setItem("nickName",t.nick):localStorage.getItem("nickName")&&localStorage.removeItem("nickName"),W.setNick(t.nick),e.setState({isValid:!1}),e.props.hidePopUp()})}},{key:"componentWillUnmount",value:function(){W.chat.off("checked nick")}},{key:"render",value:function(){var e=this.state.saveNick?"pop-up-additional save":"pop-up-additional";return this.state.isValid||(e+=" invalid"),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text"},"\u0429\u043e\u0431 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0443 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0447\u0430\u0442, \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0456\u043a\u043d\u0435\u0439\u043c"),u.a.createElement("div",{className:e},u.a.createElement("input",{type:"text",className:"nick-input",autoFocus:!0,ref:this.getInputRef,onKeyPress:this.checkKey}),u.a.createElement("label",{className:this.state.saveNick?"checkbox-label active":"checkbox-label"},u.a.createElement("input",{id:"save_nick",type:"checkbox",onChange:this.changeSavingStatus}),u.a.createElement("span",null,"\u0417\u0430\u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438 \u0446\u0435\u0439 \u043d\u0456\u043a")),!this.state.isValid&&u.a.createElement("p",{className:"error"},"\u041d\u0456\u043a\u043d\u0435\u0439\u043c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0432\u0456\u0434 3 \u0434\u043e 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),this.state.isInUse&&u.a.createElement("p",{className:"error"},"\u041d\u0456\u043a\u043d\u0435\u0439\u043c \u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u043e\u0432\u0430\u043d\u0438\u0439 \u0437\u0430\u0440\u0435\u0454\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0435\u043c. \u042f\u043a\u0449\u043e \u0446\u0435 \u0412\u0438, ",u.a.createElement("button",{className:"button ok-button authorise",onClick:this.showLoginForm},"\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"))),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button ok-button",onClick:this.acceptAction},"\u043e\u043a")))}}]),t}(p.Component),Ce=Object(Q.b)(function(){return{}},function(e){return{hidePopUp:function(){e(K.hidePopUp())},showPopUp:function(t){e(K.showPopUp(t))},setAsModerator:function(){localStorage.setItem("status","moderator"),e(G.setAsModerator())}}})(Le),Me=Object(Q.b)(function(e){return{interlocutorId:e.room.interlocutorId,allUsersList:e.user.allUsersList,likedList:e.user.likedList}},function(e){return{changeLikedList:function(t){e(G.changeLikedList(t))},hidePopUp:function(){e(K.hidePopUp())}}})(function(e){var t,a=Object(p.useState)(!0),s=Object(Ie.a)(a,2),n=s[0],o=s[1],i=function(){var a=t.value.toString();if(a.length&&a.length<=15){var s=Object(E.a)({},e.likedList),n=e.interlocutorId;s[n]={nick:a,userId:n,socketId:e.allUsersList[n].socketId},e.changeLikedList(s),e.hidePopUp()}else o(!1)},r=n?"pop-up-additional ":"pop-up-additional invalid";return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text"},"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u043f\u043e\u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430 \u043f\u0456\u0434 \u044f\u043a\u0438\u043c \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0439\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445"),u.a.createElement("div",{className:r},u.a.createElement("input",{type:"text",autoFocus:!0,ref:function(e){t=e},onKeyPress:function(e){"Enter"===e.key&&i()}}),!n&&u.a.createElement("p",{className:"error"},"\u0406\u043c'\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c \u0442\u0430 \u0434\u043e\u0432\u0448\u0438\u043c \u043d\u0456\u0436 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button ok-button",onClick:i},"\u043e\u043a")))}),Ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={disabled:!1,tempRating:null,rating:5},a.rate=function(e){a.setState({rating:e,tempRating:e})},a.starOver=function(e){a.setState({tempRating:a.state.rating,rating:e})},a.starOut=function(){a.setState({rating:a.state.rating})},a.sendRate=function(){return W.chat.emit("chat rate",a.state.rating),localStorage.setItem("rating",a.state.rating),a.props.hidePopUp()},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=[],t=1;t<6;t++){var a="star-rating__star";this.state.rating>=t&&null!=this.state.rating&&(a+=" is-selected"),e.push(u.a.createElement("label",{className:a,key:t,onClick:this.rate.bind(this,t),onMouseOver:this.starOver.bind(this,t),onMouseOut:this.starOut},"\u2605"))}return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text"},"\u0412\u0438 \u0443\u0436\u0435 \u043f\u0440\u043e\u0432\u0435\u043b\u0438 \u0442\u0440\u0438\u0432\u0430\u043b\u0438\u0438\u0439 \u0447\u0430\u0441 \u0443 \u043d\u0430\u0448\u043e\u043c\u0443 \u0447\u0430\u0442\u0456. \u041f\u0440\u043e\u043f\u043e\u043d\u0443\u0454\u043c\u043e \u043e\u0446\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0432\u0456\u043d \u0412\u0430\u043c \u0441\u043f\u043e\u0434\u043e\u0431\u0430\u0432\u0441\u044f \u0430\u0431\u043e \u043d\u0435 \u0441\u043f\u043e\u0434\u043e\u0431\u0430\u0432\u0441\u044f. \u0412\u0430\u0448\u0430 \u0434\u0443\u043c\u043a\u0430 \u0432\u0430\u0436\u043b\u0438\u0432\u0430 \u0434\u043b\u044f \u043d\u0430\u0441!"),u.a.createElement("p",{className:"pop-up-stars"},e),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button ok-button",onClick:this.sendRate},"\u041e\u0446\u0456\u043d\u0438\u0442\u0438")))}}]),t}(p.Component),_e=Object(Q.b)(function(){return{}},function(e){return{hidePopUp:function(){e(K.hidePopUp())}}})(Ue),Re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).checkNick=function(e){if("logIn"===a.state.type)return a.setState({nick:e.target.value,nickError:!1});var t=e.target.value;if(t.length>=3&&t.length<=15)return a.setState({nick:t,nickError:!1});a.setState({nickError:"\u041b\u043e\u0433\u0456\u043d \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0432\u0456\u0434 3 \u0434\u043e 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432",isInvalidNick:!0})},a.checkPassword=function(e){var t,s=e.target.value;"logIn"===a.state.type?t=!1:s.length<6?t="\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u0441\u043a\u043b\u0430\u0434\u0430\u0442\u0438\u0441\u044f \u043c\u0456\u043d\u0456\u043c\u0443\u043c \u0437 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432":s.match(new RegExp(/([\u0410-\u044f])/))?t="\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043a\u0438\u0440\u0438\u043b\u0438\u0447\u043d\u0438\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432":s.match(new RegExp(/(\s)/))?t="\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043f\u0440\u043e\u0431\u0456\u043b\u0456\u0432":s.match(new RegExp(/([0-9])/))?s.match(new RegExp(/([A-Z])/))||(t="\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0445\u043e\u0447\u0430 \u0431 \u043e\u0434\u043d\u0443 \u0432\u0435\u043b\u0438\u043a\u0443 \u043b\u0456\u0442\u0435\u0440\u0443"):t="\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0445\u043e\u0447\u0430 \u0431 \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443",a.setState({passError:t,password:s})},a.checkPasswordIsSame=function(e){var t=e.target.value,s=t!==a.state.password&&"\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c";a.setState({repeatedPass:t,repeatPassError:s})},a.logIn=function(){var e=a.state.nick,t=a.state.password;return e?t?void W.chat.emit("login",{nick:a.state.nick,password:a.state.password,isNew:"signIn"===a.state.type}):a.setState({passError:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}):a.setState({nickError:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d"})},a.changeIsSave=function(){a.setState({isSave:!a.state.isSave})},a.state={nick:null,password:null,repeatedPass:null,nickError:!1,passError:!1,repeatPassError:!1,isSave:!0,type:null},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.chat.off("login response").on("login response",function(t){t.nickExist?e.setState({nickError:"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0437 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0456\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0439"}):t.invalid?e.setState({passError:"\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u043b\u043e\u0433\u0456\u043d \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u044c"}):(e.props.setAsLoggedIn(t),e.state.isSave&&localStorage.setItem("credentials",JSON.stringify({nick:t.nick,password:t.password})))})}},{key:"componentWillUnmount",value:function(){W.chat.off("login response")}},{key:"render",value:function(){var e=this,t=this.state.type,a=this.state.nickError||this.state.passError||this.state.repeatPassError;return this.props.isLoggedIn?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text"},"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0443\u0432\u0456\u0439\u0448\u043b\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button ok-button",onClick:this.props.hidePopUp,children:"\u043e\u043a"}))):u.a.createElement(u.a.Fragment,null,t?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-additional"},u.a.createElement("div",{className:"login-credentials"},u.a.createElement("div",{className:"field"},u.a.createElement("label",{className:"label login",htmlFor:"set_nick"}),u.a.createElement("input",{className:"set-nick",id:"set_nick",type:"text",placeholder:"\u041b\u043e\u0433\u0456\u043d",autoFocus:!0,onChange:this.checkNick}),!!this.state.nickError&&u.a.createElement("p",{className:"error"},this.state.nickError)),u.a.createElement("div",{className:"field"},u.a.createElement("label",{className:"label password",htmlFor:"set_password"}),u.a.createElement("input",{className:"set-password",id:"set_password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",onChange:this.checkPassword}),!!this.state.passError&&u.a.createElement("p",{className:"error"},this.state.passError)),"signIn"===t&&u.a.createElement("div",{className:"field"},u.a.createElement("label",{className:"label password",htmlFor:"repeat_password"}),u.a.createElement("input",{className:"repeat-password",id:"repeat_password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",onChange:this.checkPasswordIsSame}),!!this.state.repeatPassError&&u.a.createElement("p",{className:"error"},this.state.repeatPassError))),u.a.createElement("label",{className:this.state.isSave?"checkbox-label active":"checkbox-label"},u.a.createElement("input",{id:"save_nick",type:"checkbox",onChange:this.changeIsSave}),u.a.createElement("span",null,"\u0417\u0430\u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438 \u043c\u0435\u043d\u0435"))),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button ok-button",onClick:this.logIn,disabled:a,children:"\u0443\u0432\u0456\u0439\u0442\u0438"}))):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text"},this.props.isInChat?"\u0423\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0443 \u0441\u0432\u0456\u0439 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0430\u0431\u043e \u0441\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u043d\u043e\u0432\u0438\u0439":"\u041a\u043e\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u043e\u0446\u0456\u043d\u044e\u0432\u0430\u0442\u0438 \u043f\u043e\u0441\u0442\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u043b\u0438\u0448\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456."),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button button-accept",onClick:function(){e.setState({type:"logIn"})},children:"\u0432\u0445\u0456\u0434"}),u.a.createElement("button",{className:"button button-accept",onClick:function(){e.setState({type:"signIn"})},children:"\u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}))))}}]),t}(p.Component),xe=Object(Q.b)(function(e){return{isLoggedIn:e.user.isLoggedIn,isInChat:e.app.isInChat}},function(e){return{hidePopUp:function(){e(K.hidePopUp())},setAsLoggedIn:function(t){e(G.setAsLoggedIn(t))}}})(Re),De=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).accept=function(){switch(a.props.type){case"PRIVATE_REQUEST":a.acceptPrivateRequest();break;default:return a.props.hidePopUp()}a.props.hidePopUp()},a.reject=function(){switch(a.props.type){case"PRIVATE_REQUEST":a.rejectPrivateRequest();break;default:return a.props.hidePopUp()}a.props.hidePopUp()},a.acceptPrivateRequest=function(){if(W.chat.emit("accept private request",{receiverNick:a.props.nick,receiverId:W.chat.id,senderId:a.props.senderId,senderNick:a.props.senderNick}),!a.props.isInChat)return u.a.createElement(Ee.a,{to:"/chat"})},a.rejectPrivateRequest=function(){W.chat.emit("reject private request",{senderId:a.props.senderId,receiverNick:a.props.nick})},a.state={title:"",isModal:!1,text:"",customContent:null},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e;switch(this.props.type){case"CREATE_NICK":e={title:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0456\u043a\u043d\u0435\u0439\u043c",customContent:u.a.createElement(Ce,null)};break;case"RATE_APP":e={title:"\u041e\u0446\u0456\u043d\u0456\u0442\u044c \u0447\u0430\u0442",customContent:u.a.createElement(_e,null)};break;case"PRIVATE_REQUEST":e={title:"\u0417\u0430\u043f\u0438\u0442 \u043d\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442",text:(this.props.senderNick?this.props.senderNick:"\u0425\u0442\u043e\u0441\u044c \u0456\u0437 \u0412\u0430\u0448\u0438\u0445 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0445 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0456\u0432")+" \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0454 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0443 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442. \u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442 \u0431\u0443\u0434\u0435 \u0432\u0442\u0440\u0430\u0447\u0435\u043d\u043e. \u0411\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438?",isModal:!0};break;case"LIKE_INTERLOCUTOR":e={title:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430",customContent:u.a.createElement(Me,null)};break;case"LOGIN":e={title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u044f",customContent:u.a.createElement(xe,null)};break;case"LOGOUT":e={title:"\u0412\u0438\u0445\u0456\u0434 \u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",text:"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0439\u0448\u043b\u0438 \u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"};break;case"POST_ADDED":e={title:"\u041f\u043e\u0441\u0442 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e",text:"\u0412\u0430\u0448 \u043f\u043e\u0441\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0442\u0430 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0443, \u043f\u0456\u0441\u043b\u044f \u044f\u043a\u043e\u0457, \u0443 \u0440\u0430\u0437\u0456 \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0440\u0456\u0448\u0435\u043d\u043d\u044f, \u0432\u0456\u043d \u0437'\u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0443 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0456\u0439 \u0441\u0442\u0440\u0456\u0447\u0446\u0456"};break;case"PRIVATE_REQUEST_REJECTED":e={title:"\u0417\u0430\u043f\u0438\u0442 \u0432\u0456\u0434\u0445\u0438\u043b\u0435\u043d\u043e",text:this.props.interlocutor+" \u0432\u0456\u0434\u043c\u043e\u0432\u0438\u0432\u0441\u044f(-\u043b\u0430\u0441\u044c) \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0442\u0438 \u0432 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442"};break;case"CAN_NOT_REFRESH":e={title:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u0438\u0439 \u043f\u043e\u0448\u0443\u043a",text:"\u041d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u043e\u0448\u0443\u043a, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0449\u0435 \u0442\u0440\u0438\u0432\u0430\u0454 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439"};break;case"PRIVATE_REQUEST_ACCEPTED":e={title:"\u0417\u0430\u043f\u0438\u0442 \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u043e",text:"\u0412\u0430\u0441 \u0437'\u0454\u0434\u043d\u0430\u043d\u043e \u0437 "+this.props.interlocutor+". \u041f\u0440\u0438\u0454\u043c\u043d\u043e\u0433\u043e \u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u043d\u043d\u044f!"};break;case"IMAGE_UPLOADING_ERROR":e={title:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f",text:"\u041d\u0430 \u0436\u0430\u043b\u044c, \u043d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u043f\u0456\u0437\u043d\u0456\u0449\u0435"};break;default:e={}}this.setState(e)}},{key:"render",value:function(){return u.a.createElement("div",{className:"pop-up-overlay"},u.a.createElement("div",{className:"pop-up"},u.a.createElement("div",{className:"pop-up-title-wrapper"},u.a.createElement("span",{className:"pop-up-title",children:this.state.title}),u.a.createElement("span",{className:"pop-up-close",onClick:this.props.hidePopUp})),this.state.customContent?this.state.customContent:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text",children:this.state.text}),u.a.createElement("div",{className:"pop-up-actions"},this.state.isModal?u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{className:"button button-reject",onClick:this.reject},"\u043d\u0456"),u.a.createElement("button",{className:"button button-accept",onClick:this.accept},"\u0442\u0430\u043a")):u.a.createElement("button",{className:"button ok-button",onClick:this.props.hidePopUp},"\u043e\u043a")))))}}]),t}(p.Component),Fe=Object(Q.b)(function(e){return{type:e.popup.type,isInChat:e.app.isInChat,senderNick:e.user.senderNick,interlocutor:e.user.interlocutorNick,senderId:e.user.senderId,nick:e.user.nick}},function(e){return{hidePopUp:function(){e(K.hidePopUp())}}})(De),qe=function(){return u.a.createElement("div",{className:"page-content privacy-policy"},u.a.createElement("h3",null,"\u041f\u041e\u041b\u0406\u0422\u0418\u041a\u0410 \u041a\u041e\u041d\u0424\u0406\u0414\u0415\u041d\u0426\u0406\u0419\u041d\u041e\u0421\u0422\u0406"),u.a.createElement("h4",null,"1. \u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0456 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f"),u.a.createElement("p",null,"\u0426\u0435\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043e\u043f\u0438\u0441\u0443\u0454 \u043f\u043e\u043b\u0456\u0442\u0438\u043a\u0443 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456 \u0434\u043b\u044f \u0432\u0435\u0431-\u0434\u043e\u0434\u0430\u0442\u043a\u0443 Invischat, \u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u043e\u0433\u043e \u0437\u0430 \u0432\u0435\u0431-\u0430\u0434\u0440\u0435\u0441\u043e\u044e ",u.a.createElement("a",{href:"https://www.invischat.com"},"https://www.invischat.com")," (\u043d\u0430\u0434\u0430\u043b\u0456 \u2013 \xab\u0427\u0430\u0442\xbb). \u0423 \u0446\u044c\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456 \u0440\u043e\u0437\u2019\u044f\u0441\u043d\u044e\u0454\u0442\u044c\u0441\u044f, \u044f\u043a\u0456 \u0432\u0438\u0434\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0437\u0456\u0431\u0440\u0430\u043d\u0456 \u0456 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c\u0438 \u0427\u0430\u0442\u0443, \u0445\u043c\u0430\u0440\u043d\u0438\u043c\u0438 \u0441\u0445\u043e\u0432\u0438\u0449\u0430\u043c\u0438 \u0442\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u043c\u0438 \u0441\u0435\u0440\u0432\u0456\u0441\u0430\u043c\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e\u0457 \u0440\u043e\u0431\u043e\u0442\u0438 \u0427\u0430\u0442\u0443, \u0442\u0430 \u044f\u043a \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0446\u044f \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f."),u.a.createElement("p",null,"\u0414\u0430\u043d\u0438\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043d\u0435 \u043f\u043e\u0448\u0438\u0440\u044e\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0438, \u043f\u0435\u0440\u0435\u0445\u0456\u0434 \u043d\u0430 \u044f\u043a\u0456 \u0437\u0434\u0456\u0439\u0441\u043d\u044e\u0454\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0433\u0456\u043f\u0435\u0440\u043f\u043e\u0441\u0438\u043b\u0430\u043d\u044c, \u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0445 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u0445 \u0427\u0430\u0442\u0443."),u.a.createElement("h4",null,"2. \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0438\u0439 \u0437\u0431\u0456\u0440 \u0456 \u043e\u0431\u0440\u043e\u0431\u043a\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457"),u.a.createElement("p",null,"\u0414\u043b\u044f \u0432\u0435\u0434\u0435\u043d\u043d\u044f \u0430\u043d\u0430\u043b\u0456\u0442\u0438\u043a\u0438 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0441\u0435\u0430\u043d\u0441\u0456\u0432 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0443 \u0427\u0430\u0442\u0456 \u0437 \u043f\u0440\u0438\u0441\u0442\u0440\u043e\u0457\u0432 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u0447\u0456\u0432 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0437\u0431\u0438\u0440\u0430\u0454\u0442\u044c\u0441\u044f \u0456 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f:"),u.a.createElement("ul",null,u.a.createElement("li",null,"\u0432\u0438\u0434 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438;"),u.a.createElement("li",null,"\u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u043d\u044f \u0427\u0430\u0442\u0443;"),u.a.createElement("li",null,"\u0442\u0440\u0438\u0432\u0430\u043b\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u0445 \u0427\u0430\u0442\u0443;"),u.a.createElement("li",null,"\u0440\u0435\u0433\u0456\u043e\u043d \u043f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0441\u0442\u0430\u0442\u044c \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u0447\u0430;"),u.a.createElement("li",null,"\u043f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0456 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438;"),u.a.createElement("li",null,"\u0430\u0434\u0440\u0435\u0441\u0430 \u0442\u0430 \u043d\u0430\u0437\u0432\u0430 \u0441\u0430\u0439\u0442\u0443 \u0430\u0431\u043e \u0432\u0435\u0431-\u0434\u043e\u0434\u0430\u0442\u043a\u0443 \u0437 \u044f\u043a\u043e\u0433\u043e \u0431\u0443\u0432 \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0445\u0456\u0434 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0427\u0430\u0442\u0443."),u.a.createElement("li",null,"\u0456\u043d\u0448\u0456 \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u0432\u0438 \u043d\u0430\u0434\u0430\u043b\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 Google \u0443 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u043c\u0443 \u0437\u0430\u043f\u0438\u0441\u0456 Google")),u.a.createElement("h4",null,"3. \u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0456\u0441\u0442\u044c"),u.a.createElement("p",null,"\u0427\u0430\u0442 \u043d\u0435 \u0437\u043e\u0431\u043e\u0432\u2019\u044f\u0437\u0443\u0454 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0432\u0432\u043e\u0434\u0438\u0442\u0438 \u0436\u043e\u0434\u043d\u0443 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e, \u044f\u043a\u0443 \u043c\u043e\u0436\u043d\u0430 \u0432\u0432\u0430\u0436\u0430\u0442\u0438 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u044e. \u0423\u0441\u0456 \u043f\u043e\u0432\u0456\u0434\u043e\u0432\u043c\u0435\u043d\u043d\u044f \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c\u0441\u044f \u0432\u0438\u043a\u043b\u044e\u0447\u043d\u043e \u0443 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0456 \u043d\u0430 \u0442\u0435\u0440\u043c\u0456\u043d \u0440\u0456\u0432\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u0438\u0439 \u0442\u0440\u0438\u0432\u0430\u043b\u043e\u0441\u0442\u0456 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u043e\u0457 \u0441\u0435\u0441\u0456\u0457.",u.a.createElement("br",null),"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u0438\u0439 \u0432\u043c\u0456\u0441\u0442 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u0436\u043e\u0434\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u043d\u0435 \u0444\u0456\u043a\u0441\u0443\u0454\u0442\u044c\u0441\u044f \u0439 \u043d\u0435 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 \u0427\u0430\u0442\u0443. \u0423\u0441\u0456 \u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0456 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437 \u043f\u0440\u0438\u0441\u0442\u0440\u043e\u044e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u043e\u0433\u043e \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u0439 \u0445\u043c\u0430\u0440\u043d\u0438\u0439 \u0441\u0435\u0440\u0432\u0456\u0441 ",u.a.createElement("a",{href:"https://cloudinary.com"},"cloudinary.com")," . \u0423\u0441\u0456 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0438\u0434\u0430\u043b\u044f\u044e\u0442\u044c\u0441\u044f \u0437\u0456 \u0441\u0445\u043e\u0432\u0438\u0449\u0430 \u0437 \u0456\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u043e\u043c 10 \u0445\u0432\u0438\u043b\u0438\u043d."),u.a.createElement("h4",null,"4. \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043f\u043b\u0430\u0433\u0456\u043d\u0456\u0432 \u0441\u043e\u0446\u0456\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0435\u0440\u0435\u0436"),u.a.createElement("p",null,"\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0435 \u043e\u0441\u043d\u0430\u0449\u0435\u043d\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a \u0427\u0430\u0442\u0443 \u0432\u043a\u043b\u044e\u0447\u0430\u0454 \u0432 \u0441\u0435\u0431\u0435 \u043f\u043b\u0430\u0433\u0456\u043d\u0438 \u0441\u043e\u0446\u0456\u0430\u043b\u044c\u043d\u043e\u0457 \u043c\u0435\u0440\u0435\u0436\u0456 facebook.com, \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u044f\u043a\u043e\u044e \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u0456 \u0448\u0442\u0430\u0431-\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 Facebook Inc, \u0440\u043e\u0437\u0442\u0430\u0448\u043e\u0432\u0430\u043d\u043e\u0457 \u0432 \u0421\u0428\u0410, \u0448\u0442\u0430\u0442 \u041a\u0430\u043b\u0456\u0444\u043e\u0440\u043d\u0456\u044f, \u041f\u0430\u043b\u043e \u0410\u043b\u044c\u0442\u043e, \u0410\u0432\u0435\u043d\u044e \u041a\u0430\u043b\u0456\u0444\u043e\u0440\u043d\u0456\u044f 94304, \u0432\u0443\u043b.1601 (\u043d\u0430\u0434\u0430\u043b\u0456 \xabFacebook\xbb)."),u.a.createElement("p",null,"\u0426\u0456 \u043f\u043b\u0430\u0433\u0456\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 \xabLike\xbb \u0430\u0431\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \xab\u041c\u0435\u043d\u0456 \u043f\u043e\u0434\u043e\u0431\u0430\u0454\u0442\u044c\u0441\u044f\xbb, \u0430 \u0442\u0430\u043a\u043e\u0436 \xab\u041f\u043e\u0448\u0438\u0440\u0438\u0442\u0438\xbb \u0432 \u043c\u0435\u0440\u0435\u0436\u0456 Facebook. \u041f\u043b\u0430\u0433\u0456\u043d \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u0438\u043c\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 Facebook \u0434\u0430\u043d\u0456 \u043f\u0440\u043e \u0442\u0435, \u044f\u043a\u0456 \u0441\u0430\u043c\u0435 \u043d\u0430\u0448\u0456 \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0412\u0438 \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u043b\u0438. \u042f\u043a\u0449\u043e \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u043d\u0430 Facebook \u0456 \u0412\u0438 \u0437\u0430\u0439\u0448\u043b\u0438 \u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043f\u0456\u0434 \u0441\u0432\u043e\u0457\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c, \u043f\u0456\u0434 \u0447\u0430\u0441 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0448\u043e\u0457 \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 Facebook \u043f\u043e\u0432'\u044f\u0437\u0443\u0432\u0430\u0442\u0438\u043c\u0435 \u0446\u044e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u0437 \u0412\u0430\u0448\u0438\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c."),u.a.createElement("p",null,"\u0423 \u0440\u0430\u0437\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0456\u0439 \u043f\u043b\u0430\u0433\u0456\u043d\u0430 (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u043f\u0440\u0438 \u043d\u0430\u0442\u0438\u0441\u043a\u0430\u043d\u043d\u0456 \u043a\u043d\u043e\u043f\u043a\u0438 \xab\u041c\u0435\u043d\u0456 \u043f\u043e\u0434\u043e\u0431\u0430\u0454\u0442\u044c\u0441\u044f\xbb \u0447\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u043d\u043d\u0456), \u0446\u044f \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u0442\u0430\u043a\u043e\u0436 \u0431\u0443\u0434\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0456\u0437\u043e\u0432\u0430\u043d\u0430 \u0437 \u0412\u0430\u0448\u0438\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c \u043d\u0430 Facebook."),u.a.createElement("p",null,"\u0411\u0456\u043b\u044c\u0448 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0437\u0431\u0456\u0440 \u0442\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043c\u0435\u0440\u0435\u0436\u0435\u044e Facebook, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043f\u0440\u043e \u043f\u0440\u0430\u0432\u0430 \u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u0437\u0430\u0445\u0438\u0441\u0442\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 \u0432 \u0434\u0430\u043d\u043e\u043c\u0443 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0456 \u043c\u043e\u0436\u043d\u0430 \u0437\u043d\u0430\u0439\u0442\u0438 \u0432 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 \u043f\u0440\u043e \u0437\u0430\u0445\u0438\u0441\u0442 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 Facebook."),u.a.createElement("p",null,"\u0429\u043e\u0431 \u0443\u043d\u0438\u043a\u043d\u0443\u0442\u0438 \u0437\u0432'\u044f\u0437\u043a\u0443 \u043c\u0435\u0440\u0435\u0436\u0456 Facebook \u0437 \u043d\u0430\u0448\u0438\u043c\u0438 \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u043e\u0433\u043e \u0437\u0432\u2019\u044f\u0437\u043a\u0443 \u0434\u0430\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u0437 \u0412\u0430\u0448\u0438\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c, \u0412\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0439\u0442\u0438 \u0437 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 Facebook \u043f\u0435\u0440\u0435\u0434 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u043d\u044f\u043c \u043d\u0430\u0448\u0438\u0445 \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a."),u.a.createElement("h4",null,"5. \u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d"),u.a.createElement("p",null,"\u0427\u0430\u0442 \u043d\u0430\u0434\u0430\u0454 \u0440\u0435\u0441\u0443\u0440\u0441\u0438 \u0434\u043b\u044f \u0437\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u0430 \u0443 \u0456\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0456 \u043b\u0438\u0448\u0435 \u0440\u043e\u0437\u0432\u0430\u0436\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0443. \u0427\u0430\u0442 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0437\u0430\u0441\u043e\u0431\u0456\u0432 \u0446\u0435\u043d\u0437\u0443\u0440\u0438 \u0434\u043b\u044f \u0444\u0456\u043b\u044c\u0442\u0440\u0430\u0446\u0456\u0457 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0442\u0430 \u0433\u0440\u0430\u0444\u0456\u0447\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0432\u0438\u043f\u0430\u0434\u043a\u043e\u0432\u0438\u043c \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u043e\u043c \u0443 \u0427\u0430\u0442\u0456, \u0442\u043e\u043c\u0443 \u0437\u0430\u0431\u043e\u0440\u043e\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0440\u0435\u0441\u0443\u0440\u0441\u0443 \u0434\u0456\u0442\u044c\u043c\u0438, \u0449\u043e \u043d\u0435 \u0434\u043e\u0441\u044f\u0433\u043b\u0438 \u0448\u0456\u0441\u0442\u043d\u0430\u0434\u0446\u044f\u0442\u0438\u0440\u0456\u0447\u043d\u043e\u0433\u043e \u0432\u0456\u043a\u0443. \u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0437\u0430 \u0432\u043c\u0456\u0441\u0442 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u043d\u0435\u0441\u0435 \u0432\u0438\u043a\u043b\u044e\u0447\u043d\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043d\u0438\u043a."),u.a.createElement("h4",null,"6. \u0417\u043c\u0456\u043d\u0430 \u041f\u041e\u041b\u0406\u0422\u0418\u041a\u0418 \u041a\u041e\u041d\u0424\u0406\u0414\u0415\u041d\u0426\u0406\u0419\u041d\u041e\u0421\u0422\u0406"),u.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u044e\u0447\u0438 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u0445 \u0427\u0430\u0442\u0443 \u0412\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u043f\u043e\u0433\u043e\u0434\u0436\u0443\u0454\u0442\u0435\u0441\u044f \u0437 \u0443\u043c\u043e\u0432\u0430\u043c\u0438 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456, \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0435\u043d\u0438\u043c\u0438 \u0443 \u0434\u0430\u043d\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456 \u0442\u0430 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0443\u0454\u0442\u0435, \u0449\u043e \u043f\u043e\u0433\u043e\u0434\u0436\u0443\u0454\u0442\u0435\u0441\u044f \u0437 \u0442\u0438\u043c, \u0449\u043e \u0434\u0430\u043d\u0430 \u041f\u041e\u041b\u0406\u0422\u0418\u041a\u0410 \u041a\u041e\u041d\u0424\u0406\u0414\u0415\u041d\u0426\u0406\u0419\u041d\u041e\u0421\u0422\u0406 \u043c\u043e\u0436\u0435 \u0447\u0430\u0441 \u0432\u0456\u0434 \u0447\u0430\u0441\u0443 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438\u0441\u044f. \u0417\u043c\u0456\u043d\u0438, \u0449\u043e \u0432\u043d\u043e\u0441\u044f\u0442\u044c\u0441\u044f \u0434\u043e \u041f\u041e\u041b\u0406\u0422\u0418\u041a\u0418 \u041a\u041e\u041d\u0424\u0406\u0414\u0415\u041d\u0426\u0406\u0419\u041d\u041e\u0421\u0422\u0406, \u043f\u0443\u0431\u043b\u0456\u043a\u0443\u044e\u0442\u044c\u0441\u044f \u0443 \u0427\u0430\u0442\u0456."))},Ge=a(344),He=a(218),ze=a(343),Ve=a(18),We="oddbpaek",Qe="https://api.cloudinary.com/v1_1/dfgkgr7ui/image/upload",Be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleImageUpload=function(e){ae.a.post(Qe).field("upload_preset",We).field("tags","post").field("folder","forum").field("file",e).end(function(e,t){e?(a.removePreview(),a.props.showPopUp("IMAGE_UPLOADING_ERROR")):""!==t.body.secure_url&&a.setState({imgPubId:t.body.public_id})})},a.uploadImage=function(e){var t=e.target.files;t.length&&(a.setState({uploadedFile:t[0]}),a.handleImageUpload(t[0]))},a.removePreview=function(){a.setState({uploadedFile:null,imgPubId:null})},a.getTextareaRef=function(e){a.textarea=e},a.getInputRef=function(e){a.input=e},a.addPost=function(){var e=new Date,t=e.getDate(),s=e.getMonth()+1;t<10&&(t="0"+t),s<10&&(s="0"+s);var n=t+"."+s+"."+e.getFullYear(),o={author:a.props.isLoggedIn?a.props.login:"\u0413\u0456\u0441\u0442\u044c",authorId:a.props.isLoggedIn?a.props.userId:"23742386234",isAllowComments:a.state.isAllowComments,title:a.input.value,text:a.textarea.value,image:a.state.imgPubId,date:n,likesQty:0,viewsQty:0,comments:[]};W.chat.emit("create post",o)},a.checkTitleLength=function(e){var t=e.target.value.length>50;a.setState({validationError:!!t&&"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0434\u043e\u0432\u0448\u0438\u043c \u043d\u0456\u0436 50 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"})},a.manageComments=function(){a.setState({isAllowComments:!a.state.isAllowComments})},a.state={uploadedFile:null,isAllowComments:!0,validationError:null,imgPubId:null,isAdded:!1},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.chat.off("post added").on("post added",function(){e.setState({isAdded:!0}),e.props.showPopUp("POST_ADDED")})}},{key:"componentWillUnmount",value:function(){W.chat.off("post added")}},{key:"render",value:function(){return this.state.isAdded?u.a.createElement(Ee.a,{to:"/ziznannya"}):u.a.createElement("div",null,u.a.createElement("h3",null,"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430"),u.a.createElement("div",{className:"post-create-form"},u.a.createElement("span",{className:"post-create-label"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:"),u.a.createElement("input",{className:"post-create-title",type:"text",onChange:this.checkTitleLength,ref:this.getInputRef}),u.a.createElement("p",{className:"error"},this.state.validationError),u.a.createElement("span",{className:"post-create-label"},"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f:"),u.a.createElement("div",{className:"post-image"},this.state.uploadedFile?this.state.imgPubId?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"remove-preview",onClick:this.removePreview}),u.a.createElement(Ve.Image,{cloudName:"dfgkgr7ui",publicId:this.state.imgPubId},u.a.createElement(Ve.Transformation,{height:"120",fetchFormat:"auto",width:"120",crop:"fill"}))):u.a.createElement("span",{className:"loader"}):u.a.createElement("label",{className:"action upload-post-image",htmlFor:"post_image",title:"\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"},u.a.createElement("input",{type:"file",className:"upload-photo",name:"post_image",id:"post_image",accept:"image/*",onChange:this.uploadImage}))),u.a.createElement("span",{className:"post-create-label"},"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430:"),u.a.createElement("textarea",{ref:this.getTextareaRef}),u.a.createElement("label",{className:this.state.isAllowComments?"checkbox-label":"checkbox-label active"},u.a.createElement("input",{type:"checkbox",onChange:this.manageComments}),u.a.createElement("span",null,"\u0417\u0430\u0431\u043e\u0440\u043e\u043d\u0438\u0442\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u043d\u043d\u044f")),u.a.createElement("div",{className:"actions buttons"},u.a.createElement("button",{className:"button ok-button",disabled:this.state.validationError,onClick:this.addPost},"\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"))))}}]),t}(p.Component),Ye=Object(ze.a)(Object(Q.b)(function(e){return{isLoggedIn:e.user.isLoggedIn,nick:e.user.nick,login:e.user.login,userId:e.user.userId}},function(e){return{showPopUp:function(t){e(K.showPopUp(t))}}})(Be)),Xe=function(e){var t=e.text;return u.a.createElement("div",{className:"loading"},u.a.createElement("span",{className:"loader"}),u.a.createElement("p",{className:"className"},t))},Ke=Object(p.lazy)(function(){return a.e(1).then(a.bind(null,340))}),Je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).scrollList=function(e){var t=e.target;t.scrollHeight<=Math.ceil(t.scrollTop+t.clientHeight+1)&&a.state.hasMore&&a.loadPosts()},a.loadPosts=function(){var e=a.props.posts,t=Object.keys(e).reverse(),s=0,n=[];if(e&&t.length){var o=0;t.forEach(function(i,r){if(e.hasOwnProperty(i)&&!(t.indexOf(i)<=a.state.lastPostId)){if(!(o<=4))return!1;var c=e[i];n.push(u.a.createElement(p.Suspense,{key:i,fallback:u.a.createElement(Xe,{text:"\u041f\u043e\u0441\u0442 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f..."})},u.a.createElement(Ke,{postId:i,postData:c}))),o++,s=i}});var i=t.indexOf(s);a.setState({lastPostId:i,posts:[].concat(Object(k.a)(a.state.posts),n),hasMore:i!==t.length-1})}},a.state={posts:[],lastPostIndex:0,hasMore:!0},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadPosts()}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"posts-list",ref:function(t){return e.listRef=t},onScroll:this.scrollList},u.a.createElement(Te.a,{className:"post-add",to:"/ziznannya/new_post"}),this.state.posts,this.state.hasMore?u.a.createElement(Xe,null):u.a.createElement("button",{className:"button ok-button",onClick:function(){return e.listRef.scrollTo(0,0)}},"\u041d\u0430 \u043f\u043e\u0447\u0430\u0442\u043e\u043a"))}}]),t}(p.Component),Ze=Object(ze.a)(Object(Q.b)(function(e){return{isLoggedIn:e.user.isLoggedIn}})(Je)),$e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).managePost=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=Object(E.a)({},a.state.newPosts),n=e.target.dataset.postId,o=s[n],i=Object(E.a)({},o,{publish:t});W.chat.emit("add/delete post",i),delete s[n],a.setState({newPosts:s})},a.state={newPosts:null},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.chat.emit("fetch new posts"),W.chat.on("get new posts",function(t){var a={};t.forEach(function(e){a[e._id]=e}),e.setState({newPosts:a})})}},{key:"render",value:function(){var e=this,t=this.state.newPosts,a=[];if(!t)return"\u041d\u043e\u0432\u0438\u0445 \u043f\u043e\u0441\u0442\u0456\u0432 \u043d\u0435\u043c\u0430\u0454";for(var s in t)if(t.hasOwnProperty(s)){var n=t[s];a.push(u.a.createElement("div",{className:"new-post",key:s},u.a.createElement("h4",null,t.title),u.a.createElement(Ve.Image,{cloudName:"dfgkgr7ui",publicId:n.image,alt:""},u.a.createElement(Ve.Transformation,{height:"200",fetchFormat:"auto",width:"auto",crop:"scale"})),u.a.createElement("p",null,n.text),u.a.createElement("div",{className:"new-post-actions"},u.a.createElement("button",{type:"button",onClick:function(t){return e.managePost(t,!1)},"data-post-id":n._id,className:"button button-reject"},"Delete"),u.a.createElement("button",{type:"button",onClick:function(t){return e.managePost(t)},"data-post-id":n._id,className:"button button-accept"},"Add"))))}return u.a.createElement("div",{className:"new-posts-list"},a)}}]),t}(p.Component),et={setAllPostsData:function(e){return{type:"SET_POSTS",payload:e}}},tt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).getTextareaRef=function(e){a.textarea=e},a.setTextareaFocus=function(){if(!a.props.isLoggedIn)return a.props.showPopUp("LOGIN");a.textarea.focus()},a.likePost=function(){if(!a.props.isLoggedIn)return a.props.showPopUp("LOGIN");var e,t=a.props.match.params.post_id,s=a.props.likedPosts,n=Object(E.a)({},s),o=Object(E.a)({},a.props.postsData),i=a.props.userId;s[t]?(e=!1,o[t].likesQty-=1,delete n[t]):(e=!0,o[t].likesQty+=1,n[t]=!0),W.chat.emit("like post",{userId:i,isLike:e,postId:t}),a.props.setAllPostsData(o),a.props.likeDislikePost(n)},a.addComment=function(){var e=new Date,t=e.getDate(),s=e.getMonth()+1;t<10&&(t="0"+t),s<10&&(s="0"+s);var n=t+"."+s+"."+e.getFullYear(),o={text:a.state.comment,author:a.props.login,postId:a.props.match.params.post_id,date:n};W.chat.emit("comment post",o),a.textarea.value=""},a.setCommentText=function(e){a.setState({comment:e.target.value})},a.state={comment:null},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.post_id.toString();this.props.postsData?W.chat.emit("see post",t):W.chat.emit("fetch posts"),W.chat.on("get posts",function(a){var s={};a.forEach(function(e){s[e.post_id]=e.post}),e.props.setAllPostsData(s),W.chat.emit("see post",t)}),W.chat.off("seen post").on("seen post",function(){var a=Object(E.a)({},e.props.postsData);a[t].viewsQty+=1,e.props.setAllPostsData(a)})}},{key:"componentWillUnmount",value:function(){W.chat.off("seen post")}},{key:"render",value:function(){if(!this.props.postsData)return u.a.createElement("div",{className:"loader-wrapper"},u.a.createElement(Xe,{text:"\u041f\u043e\u0441\u0442 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435..."}));var e=this.props.match.params.post_id,t=this.props.postsData[e];if(!t)return u.a.createElement("div",{className:"post-not-found"},u.a.createElement("h5",null,"\u041f\u043e\u0441\u0442 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"),u.a.createElement("p",null,"\u041d\u0430\u0436\u0430\u043b\u044c \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0434\u0430\u043d\u0438\u0439 \u043f\u043e\u0441\u0442. \u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0439\u043e\u0433\u043e \u043d\u0435 \u0456\u0441\u043d\u0443\u0454 \u0430\u0431\u043e \u0432\u0456\u043d \u0431\u0443\u0432 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439"),u.a.createElement(Te.a,{exact:!0,to:"/ziznannya"},"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u0441\u0442\u0440\u0456\u0447\u043a\u0438"));var a=Object.keys(this.props.postsData),s=t.comments,n=this.props.likedPosts[e]?"post-view-like liked":"post-view-like",o=s&&(s.length||0),i=[];o&&s.forEach(function(e,t){i.push(u.a.createElement("div",{className:"post-comment",key:t},u.a.createElement("div",{className:"post-comment-text"},e.text),u.a.createElement("div",{className:"post-comment-data"},u.a.createElement("span",{className:"post-comment-author"},e.author),u.a.createElement("span",{className:"post-comment-date"},e.date))))});var r=parseInt(e)+1,c=parseInt(e)-1,l=-1!==a.indexOf(r.toString(10)),p=-1!==a.indexOf(c.toString(10));return u.a.createElement("div",{className:"post-view"},u.a.createElement("div",{className:"post-toolbar"},u.a.createElement(Te.a,{exact:!0,className:"post-nav-link back",to:"/ziznannya"}),l&&u.a.createElement(Te.a,{className:"post-nav-link prev",to:"/ziznannya/"+r}),u.a.createElement("span",{className:n,onClick:this.likePost}),t.isAllowComments&&u.a.createElement("span",{className:"post-view-comment",onClick:this.setTextareaFocus}),p&&u.a.createElement(Te.a,{className:"post-nav-link next",to:"/ziznannya/"+c})),u.a.createElement("div",{className:"post"},u.a.createElement("h3",{className:"post-title"},t.title),!!t.image&&u.a.createElement("div",{className:"post-image-wrapper"},u.a.createElement(Ve.Image,{cloudName:"dfgkgr7ui",publicId:t.image,alt:""},u.a.createElement(Ve.Transformation,{height:"400",fetchFormat:"auto",width:"auto",crop:"scale"}))),u.a.createElement("div",{className:"post-text"},t.text),u.a.createElement("div",{className:"post-additional"},u.a.createElement("div",{className:"post-publication-data"},u.a.createElement("span",{className:"post-author"},t.author),u.a.createElement("span",{className:"post-date"},t.date)),u.a.createElement("div",{className:"post-popularity-data"},u.a.createElement("span",{className:"post-views-qty"},t.viewsQty),u.a.createElement("span",{className:"post-likes-qty"},t.likesQty),u.a.createElement("span",{className:"post-comments-qty"},o)))),u.a.createElement("div",{className:"post-comments"},u.a.createElement("span",{className:"post-comments-title"},"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456 ("+o+") :"),u.a.createElement("div",{className:"post-comments-wrapper"},i.length?i:t.isAllowComments&&u.a.createElement("p",{className:"comments-message"},"\u0414\u043e \u0434\u0430\u043d\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430 \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456\u0432"))),this.props.isLoggedIn&&t.isAllowComments&&u.a.createElement("div",{className:"post-write-comment"},u.a.createElement("span",{className:"post-comments-title"},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),u.a.createElement("textarea",{ref:this.getTextareaRef,onChange:this.setCommentText}),u.a.createElement("div",{className:"actions buttons"},u.a.createElement("button",{className:"button ok-button",disabled:!this.state.comment,onClick:this.addComment},"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438"))),!t.isAllowComments&&u.a.createElement("p",{className:"comments-message"},"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0431\u043e\u0440\u043e\u043d\u0438\u0432 \u043a\u043e\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0437\u0430\u043f\u0438\u0441\u0443"))}}]),t}(p.Component),at=Object(ze.a)(Object(Q.b)(function(e){return{postsData:e.forum.postsData,isLoggedIn:e.user.isLoggedIn,likedPosts:e.user.likedPosts,login:e.user.login,userId:e.user.userId}},function(e){return{setAllPostsData:function(t){e(et.setAllPostsData(t))},likeDislikePost:function(t){e(G.likeDislikePost(t))},showPopUp:function(t){e(K.showPopUp(t))}}})(tt)),st=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.postsData||W.chat.emit("fetch posts"),W.chat.on("get posts",function(t){var a={};t.forEach(function(e){a[e.post_id]=e.post}),e.props.setAllPostsData(a)}),W.chat.off("update post data").on("update post data",function(t){var a=Object(E.a)({},e.props.postsData);a[t.postId].comments.push(t),e.props.setAllPostsData(a)})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"page-content forum"},u.a.createElement(Ge.a,null,u.a.createElement(He.a,{exact:!0,path:"/ziznannya",render:function(){return e.props.postsData?u.a.createElement(Ze,{posts:e.props.postsData}):u.a.createElement("div",{className:"loader-wrapper"},u.a.createElement(Xe,{text:"\u041f\u043e\u0441\u0442\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u044e\u0442\u044c\u0441\u044f, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435..."}))}}),u.a.createElement(He.a,{exact:!0,path:"/ziznannya/new_post",component:Ye}),u.a.createElement(He.a,{exact:!0,path:"/ziznannya/new_posts_list",component:$e}),u.a.createElement(He.a,{path:"/ziznannya/:post_id",component:at})),u.a.createElement(be.Helmet,{title:"\u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0424\u043e\u0440\u0443\u043c \u0417\u0456\u0437\u043d\u0430\u043d\u043d\u044f",meta:[{name:"description",content:"\u0414\u0443\u043c\u043a\u0438, \u0456\u0441\u0442\u043e\u0440\u0456\u0457, \u0437\u0456\u0437\u043d\u0430\u043d\u043d\u044f... Invischat - \u0412\u0456\u0434\u043a\u0440\u0438\u0439 \u0434\u0443\u0448\u0443, \u043d\u0435 \u0432\u0442\u0440\u0430\u0442\u0438\u0432\u0448\u0438 \u0433\u0456\u0434\u043d\u043e\u0441\u0442\u0456"},{name:"keywords",content:"\u0444\u043e\u0440\u0443\u043c, \u0430\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0444\u043e\u0440\u0443\u043c, \u0437\u0456\u0437\u043d\u0430\u043d\u043d\u044f, \u0456\u0441\u0442\u043e\u0440\u0456\u0457, \u0437\u0456\u0437\u043d\u0430\u043d\u043d\u044f \u0422\u0417, \u0437\u0456\u0437\u043d\u0430\u043d\u043d\u044f \u0406\u0424, \u0448\u0443\u043a\u0430\u044e \u0442\u0435\u0431\u0435, \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u0430, \u043d\u0435\u043a\u0442\u043e, \u0448\u0442\u0442, \u0437\u0456\u0437\u043d\u0430\u043d\u043d\u044f, \u0444\u043e\u0440\u0443\u043c \u041b\u044c\u0432\u0456\u0432, \u0444\u043e\u0440\u0443\u043c \u0422\u0435\u0440\u043d\u043e\u043f\u0456\u043b\u044c, Invischat"}]}))}}]),t}(p.Component),nt=Object(ze.a)(Object(Q.b)(function(e){return{postsData:e.forum.postsData}},function(e){return{setAllPostsData:function(t){e(et.setAllPostsData(t))}}})(st)),ot=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).setTheme=function(){"dark"===localStorage.getItem("theme")&&a.props.setTheme("dark")},a.showRating=function(){return a.props.showPopUp("RATE_APP")},a.detectDeviceType=function(){a.props.setDeviceType(window.innerWidth<a.state.mobileBreakpoint),window.addEventListener("resize",function(){a.props.setDeviceType(window.innerWidth<a.state.mobileBreakpoint)},null)},a.state={mobileBreakpoint:768},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("credentials");t&&W.chat.emit("login",JSON.parse(t)),W.chat.off("login response").on("login response",function(t){e.props.setAsLoggedIn(t)}),localStorage.getItem("block")&&this.props.setBanStatus(!0),localStorage.getItem("not_admin")&&this.props.setAsNoAdmin(),this.detectDeviceType(),this.setTheme(),W.subscribeUsersCount(),W.chat.off("get private request").on("get private request",function(t){e.props.setPrivateRequestData({senderNick:t.senderNick,senderId:t.senderId}),e.props.showPopUp("PRIVATE_REQUEST")}),W.chat.off("private request accepted").on("private request accepted",function(t){var a=t.interlocutor?t.interlocutor:"\u0417\u0430\u0433\u0443\u0431\u043b\u0435\u043d\u0438\u043c \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u043e\u043c";W.leaveRoom(),setTimeout(function(){W.chat.emit("join room",t.roomName),e.props.joinRoom(t.roomName),e.props.setIsFull(!0),e.props.isMobile&&0!==e.props.chatPosition&&e.props.switchToPrivate(),e.props.setInterlocutorNick(a),e.props.showPopUp("PRIVATE_REQUEST_ACCEPTED")},1)}),W.chat.off("private request rejected").on("private request rejected",function(t){e.props.setInterlocutorNick(t),e.props.showPopUp("PRIVATE_REQUEST_REJECTED")}),W.chat.off("like").on("like",function(t){e.props.setLikesCount(t?e.props.likesCount+1:e.props.likesCount-1)}),W.chat.off("block").on("block",function(){e.props.setBanStatus()}),W.chat.off("reconnect").on("reconnect",function(){e.props.setConnectionStatus(!0),e.props.isInChat&&!e.props.isFull&&e.props.room&&W.reJoinRoom()}),W.chat.off("disconnect").on("disconnect",function(){e.props.setConnectionStatus(!1)}),localStorage.getItem("rating")||setTimeout(function(){return e.showRating()},6e5),window.addEventListener("click",function(e){e.target.classList.contains("settings")||document.querySelector(".settings").classList.remove("active")})}},{key:"render",value:function(){var e=this,t="dark"===this.props.theme?"page-wrapper dark":"page-wrapper";return u.a.createElement("div",{className:t},u.a.createElement(Se,{ssr:this.props.ssr}),u.a.createElement("div",{className:"page-main-wrapper"},u.a.createElement(m,null),u.a.createElement(Pe,null),u.a.createElement("main",{className:this.props.isNavActive?"nav-active":""},u.a.createElement(Ge.a,null,u.a.createElement(He.a,{path:"/chat",render:function(){return u.a.createElement(ye,{ssr:e.props.ssr})}}),u.a.createElement(He.a,{path:"/ziznannya",render:function(){return u.a.createElement(nt,{ssr:e.props.ssr})}}),u.a.createElement(He.a,{path:"/privacy_policy",component:qe}),u.a.createElement(He.a,{path:"/contact_us",component:je}),u.a.createElement(He.a,{path:"/",render:function(){return u.a.createElement(we,{ssr:e.props.ssr})}})))),u.a.createElement(Oe,{rating:this.props.rating}),this.props.isPopUpShow&&u.a.createElement(Fe,null))}}]),t}(p.Component),it=Object(ze.a)(Object(Q.b)(function(e){return{isNavActive:e.app.isNavActive,theme:e.app.theme,likesCount:e.user.likesCount,isInChat:e.app.isInChat,isFull:e.room.isFull,room:e.room.roomName,userId:e.user.userId,isMobile:e.app.isMobile,chatPosition:e.app.chatPosition,isPopUpShow:e.popup.isPopUpShow}},function(e){return{changeOnlineCount:function(t){e(q.changeOnlineCount(t))},setTheme:function(t){e(q.setTheme(t))},setLikesCount:function(t){e(G.setLikesCount(t))},joinRoom:function(t){e(H.joinRoom(t))},setInterlocutorNick:function(t){e(G.setInterlocutorNick(t))},showPopUp:function(t){e(K.showPopUp(t))},setPrivateRequestData:function(t){e(G.setPrivateRequestData(t))},setDeviceType:function(t){e(q.setDeviceType(t))},switchToPrivate:function(){e(q.setChatPosition()),e(z.setNewMessagesQty(0))},setBanStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(G.setBanStatus(t))},setAsNoAdmin:function(){e(G.setAsNoAdmin())},setConnectionStatus:function(t){e(q.setConnectionStatus(t))},setAsLoggedIn:function(t){e(G.setAsLoggedIn(t))},setIsFull:function(t){e(H.setIsFull(t))}}})(ot)),rt=a(137),ct=a.n(rt),lt=a(342);ct.a.hydrate(u.a.createElement(lt.a,null,u.a.createElement(Q.a,{store:F},u.a.createElement(it,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/sw.js");s?(function(e,t){fetch(e).then(function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):n(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):n(t,e)})}}()}},[[139,3,2]]]);
//# sourceMappingURL=main.2a76aed2.chunk.js.map