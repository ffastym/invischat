(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t){},157:function(e,t,a){"use strict";a.r(t);a(75);var s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var i=a(4),o=a(5),r=a(7),c=a(6),l=a(8),p=a(0),u=a.n(p),A=function(){return u.a.createElement("aside",null)},m=function(e){return u.a.createElement("span",{className:"action add-emoji",onClick:e.showEmojiPicker})},d=function(e){var t="upload_"+e.type+"_photo";return u.a.createElement("label",{className:"action upload-photo",htmlFor:t,title:"\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"},u.a.createElement("input",{type:"file",className:"upload-photo",name:t,id:t,accept:"image/*",onChange:e.imageSelect}))},h=a(62),g=a.n(h),f=(a(79),a(30)),E=a(2),b=a(64),v=a.n(b),y=a(72),k={chatPosition:0,isConnected:!0,isMobile:!0,isNavActive:!1,isNeedRedirect:!0,isInChat:!1,isNotificationsEnabled:!0,onlineCount:null,theme:"light"},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_MENU":e=Object(E.a)({},e,{isNavActive:!e.isNavActive});break;case"SET_CHAT_POSITION":e=Object(E.a)({},e,{chatPosition:null===t.payload?0===e.chatPosition?-window.innerWidth:0:t.payload});break;case"SET_IS_IN_CHAT":e=Object(E.a)({},e,{isInChat:t.payload});break;case"SET_CONNECTION_STATUS":e=Object(E.a)({},e,{isConnected:t.payload});break;case"SET_REDIRECTION_STATUS":e=Object(E.a)({},e,{isNeedRedirect:t.payload});break;case"SET_THEME":e=Object(E.a)({},e,{theme:t.payload});break;case"SET_DEVICE_TYPE":e=Object(E.a)({},e,{isMobile:t.payload});break;case"CHANGE_NOTIFICATIONS":e=Object(E.a)({},e,{isNotificationsEnabled:!e.isNotificationsEnabled});break;case"CHANGE_ONLINE_COUNT":e=Object(E.a)({},e,{onlineCount:t.payload});break;default:e=Object(E.a)({},e)}return e},N={isActive:!1,activeType:null,private:{images:[],index:0,activeIndex:null},public:{images:[],index:0,activeIndex:null}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GALLERY_VISIBILITY":e=Object(E.a)({},e,{isActive:t.payload});break;case"SET_ACTIVE_GALLERY_TYPE":e=Object(E.a)({},e,{activeType:t.payload});break;case"ADD_TO_GALLERY":var a=t.payload.type;(e=Object(E.a)({},e))[a].images.push(t.payload.url),e[a].index++;break;case"REMOVE_FROM_GALLERY":(e=Object(E.a)({},e))[t.payload.type].images=t.payload.updatedGallery;break;case"SET_ACTIVE_INDEX":(e=Object(E.a)({},e))[t.payload.type].activeIndex=t.payload.activeIndex;break;default:e=Object(E.a)({},e)}return e},S=(a(138),{private:{text:"",imageUrl:null,imagePublicId:null,IsUploadedImage:!1,quotedMessage:null,quotedImage:null},public:{text:"",imageUrl:null,imagePublicId:null,IsUploadedImage:!1,quotedMessage:null,quotedImage:null},publicColor:null,newMessagesQty:0,fakeMessageData:{}}),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE_TEXT":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{text:t.payload.text});break;case"SET_IS_UPLOADED_IMAGE":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{isUploadedImage:t.payload.isUploaded});break;case"SET_PUBLIC_COLOR":e=Object(E.a)({},e,{publicColor:t.payload});break;case"SET_NEW_MESSAGES_QTY":e=Object(E.a)({},e,{newMessagesQty:t.payload});break;case"SET_FAKE_MESSAGE_DATA":e=Object(E.a)({},e,{fakeMessageData:t.payload});break;case"RESET_MESSAGE_DATA":var a=t.payload;(e=Object(E.a)({},e))[a]=S[a];break;case"SET_IMAGE_URL":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{imageUrl:t.payload.imageUrl});break;case"SET_QUOTE":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{quotedMessage:t.payload.message,quotedImage:t.payload.image});break;case"SET_IMAGE_PUBLIC_ID":(e=Object(E.a)({},e))[t.payload.type]=Object(E.a)({},e[t.payload.type],{imagePublicId:t.payload.id});break;default:e=Object(E.a)({},e)}return e},M={isPopUpShow:!1,type:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_POPUP":e=Object(E.a)({},e,{type:t.payload,isPopUpShow:!0});break;case"HIDE_POPUP":e=Object(E.a)({},e,{isPopUpShow:!1});break;default:e=Object(E.a)({},e)}return e},C={roomName:null,isFull:!1,interlocutorId:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOIN_ROOM":e=Object(E.a)({},e,{roomName:t.payload});break;case"SET_INTERLOCUTOR_ID":e=Object(E.a)({},e,{interlocutorId:t.payload});break;case"LEAVE_ROOM":e=Object(E.a)({},e,{roomName:null,isFull:!1});break;case"SET_IS_FULL":e=Object(E.a)({},e,{isFull:t.payload});break;default:e=Object(E.a)({},e)}return e},L=a(65),P={gender:null,nick:null,userId:null,isNewInPublic:!0,mutedList:[],likedList:{},allUsersList:{},likesCount:0,isBlocked:!1,isModerator:!1,senderId:null,senderNick:null,interlocutorNick:null},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GENDER":e=Object(E.a)({},e,{gender:t.payload});break;case"SET_ALL_USERS_LIST":e=Object(E.a)({},e,{allUsersList:t.payload});break;case"SET_BAN_STATUS":e=Object(E.a)({},e,{isBlocked:t.payload});break;case"SET_AS_NOADMIN":e=Object(E.a)({},e,{isNoAdmin:!0});break;case"SET_USER_ID":e=Object(E.a)({},e,{userId:t.payload});break;case"SET_NICK":e=Object(E.a)({},e,{nick:t.payload});break;case"SET_LIKES_COUNT":e=Object(E.a)({},e,{likesCount:t.payload});break;case"CHANGE_MUTED_LIST":e=Object(E.a)({},e,{mutedList:t.payload});break;case"CHANGE_LIKED_LIST":e=Object(E.a)({},e,{likedList:t.payload});break;case"SET_AS_MODERATOR":e=Object(E.a)({},e,{isModerator:!0});break;case"SET_IS_NEW":e=Object(E.a)({},e,{isNewInPublic:!e.isNewInPublic});break;case"SET_PRIVATE_REQUEST_DATA":e=Object(E.a)({},e,t.payload);break;case"SET_INTERLOCUTOR_NICK":e=Object(E.a)({},e,{interlocutorNick:t.payload});break;default:e=Object(E.a)({},e)}return e},_=a(19),R=[L.a];var x=Object(_.d)(Object(_.c)({app:I,user:U,room:j,message:O,popup:w,gallery:T}),{},_.a.apply(void 0,Object(y.a)(R))),F={toggleMenu:function(){return{type:"TOGGLE_MENU"}},setConnectionStatus:function(e){return{type:"SET_CONNECTION_STATUS",payload:e}},setRedirectionStatus:function(e){return{type:"SET_REDIRECTION_STATUS",payload:e}},setIsInChat:function(e){return{type:"SET_IS_IN_CHAT",payload:e}},setTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e||(e="dark"===localStorage.getItem("theme")?"light":"dark"),localStorage.setItem("theme",e),{type:"SET_THEME",payload:e}},changeNotifications:function(){return{type:"CHANGE_NOTIFICATIONS"}},setDeviceType:function(e){return{type:"SET_DEVICE_TYPE",payload:e}},setChatPosition:function(){return{type:"SET_CHAT_POSITION",payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}},changeOnlineCount:function(e){return{type:"CHANGE_ONLINE_COUNT",payload:e}}},q={setGender:function(e){return localStorage.setItem("gender",e),{type:"SET_GENDER",payload:e}},setUserId:function(e){return{type:"SET_USER_ID",payload:e}},changeMutedList:function(e){return{type:"CHANGE_MUTED_LIST",payload:e}},setLikesCount:function(e){return{type:"SET_LIKES_COUNT",payload:e}},changeLikedList:function(e){return localStorage.setItem("liked_list",JSON.stringify(e)),{type:"CHANGE_LIKED_LIST",payload:e}},setAsModerator:function(){return{type:"SET_AS_MODERATOR"}},setAsNoAdmin:function(){return{type:"SET_AS_NOADMIN"}},setBanStatus:function(){var e;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e=!0:localStorage.getItem("block")?(e=!1,localStorage.removeItem("block")):(e=!0,localStorage.setItem("block","blocked")),{type:"SET_BAN_STATUS",payload:e}},setAllUsersList:function(e){return{type:"SET_ALL_USERS_LIST",payload:e}},setInterlocutorNick:function(e){return{type:"SET_INTERLOCUTOR_NICK",payload:e}},setPrivateRequestData:function(e){return{type:"SET_PRIVATE_REQUEST_DATA",payload:e}},setIsNew:function(){return{type:"SET_IS_NEW"}},setNick:function(e){return{type:"SET_NICK",payload:e}}},D={joinRoom:function(e){return{type:"JOIN_ROOM",payload:e}},setInterlocutorId:function(e){return{type:"SET_INTERLOCUTOR_ID",payload:e}},setIsFull:function(e){return{type:"SET_IS_FULL",payload:e}},leaveRoom:function(){return{type:"LEAVE_ROOM"}}},G={setMessageText:function(e){return{type:"SET_MESSAGE_TEXT",payload:e}},sendFakeMessage:function(e){return{type:"SET_FAKE_MESSAGE_DATA",payload:e}},setNewMessagesQty:function(e){return{type:"SET_NEW_MESSAGES_QTY",payload:e}},setQuote:function(e){return{type:"SET_QUOTE",payload:e}},setImageUrl:function(e){return{type:"SET_IMAGE_URL",payload:e}},setImagePublicId:function(e){return{type:"SET_IMAGE_PUBLIC_ID",payload:e}},resetMessageData:function(e){return{type:"RESET_MESSAGE_DATA",payload:e}},setIsUploadedImage:function(e){return{type:"SET_IS_UPLOADED_IMAGE",payload:e}},setPublicColor:function(){for(var e="#",t=0;t<6;t++)e+="0123456789"[Math.floor(10*Math.random())];return{type:"SET_PUBLIC_COLOR",payload:e}}},V={io:v.a,chat:null,connect:function(){return V.chat=V.io(""),V},subscribeJoinRoom:function(){return V.chat.off("joined room").on("joined room",function(e){x.dispatch(D.joinRoom(e))}),V},subscribeUsersCount:function(){return V.chat.off("change clients count").on("change clients count",function(e){x.dispatch(F.changeOnlineCount(e))}),V},leaveChat:function(){V.chat.emit("leave chat"),V.leaveRoom()},leaveRoom:function(){var e=x.getState();if(!e.room.roomName||!e.user.gender)return V;var t={room:e.room.roomName,gender:e.user.gender,destroy:!e.room.isFull};return V.chat.emit("leave room",t),x.dispatch(D.leaveRoom()),V},reJoinRoom:function(){var e=x.getState();return e.room.roomName&&V.chat.emit("rejoin room",{room:e.room.roomName,gender:e.user.gender,isFull:e.room.isFull}),V},joinChat:function(){var e=x.getState().user.gender;return e?(V.chat.emit("join chat",e),V):V},searchNew:function(){return x.getState().room.roomName&&V.leaveRoom(),x.getState().user.gender&&V.joinChat(),V},setNick:function(e){return x.dispatch(q.setNick(e)),V.updateUsersList(),V},updateUsersList:function(){var e=x.getState(),t={nick:e.user.nick,userId:e.user.userId,isVIP:e.user.isVIP,isBlocked:e.user.isBlocked,color:e.message.publicColor};e.user.nick&&e.user.isNewInPublic?(V.chat.emit("connect to public chat",t),x.dispatch(q.setIsNew())):V.chat.emit("reconnect to public chat",t)},sendMessage:function(e){if(e.text||e.imageUrl||e.quotedImage||e.quotedMessage){var t=Math.round(1e5+899999*Math.random()),a=x.getState(),s=e.type,n=Object(E.a)({},e,{publicColor:"public"===s&&a.message.publicColor,messageId:t,key:t,gender:a.user.gender,nick:a.user.nick,isNoAdmin:a.user.isNoAdmin,socketId:V.chat.id,room:"private"===e.type?a.room.roomName:null});a.user.isBlocked?(n.type=e.type,x.dispatch(G.sendFakeMessage(n))):V.chat.emit("send "+s+" message",n),document.getElementById(s+"_message").innerHTML="",x.dispatch(G.resetMessageData(s))}return V}},H=V,W=a(3),B=Object(W.b)(function(e){return{messageData:e.message}})(function(e){return u.a.createElement("span",{className:"action send-message",onClick:function(){var t=e.type,a=e.messageData[t];H.sendMessage(Object(E.a)({},a,{type:t}))}})}),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).checkKeyType=function(e){if("Enter"===e.key){var t=a.props.type,s="public"===t?a.props.publicMessageData:a.props.privateMessageData;e.preventDefault(),H.sendMessage(Object(E.a)({},s,{type:t}))}},a.typingHandler=function(e){var t=e.target.innerHTML;if("private"!==a.props.type||a.state.isTyping||(H.chat.emit("typing",a.props.room),a.setState({isTyping:!0}),setTimeout(function(){a.setState({isTyping:!1})},2500)),t.toString().length>=1e3)return alert("\u0412\u0430\u0448\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043d\u0430\u0434\u0442\u043e \u0434\u043e\u0432\u0433\u0435. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u043c\u0435\u043d\u0448\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),!1;a.props.setMessageText({type:a.props.type,text:t})},a.getInputRef=function(e){a.inputRef=e},a.formatClipboardData=function(e){e.preventDefault();var t=e.clipboardData.getData("text/html"),s=new RegExp(/(<img src=")(.*?)(?=\s*")/),n=t.match(s);n&&a.props.setPreviewImgUrl(n[0].replace('<img src="',""));var i=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,i)},a.state={isTyping:!1},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.refactoredMessage!==e.refactoredMessage&&(this.inputRef.innerHTML=this.props.refactoredMessage)}},{key:"render",value:function(){var e=this.props.type,t=this.props.isFull,a=this.props.isConnected,s=t&&a||"public"===e&&a&&"string"===typeof this.props.nick;return u.a.createElement("span",{className:"action write-message"},u.a.createElement("div",{className:"message-area"},u.a.createElement("p",{className:"message-input",ref:this.getInputRef,contentEditable:s,id:this.props.type+"_message",suppressContentEditableWarning:!0,onInput:this.typingHandler,onPaste:this.formatClipboardData,onKeyPress:this.checkKeyType})))}}]),t}(p.Component),z=Object(W.b)(function(e){return{privateMessageData:e.message.private,publicMessageData:e.message.public,isFull:e.room.isFull,nick:e.user.nick,room:e.room.roomName,isConnected:e.app.isConnected}},function(e){return{setMessageText:function(t){e(G.setMessageText(t))}}})(Q),Y={showPopUp:function(e){return{type:"SHOW_POPUP",payload:e}},hidePopUp:function(){return{type:"HIDE_POPUP"}}},X={search:"\u041f\u043e\u0448\u0443\u043a",notfound:"\u0421\u043c\u0430\u0439\u043b \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e",skintext:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u043e\u043d \u0448\u043a\u0456\u0440\u0438 \u0437\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c",categories:{search:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043f\u043e\u0448\u0443\u043a\u0443",recent:"\u041d\u0435\u0449\u043e\u0434\u0430\u0432\u043d\u0456",people:"\u0415\u043c\u043e\u0446\u0456\u0457 \u0442\u0430 \u043b\u044e\u0434\u0438",nature:"\u0422\u0432\u0430\u0440\u0438\u043d\u0438 \u0442\u0430 \u043f\u0440\u0438\u0440\u043e\u0434\u0430",foods:"\u0407\u0436\u0430 \u0442\u0430 \u043d\u0430\u043f\u043e\u0457",activity:"\u0414\u0456\u044f\u043b\u044c\u043d\u0456\u0441\u0442\u044c",places:"\u041f\u043e\u0434\u043e\u0440\u043e\u0436\u0456 \u0442\u0430 \u043c\u0456\u0441\u0446\u044f",objects:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u0438",symbols:"\u0421\u0438\u043c\u0432\u043e\u043b\u0438",flags:"\u041f\u0440\u0430\u043f\u043e\u0440\u0438",custom:"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044c\u043a\u0456"}},K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).checkNick=function(e){"private"!==a.props.type&&(a.props.nick||(e.preventDefault(),a.props.showPopUp("CREATE_NICK")))},a.showEmojiPicker=function(){document.addEventListener("click",a.hideEmojiPicker),document.addEventListener("tap",a.hideEmojiPicker),a.setState({isShowEmojiPicker:!0})},a.hideEmojiPicker=function(e){a.pickerRef&&!a.pickerRef.contains(e.target)&&(a.setState({isShowEmojiPicker:!1}),document.removeEventListener("click",a.hideEmojiPicker),document.removeEventListener("tap",a.hideEmojiPicker))},a.getPickerRef=function(e){a.pickerRef=e},a.addEmoji=function(e){var t=u.a.createElement("span",{className:"emoji-wrapper",contentEditable:!1,dangerouslySetInnerHTML:{__html:Object(f.a)({html:!0,set:"apple",skin:JSON.parse(localStorage.getItem("emoji-mart.skin")),emoji:e.id,size:20})}}),s=("public"===a.props.type?a.props.publicMessage:a.props.privateMessage)+g.a.renderToStaticMarkup(t)+"&nbsp;";a.setState({refactoredMessage:s}),a.props.setMessageText(a.props.type,s)},a.removeQuote=function(){a.props.setQuote({type:a.props.type})},a.state={isTyping:!1,isShowEmojiPicker:!1,refactoredMessage:null},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;H.chat.on("show typing",function(){e.setState({isTyping:!0}),setTimeout(function(){e.setState({isTyping:!1})},2500)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideEmojiPicker),document.removeEventListener("tap",this.hideEmojiPicker),H.chat.off("show typing")}},{key:"render",value:function(){var e=this.props.type,t=this.props.isFull,a=this.props.isConnected,s="public"===e?this.props.publicImageUrl:this.props.privateImageUrl,n="public"===e?this.props.publicIsUploadedImg:this.props.privateIsUploadedImg,i="public"===e?this.props.publicQuotedImage:this.props.privateQuotedImage,o="public"===e?this.props.publicQuotedMessage:this.props.privateQuotedMessage,r=t&&a||"public"===e,c=r?"chat-actions-toolbar":"chat-actions-toolbar disabled",l=o||i;return u.a.createElement("div",{className:c,onClick:this.checkNick,title:r?"":"\u0434\u0456\u0457 \u0437 \u0447\u0430\u0442\u043e\u043c \u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u043e\u0432\u0430\u043d\u0456"},this.state.isTyping&&"private"===e&&u.a.createElement("span",{className:"write-animation"},"\u0430\u043d\u043e\u043d\u0456\u043c \u0434\u0440\u0443\u043a\u0443\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"),this.state.isShowEmojiPicker&&u.a.createElement("div",{ref:this.getPickerRef},u.a.createElement(f.b,{set:"apple",i18n:X,showPreview:!1,color:"light"===this.props.theme?"#2F2F2F":"#E3E3E3",emojiTooltip:!0,onSelect:this.addEmoji,title:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043c\u0430\u0439\u043b",emoji:"point_up",style:{position:"absolute",top:"-295px",width:"calc(100% - 10px)",left:"5px",display:"block"}})),n&&u.a.createElement("div",{className:"image-preview"},u.a.createElement("div",{className:"preview-wrapper"},s?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"remove-preview",onClick:this.props.removeImagePreview}),u.a.createElement("img",{src:s,alt:"preview"})):u.a.createElement("div",{className:"image-preview-loader"},u.a.createElement("span",{className:"loader"})))),l&&u.a.createElement("span",{className:"quoted-message"},u.a.createElement("span",{className:"quote-wrapper"},u.a.createElement("span",{className:"remove-quote",onClick:this.removeQuote}),o&&u.a.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:o}}),i&&u.a.createElement("img",{src:i,alt:""}))),u.a.createElement("div",{className:"actions-wrapper"},u.a.createElement(d,{type:e,imageSelect:this.props.imageSelect}),u.a.createElement(m,{type:e,showEmojiPicker:this.showEmojiPicker}),u.a.createElement(z,{type:e,refactoredMessage:this.state.refactoredMessage}),u.a.createElement(B,{type:e})))}}]),t}(p.Component),J=Object(W.b)(function(e){return{isFull:e.room.isFull,isConnected:e.app.isConnected,publicMessage:e.message.public.text,privateMessage:e.message.private.text,privateQuotedMessage:e.message.private.quotedMessage,publicQuotedMessage:e.message.public.quotedMessage,privateQuotedImage:e.message.private.quotedImage,publicQuotedImage:e.message.public.quotedImage,privateImageUrl:e.message.private.imageUrl,publicIsUploadedImg:e.message.public.isUploadedImage,privateIsUploadedImg:e.message.private.isUploadedImage,publicImageUrl:e.message.public.imageUrl,theme:e.app.theme,nick:e.user.nick}},function(e){return{showPopUp:function(t){e(Y.showPopUp(t))},setMessageText:function(t,a){e(G.setMessageText({type:t,text:a}))},setQuote:function(t){e(G.setQuote(t))}}})(K),Z=a(73),$=a(68),ee=a.n($),te=a(69),ae=a.n(te),se={addImageToGallery:function(e){return{type:"ADD_TO_GALLERY",payload:e}},setGalleryVisibility:function(e){return{type:"SET_GALLERY_VISIBILITY",payload:e}},setActiveGalleryType:function(e){return{type:"SET_ACTIVE_GALLERY_TYPE",payload:e}},setActiveIndex:function(e){return{type:"SET_ACTIVE_INDEX",payload:e}},removeImageFromGallery:function(e){return{type:"REMOVE_FROM_GALLERY",payload:e}}},ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).deleteMessage=function(){a.props.image&&a.removeFromGallery(),H.chat.emit("delete message",a.props.messageId)},a.removeFromGallery=function(){var e,t=a.props.type;e=a.props.gallery[t].images.map(function(e,t){return t===a.state.imageIndex?ae.a:e}),a.props.removeImageFromGallery({type:t,updatedGallery:e})},a.quoteMessage=function(){a.props.setQuote({message:a.props.message,image:a.props.image,type:a.props.type})},a.collapseActions=function(){a.setState({isShowActions:!1}),document.removeEventListener("click",a.collapseActions),document.removeEventListener("tap",a.collapseActions)},a.toggleActions=function(){document.addEventListener("click",a.collapseActions),document.addEventListener("tap",a.collapseActions),a.setState({isShowActions:!0})},a.detectURL=function(e){a.setState({messageText:e.replace(/((([^;"]https?:\/\/)|(^https?:\/\/)|(www\.))[^\s]+)/g,function(e,t,a){return'<a href="'+("www."===a?"http://"+e:e)+'" target="_blank">'+e+"</a>"})})},a.likeMessage=function(){a.setState({isLiked:!a.state.isLiked},function(){H.chat.emit("like message",{id:a.props.messageId,isLiked:a.state.isLiked})})},a.showGallery=function(e){var t=a.props.type;a.props.setActiveIndex({type:t,activeIndex:parseInt(e.target.dataset.index,10)}),a.props.showGallery(t)},a.state={name:null,isSameGender:!1,messageText:null,deletedImageUrl:"/images/deleted.jpg",isShowActions:!1,date:null,isLiked:!1},e.image&&(a.state.imageIndex=e.gallery[e.type].images.length),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.detectURL(this.props.message);var e,t=new Date,a=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();e="public"===this.props.type?this.props.nickName:"bot"===this.props.label?"\u0411\u043e\u0442":"anon"===this.props.label?"\u0410\u043d\u043e\u043d\u0456\u043c":"\u0412\u0438",this.setState({date:this.state.date?this.state.date:a+":"+s,name:e})}},{key:"render",value:function(){var e=this.state.isShowActions?" active":"",t=this.props.socketId===H.chat.id,a=this.props.gender===this.props.userGender?" same":" anon",s=t?"you":"",n=this.props.quotedMessage||this.props.quotedImage,i="message-container "+this.props.gender+" "+s+e+a,o=this.state.isLiked?"message-action like-message liked":"message-action like-message";return u.a.createElement("p",{className:i,id:this.props.messageId},t?u.a.createElement("span",{className:"message-action delete-message",onClick:this.deleteMessage,title:"\u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"}):u.a.createElement("span",{className:o,onClick:this.likeMessage,title:this.state.isLiked?"\u043c\u0435\u043d\u0456 \u043d\u0435 \u043f\u043e\u0434\u043e\u0431\u0430\u0454\u0442\u044c\u0441\u044f":"\u043c\u0435\u043d\u0456 \u043f\u043e\u0434\u043e\u0431\u0430\u0454\u0442\u044c\u0441\u044f"}),u.a.createElement("span",{className:"message-action quote-message",onClick:this.quoteMessage,title:"\u043f\u0435\u0440\u0435\u0441\u043b\u0430\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"}),u.a.createElement("span",{onClick:"bot"!==this.props.label?this.toggleActions:function(){},className:"public"===this.props.type&&this.props.isNoAdmin?"message vip":"message",style:this.props.publicColor?{background:this.props.publicColor}:{}},this.state.messageText&&u.a.createElement("span",{className:"message-text",dangerouslySetInnerHTML:{__html:this.state.messageText}}),this.props.image&&u.a.createElement("span",{className:"message-image"},u.a.createElement("img",{src:this.props.image,onClick:this.showGallery,"data-index":this.state.imageIndex,alt:""})),n&&u.a.createElement("span",{className:"quote"},this.props.quotedMessage&&u.a.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:this.props.quotedMessage}}),this.props.quotedImage&&u.a.createElement("img",{src:this.props.quotedImage,alt:""}))),u.a.createElement("span",{className:"time"},this.state.name+", "+this.state.date))}}]),t}(p.Component),ie=Object(W.b)(function(e){return{nick:e.user.nick,userGender:e.user.gender,gallery:e.gallery}},function(e){return{setQuote:function(t){e(G.setQuote(t))},setActiveIndex:function(t){e(se.setActiveIndex(t))},showGallery:function(t){e(se.setGalleryVisibility(!0)),e(se.setActiveGalleryType(t))},removeImageFromGallery:function(t){e(se.removeImageFromGallery(t))}}})(ne),oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).blockClient=function(e){H.chat.emit("block user",e)},a.likeUser=function(e){var t=e.userId,s=Object(E.a)({},a.props.likedList);s[t]?s=delete s[t]:s[t]=e,a.props.changeLikedList(s)},a.muteUser=function(e){var t=a.props.mutedList;a.props.changeMutedList(-1!==t.indexOf(e)?t.filter(function(t){return t!==e}):t.concat(e))},a.createList=function(){var e=[],t=a.props.allUsersList;for(var s in t){if(t.hasOwnProperty(s))if("continue"===function(){var n=-1!==a.props.mutedList.indexOf(t[s].socketId),i=a.props.likedList[s]?"liked like-user client-action":"like-user client-action",o=t[s];if(!o.nick)return"continue";e.push(u.a.createElement("li",{key:s},u.a.createElement("span",{className:"client-color",style:{backgroundColor:o.color}}),u.a.createElement("span",{className:"name"},o.nick),u.a.createElement("span",{className:"user-actions"},o.socketId!==H.chat.id&&u.a.createElement("span",{className:i,onClick:function(){a.likeUser(o)}},0!==a.props.likesCount&&u.a.createElement("span",{className:"likes-count",children:a.props.likesCount})),o.socketId===H.chat.id&&u.a.createElement("span",{className:"client-action change-nick",onClick:a.props.changeNick}),a.props.isModerator&&o.socketId!==H.chat.id&&u.a.createElement("span",{className:o.isBlocked?"ban-client client-action blocked":"ban-client client-action",title:"\u0417\u0430\u0431\u043b\u043e\u043a\u0443\u0432\u0430\u0442\u0438",onClick:function(e){e.target.classList.toggle("blocked"),a.blockClient(o.socketId)}}),o.socketId!==H.chat.id&&u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"start-chat client-action",title:"\u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442",onClick:function(){a.proposePrivateChat(o.nick,o.socketId)}}),u.a.createElement("span",{className:n?"mute-user client-action muted":"mute-user client-action",title:"\u0456\u0433\u043d\u043e\u0440\u0443\u0432\u0430\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",onClick:function(){a.muteUser(o.socketId)}})))))}())continue}a.setState({clientsList:e})},a.proposePrivateChat=function(e,t){H.chat.emit("private request",{receiverNick:e,receiverId:t,senderNick:a.props.nick,senderId:H.chat.id})},a.state={clientsList:[],isToggled:!1},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;"moderator"===localStorage.getItem("status")&&this.props.setAsModerator();var t=localStorage.getItem("liked_list");t&&this.props.changeLikedList(JSON.parse(t)),H.chat.on("change clients",function(t){e.props.setAllUsersList(t),e.createList()}),this.createList(this.props.allUsersList)}},{key:"componentWillUnmount",value:function(){H.chat.off("change clients")}},{key:"componentDidUpdate",value:function(e,t,a){e.mutedList.length===this.props.mutedList.length&&e.nick===this.props.nick&&Object.keys(e.likedList).length===Object.keys(this.props.likedList).length||this.createList(),e.nick!==this.props.nick&&H.chat.emit("changed nick",{nick:this.props.nick,userId:this.props.userId})}},{key:"render",value:function(){return u.a.createElement("div",{className:"users-list-wrapper"},u.a.createElement("ul",{className:"users-list"},this.state.clientsList))}}]),t}(p.Component),re=Object(W.b)(function(e){return{nick:e.user.nick,mutedList:e.user.mutedList,allUsersList:e.user.allUsersList,isModerator:e.user.isModerator,userId:e.user.userId,likesCount:e.user.likesCount,likedList:e.user.likedList}},function(e){return{showPopUp:function(t){e(F.showPopUp(t))},changeNick:function(){localStorage.removeItem("nick"),e(Y.showPopUp("CREATE_NICK"))},changeMutedList:function(t){e(q.changeMutedList(t))},setAllUsersList:function(t){e(q.setAllUsersList(t))},setAsModerator:function(){e(q.setAsModerator())},changeLikedList:function(t){e(q.changeLikedList(t))}}})(oe),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).removeUser=function(e){var t=Object(E.a)({},a.props.likedList);delete t[e],a.props.changeLikedList(t)},a.createList=function(e){var t=[],s=function(s){if(e.hasOwnProperty(s)){var n=e[s],i=a.props.allUsersList.hasOwnProperty(s),o=i?"#9FD468":"#808080";i&&(e[s].socketId=a.props.allUsersList[s].socketId),t.push(u.a.createElement("li",{key:s},u.a.createElement("span",{className:"client-color",style:{backgroundColor:o},title:i?"online":"offline"}),u.a.createElement("span",{className:"name"},n.nick),u.a.createElement("span",{className:"user-actions"},i&&u.a.createElement("span",{className:"start-chat client-action",title:"\u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442",onClick:function(){a.proposePrivateChat(n.nick,n.socketId)}}),u.a.createElement("span",{className:"remove-user client-action",title:"\u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443",onClick:function(){a.removeUser(s)}}))))}};for(var n in e)s(n);a.setState({clientsList:t})},a.proposePrivateChat=function(e,t){H.chat.emit("private request",{receiverNick:e,receiverId:t,senderNick:a.props.nick,senderId:H.chat.id})},a.state={clientsList:[],allUsersList:{},isToggled:!1},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("unique_id");e||(e=Math.floor(Math.random()*Math.floor(999999999)),localStorage.setItem("unique_id",e)),this.props.setUserId(e)}},{key:"componentDidUpdate",value:function(e){Object.keys(e.likedList).length!==Object.keys(this.props.likedList).length&&this.createList(this.props.likedList),Object.keys(e.allUsersList).length!==Object.keys(this.props.allUsersList).length&&this.createList(this.props.likedList)}},{key:"render",value:function(){return u.a.createElement("div",{className:"users-list-wrapper"},u.a.createElement("ul",{className:"users-list"},this.state.clientsList.length?this.state.clientsList:u.a.createElement("li",null,"\u0422\u0443\u0442 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0438\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0441\u0456\u0445 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432. \u0429\u043e\u0431 \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u0456\u043a\u043e\u043d\u043a\u0443 \u0441\u0435\u0440\u0446\u044f \u0443 \u0432\u0456\u043a\u043d\u0456 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u0447\u0430\u0442\u0443 \u0430\u0431\u043e \u043f\u043e\u0440\u044f\u0434 \u0437 \u043d\u0456\u043a\u043e\u043c \u0443 \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0430\u0442\u0443. \u041a\u043e\u043b\u0456\u0440 \u043f\u043e\u0440\u044f\u0434 \u0437 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0435\u043c \u0443 \u0446\u044c\u043e\u043c\u0443 \u0441\u043f\u0438\u0441\u043a\u0443 \u043e\u0437\u043d\u0430\u0447\u0430\u0454 \u0439\u043e\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441 online (\u0437\u0435\u043b\u0435\u043d\u0438\u0439) \u0456 offline (\u0441\u0456\u0440\u0438\u0439).")))}}]),t}(p.Component),le=Object(W.b)(function(e){return{likedList:e.user.likedList,allUsersList:e.user.allUsersList}},function(e){return{showPopUp:function(t){e(F.showPopUp(t))},changeNick:function(){localStorage.removeItem("nick"),e(Y.showPopUp("CREATE_NICK"))},setUserId:function(t){e(q.setUserId(t))},changeLikedList:function(t){e(q.changeLikedList(t))}}})(ce),pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).resizeHandler=function(){a.scrollToLastMessage(!0)},a.likesHandler=function(e){var t=document.getElementById(e.id);if(t&&t.querySelector(".message")){var a=t.querySelector(".likes-count");if(!a)return t.querySelector(".message").appendChild(document.createRange().createContextualFragment('<span class="likes-count">1</span>'));var s=parseInt(a.textContent),n=e.isLiked?s+1:s-1;if(0===n)return t.querySelector(".likes-count").remove();t.querySelector(".likes-count").innerHTML=n.toString()}},a.scrollToLastMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.chatTextRef;if(!e&&t&&Math.ceil(t.scrollTop+t.clientHeight)<t.scrollHeight)return a.setState({newMessagesQty:a.state.newMessagesQty+1});var s=t.scrollTop<t.clientHeight?t.clientHeight:t.scrollTop,n=setInterval(function(){t&&(s+=300,t.scrollTo(0,s)),(!t||s>t.scrollHeight)&&clearInterval(n)},1);a.setState({newMessagesQty:0})},a.refreshChat=function(){var e="private"===a.props.type;if(e&&a.props.room&&!a.props.isFull)return a.props.showPopUp("CAN_NOT_REFRESH");a.setState({messages:[]},function(){e&&(a.sendBotMessage("SEARCH_NEW"),H.searchNew())})},a.toggleList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("public"===a.props.type&&!a.props.nick)return a.props.showPopUp("CREATE_NICK");var s=a.chatTextWrapperRef.classList;t?s.toggle("with-users-list"):s.contains("with-users-list")&&!e.target.classList.contains("users-list")&&s.remove("with-users-list")},a.sendBotMessage=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case"ROOM_IS_FULL":a.props.setIsFull(!0),a.state.notify2.play(),H.chat.emit("set interlocutor id",{room:a.props.room,id:a.props.userId}),t="\u0421\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e! \u0420\u043e\u0437\u043f\u043e\u0447\u043d\u0456\u0442\u044c \u0412\u0430\u0448 \u0434\u0456\u0430\u043b\u043e\u0433";break;case"INTERLOCUTOR_LEAVE":H.leaveRoom(),a.state.notify2.play(),t="\u0421\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a \u043f\u043e\u043a\u0438\u043d\u0443\u0432 \u0447\u0430\u0442";break;case"USER_DISCONNECTED":t="\u0423 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430 \u0432\u0438\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437\u0456 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f\u043c. \u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437\u0432'\u044f\u0437\u043a\u0443";break;case"ROOM_IS_EMPTY":a.props.isFull?(H.leaveRoom(),a.state.notify2.play(),t="\u0421\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a \u043f\u043e\u043a\u0438\u043d\u0443\u0432 \u0447\u0430\u0442"):t=null;break;case"CONNECTION_PROBLEM":t="\u0421\u043f\u043e\u0441\u0442\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437\u0456 \u0437'\u0454\u0434\u043d\u0430\u043d\u043d\u044f\u043c. \u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437\u0432'\u044f\u0437\u043a\u0443";break;case"SEARCH_NEW":t="\u0419\u0434\u0435 \u043f\u043e\u0448\u0443\u043a \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430";break;case"NEW_USER_IN_PUBLIC":t="\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <b>"+s+"</b> \u043f\u0440\u0438\u0454\u0434\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043e \u0447\u0430\u0442\u0443.";break;case"PUBLIC_WELCOME":t="\u0412\u0456\u0442\u0430\u0454\u043c\u043e \u0443 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0447\u0430\u0442\u0456! \u0412\u0430\u0448\u0456 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0442\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043e\u0441\u0456\u0431 \u0432\u0430\u0448\u043e\u0457 \u0441\u0442\u0430\u0442\u0456 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u044c\u0441\u044f \u0441\u043f\u0440\u0430\u0432\u0430, \u0430 \u0432\u0456\u0434 \u0430\u043d\u043e\u043d\u0456\u043c\u0456\u0432 \u043f\u0440\u043e\u0442\u0438\u043b\u0435\u0436\u043d\u043e\u0457 \u0441\u0442\u0430\u0442\u0456 - \u0437\u043b\u0456\u0432\u0430. \u041f\u0440\u0438\u0454\u043c\u043d\u043e\u0433\u043e \u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u043d\u043d\u044f!";break;case"CONNECTION_RESTORED":t=!a.props.isFull&&"private"===a.props.type&&a.props.room?"\u0417'\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0442\u0430 \u043f\u043e\u0448\u0443\u043a \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430 \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043e ":"\u0417'\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043e";break;default:t=null}t&&(a.setState({messages:a.state.messages.concat(u.a.createElement(ie,{key:Math.round(1e5+899999*Math.random()),gender:"bot",socketId:null,message:t,label:"bot"}))}),a.scrollToLastMessage(!0))},a.getScrollHeight=function(){var e=a.chatTextRef;e.scrollHeight===Math.ceil(e.scrollTop+e.clientHeight)&&a.setState({newMessagesQty:0})},a.getRef=function(e){a.chatTextRef=e},a.getChatTextWrapperRef=function(e){a.chatTextWrapperRef=e},a.saveUser=function(){var e=Object(E.a)({},a.props.likedList),t=a.props.interlocutorId;e[t]?(delete e[t],a.props.changeLikedList(e)):a.props.showPopUp("LIKE_INTERLOCUTOR")},a.state={notify:null,notify2:null,newMessagesQty:0,messages:[]},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.notify||this.state.notify2||this.setState({notify:new Audio("/audio/magic.mp3"),notify2:new Audio("/audio/pop.mp3")});var t=this.props.type,a="get "+t+" message";if("private"===t){var s="\u041e\u0447\u0456\u043a\u0443\u0454\u043c\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430... </br> \u041f\u043e\u043a\u0438 \u0439\u0434\u0435 \u043f\u043e\u0448\u0443\u043a, \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0432 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0447\u0430\u0442\u0456.";this.props.isMobile&&(s+='</br> \u0429\u043e\u0431 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0447\u0430\u0442 \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0441\u0432\u0430\u0439\u043f \u0432\u043b\u0456\u0432\u043e <img width="50px" src="/images/swipe.gif" alt="swipe invischat"/>'),this.setState({messages:this.state.messages.concat(u.a.createElement(ie,{key:Math.round(1e5+899999*Math.random()),gender:"bot",message:s,socketId:null,label:"bot"}))}),H.chat.off("get interlocutor id").on("get interlocutor id",function(t){e.props.setInterlocutorId(t)})}else H.chat.off("get public chat info").on("get public chat info",function(){e.props.nick&&e.sendBotMessage("PUBLIC_WELCOME")}),H.chat.off("new user connected").on("new user connected",function(t){t&&e.sendBotMessage("NEW_USER_IN_PUBLIC",t)}),H.chat.off("liked message").on("liked message",function(t){e.likesHandler(t)});H.chat.off(a).on(a,function(a){if(-1!==e.props.mutedList.indexOf(a.socketId))return!1;var s=a.socketId!==H.chat.id;if(a.botMessage)return e.sendBotMessage(a.botMessage);e.props.isMobile&&("private"===t&&0!==e.props.chatPosition&&e.props.setNewMessagesQty(e.props.newMessagesQty+1),"public"===t&&0===e.props.chatPosition&&e.props.setNewMessagesQty(e.props.newMessagesQty+1)),s?(e.scrollToLastMessage(),e.props.isNotificationsEnabled&&"private"===t&&e.state.notify&&e.state.notify.play()):e.scrollToLastMessage(!0),e.setState({messages:e.state.messages.concat(u.a.createElement(ie,{key:a.messageId,message:a.text,type:e.props.type,label:H.chat.id!==a.socketId?"anon":"you",messageId:a.messageId,quotedMessage:a.quotedMessage,quotedImage:a.quotedImage,publicColor:a.publicColor,isNoAdmin:a.isNoAdmin,socketId:a.socketId,gender:a.gender,nickName:a.nick,image:a.imageUrl}))}),a.imageUrl&&e.props.addImageToGallery({url:a.imageUrl,type:e.props.type})}),H.chat.off("deleted message").on("deleted message",function(e){var t=document.getElementById(e);t&&(t.innerHTML='<span class="message-text removed">\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e</span>')}),this.props.isMobile&&window.addEventListener("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e,t,a){var s=this,n=this.props.fakeMessageData;e.isConnected&&!this.props.isConnected&&setTimeout(function(){s.sendBotMessage("CONNECTION_PROBLEM")},100),!e.isConnected&&this.props.isConnected&&("private"===this.props.type&&H.reJoinRoom(),H.updateUsersList(),this.sendBotMessage("CONNECTION_RESTORED")),e.fakeMessageData.key!==n.key&&this.props.type===n.type&&this.setState({messages:this.state.messages.concat(u.a.createElement(ie,{key:n.messageId,message:n.text,type:n.type,label:H.chat.id!==n.socketId?"anon":"you",messageId:n.messageId,quotedMessage:n.quotedMessage,quotedImage:n.quotedImage,publicColor:n.publicColor,socketId:n.socketId,gender:n.gender,nickName:n.nick,image:n.imageUrl}))},function(){s.scrollToLastMessage(!0)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeHandler),H.chat.off("get interlocutor id").off("get public chat info").off("new user connected").off("liked message").off("deleted message").off("get private message").off("get public message")}},{key:"render",value:function(){var e=this,t=this.props.likedList[this.props.interlocutorId]?"action-secondary save-user saved":"action-secondary save-user";return u.a.createElement("div",{className:"chat-text-wrapper",onScroll:this.getScrollHeight,onClick:this.toggleList,ref:this.getChatTextWrapperRef},u.a.createElement("div",{className:"actions-secondary"},u.a.createElement("span",{className:"action-secondary refresh",title:"\u0448\u0443\u043a\u0430\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430",onClick:this.refreshChat}),"private"===this.props.type&&u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"action-secondary saved-list users-list",title:"\u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430",onClick:function(t){e.toggleList(t,!0)}}),this.props.isFull&&u.a.createElement("span",{className:t,title:"\u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430",onClick:this.saveUser})),"public"===this.props.type&&u.a.createElement("span",{className:"action-secondary show-users users-list",title:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0445\u0442\u043e \u0443 \u0447\u0430\u0442\u0456",onClick:function(t){e.toggleList(t,!0)}})),u.a.createElement("div",{className:"chat-text",ref:this.getRef},this.state.messages),"public"===this.props.type?u.a.createElement(re,null):u.a.createElement(le,null),!!this.state.newMessagesQty&&u.a.createElement("span",{className:"unread-messages-count",onClick:function(){e.scrollToLastMessage(!0)},children:"\u0423 \u0432\u0430\u0441 "+this.state.newMessagesQty+" \u043d\u043e\u0432\u0438\u0445 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c"}))}}]),t}(p.PureComponent),ue=Object(W.b)(function(e){return{isFull:e.room.isFull,isMobile:e.app.isMobile,newMessagesQty:e.message.newMessagesQty,chatPosition:e.app.chatPosition,userId:e.user.userId,interlocutorId:e.room.interlocutorId,nick:e.user.nick,fakeMessageData:e.message.fakeMessageData,isConnected:e.app.isConnected,room:e.room.roomName,likedList:e.user.likedList,mutedList:e.user.mutedList,isNotificationsEnabled:e.app.isNotificationsEnabled}},function(e){return{setIsFull:function(t){e(D.setIsFull(t))},addImageToGallery:function(t){e(se.addImageToGallery(t))},showPopUp:function(t){e(Y.showPopUp(t))},setNewMessagesQty:function(t){e(G.setNewMessagesQty(t))},changeLikedList:function(t){e(q.changeLikedList(t))},setInterlocutorId:function(t){e(D.setInterlocutorId(t))}}})(pe),Ae="oddbpaek",me="https://api.cloudinary.com/v1_1/dfgkgr7ui/image/upload",de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).onImageDrop=function(e){e.length&&(a.setState({uploadedFile:e[0]}),a.props.setIsUploadedImage({type:a.props.type,isUploaded:!0}),a.handleImageUpload(e[0]))},a.imageSelect=function(e){a.onImageDrop(e.target.files),e.target.value=null},a.handleImageUpload=function(e){var t=a.props.type;ee.a.post(me).field("upload_preset",Ae).field("file",e).end(function(e,s){e?(a.removeImagePreview(),a.props.showPopUp("IMAGE_UPLOADING_ERROR")):""!==s.body.secure_url&&(a.props.setImageUrl({type:t,imageUrl:s.body.secure_url}),a.props.setImagePublicId({type:t,id:s.body.public_id}))})},a.removeImagePreview=function(){a.props.setIsUploadedImage({type:a.props.type,isUploaded:!1}),a.deleteImage()},a.deleteImage=function(){a.props.setImageUrl({type:a.props.type,imageUrl:null}),H.chat.emit("remove uploaded image","public"===a.props.type?a.props.publicImageId:a.props.privateImageId)},a.setPreviewImgUrl=function(e){a.props.setIsUploadedImage({type:a.props.type,isUploaded:!0}),a.props.setImageUrl({type:a.props.type,imageUrl:e})},a.state={isTyping:!1,uploadedFile:null},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="chat-window "+this.props.type;return u.a.createElement(Z.a,{multiple:!1,accept:"image/*",className:"chat-window "+e,activeClassName:"active",style:{position:"absolute"},disableClick:!0,onDrop:this.onImageDrop.bind(this)},u.a.createElement(ue,{type:this.props.type,ssr:this.props.ssr}),u.a.createElement(J,{type:this.props.type,removeImagePreview:this.removeImagePreview,imageSelect:this.imageSelect}))}}]),t}(p.Component),he=Object(W.b)(function(e){return{publicImageId:e.message.public.imagePublicId,privateImageId:e.message.private.imagePublicId}},function(e){return{setIsFull:function(t){e(D.setIsFull(t))},setImageUrl:function(t){e(G.setImageUrl(t))},showPopUp:function(t){e(Y.showPopUp(t))},setImagePublicId:function(t){e(G.setImagePublicId(t))},setIsUploadedImage:function(t){e(G.setIsUploadedImage(t))}}})(de),ge=a(158),fe=Object(W.b)(function(e){return{gallery:e.gallery}},function(e){return{hideGallery:function(){e(se.setGalleryVisibility(!1))},setActiveIndex:function(t){e(se.setActiveIndex(t))}}})(function(e){var t=e.gallery.activeType,a=e.gallery[t].images,s=e.gallery[t].activeIndex;return u.a.createElement("div",{className:"image-gallery"},u.a.createElement("span",{className:"close close-gallery",onClick:e.hideGallery}),a.length>1&&0!==s&&u.a.createElement("span",{title:"\u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",className:"gallery-link prev",onClick:function(){s>0&&e.setActiveIndex({type:t,activeIndex:s-1})}}),null!==s?u.a.createElement("img",{src:a[s],alt:""}):u.a.createElement("span",{className:"loader"}),a.length>1&&s<a.length-1&&u.a.createElement("span",{title:"\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",className:"gallery-link next",onClick:function(){s<a.length-1&&e.setActiveIndex({type:t,activeIndex:s+1})}}))}),Ee=function(e){function t(e){var a;if(Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).onBeforeUnload=function(){return"\u0423\u0441\u044e \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0443 \u0431\u0443\u0434\u0435 \u0432\u0442\u0440\u0430\u0447\u0435\u043d\u043e. \u0412\u0438 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u0438 \u0447\u0430\u0442?"},a.handleTouchStart=function(e){a.setState({prevPosition:a.props.chatPosition,touchStartPosition:e.nativeEvent.touches[0].clientX,swipeDistance:0})},a.handleSwipe=function(e){var t,s=a.state.prevPosition,n=a.state.minSwipeLength,i=-(a.state.touchStartPosition-e.nativeEvent.touches[0].clientX);if(0===s&&i<-n)t=i;else{if(!(s===-window.innerWidth&&i>n))return;t=s+i}a.setState({swipeDistance:i}),a.props.setChatPosition(t)},a.handleTouchStop=function(){var e;a.state.swipeDistance&&(a.state.prevPosition!==-window.innerWidth&&a.props.chatPosition<-a.state.minSwipeLength?(e=-window.innerWidth,a.props.clearNewMessagesQty()):a.props.chatPosition>-window.innerWidth+a.state.minSwipeLength?(e=0,a.props.clearNewMessagesQty()):e=a.state.prevPosition,a.props.setChatPosition(e))},!e.ssr){var s=localStorage.getItem("gender");!e.gender&&s&&e.setGender(s)}return a.state={minSwipeLength:60,touchPosition:0,prevPosition:0,swipeDistance:0},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("nickName");this.props.setIsInChat(!0),this.props.setRedirectionStatus(!1),this.props.publicColor||this.props.setPublicColor(),e&&!this.props.nick&&H.setNick(e),this.props.room||H.joinChat(),H.updateUsersList(),window.addEventListener("beforeunload",this.onBeforeUnload,!1),H.subscribeJoinRoom()}},{key:"componentWillUnmount",value:function(){this.props.setIsInChat(!1),window.removeEventListener("beforeunload",this.onBeforeUnload),this.props.room&&H.leaveChat(),H.chat.off("joined room"),this.props.clearAllUsersList()}},{key:"render",value:function(){return this.props.ssr||localStorage.getItem("gender")?u.a.createElement("div",{id:"chat",className:"chat-content"},u.a.createElement("div",{className:"chat-wrapper"},u.a.createElement("div",{className:"chat-windows",onTouchMove:this.props.isMobile?function(){}:this.handleSwipe,onTouchStart:this.props.isMobile?function(){}:this.handleTouchStart,onTouchEnd:this.props.isMobile?function(){}:this.handleTouchStop,style:this.props.isMobile?{}:{left:this.props.chatPosition+"px",transition:"linear .1s"}},u.a.createElement(he,{type:"private",ssr:this.props.ssr}),u.a.createElement(he,{type:"public",ssr:this.props.ssr}),this.props.isGalleryActive&&u.a.createElement(fe,null)))):u.a.createElement(ge.a,{to:"/"})}}]),t}(p.Component),be=Object(W.b)(function(e){return{chatPosition:e.app.chatPosition,publicColor:e.message.publicColor,isGalleryActive:e.gallery.isActive,gender:e.user.gender,allUsersList:e.user.allUsersList,userId:e.user.userId,newMessagesQty:e.message.newMessagesQty,room:e.room.roomName,nick:e.user.nick}},function(e){return{setChatPosition:function(t){e(F.setChatPosition(t))},clearAllUsersList:function(){e(q.setAllUsersList({}))},clearNewMessagesQty:function(){e(G.setNewMessagesQty(0))},setPublicColor:function(){e(G.setPublicColor())},setIsInChat:function(t){e(F.setIsInChat(t))},setNick:function(t){e(q.setNick(t))},setGender:function(t){e(q.setGender(t))},setRedirectionStatus:function(t){e(F.setRedirectionStatus(t))}}})(Ee),ve=a(31);var ye=function(e){var t=Object(p.useState)(e.rating),a=Object(ve.a)(t,2),s=a[0],n=a[1];if(Object(p.useEffect)(function(){H.chat.off("get rating").on("get rating",function(e){n(e)})}),!s)return u.a.createElement("div",null);var i,o=s.average,r=parseFloat(o).toFixed(1);o>1&&o<2?i=1.5:o>2&&o<3?i=2.5:o>3&&o<4?i=3.5:o>4&&o<5?i=4.5:r=i=Math.ceil(o);var c=s?"rating-stars stars-"+i.toString(10).replace(".","-"):"rating-stars";return u.a.createElement("div",null,u.a.createElement("div",{itemScope:!0,itemType:"https://schema.org/WebSite"},u.a.createElement("div",{style:{display:"none"},itemProp:"aggregateRating",itemScope:!0,itemType:"https://schema.org/AggregateRating"},u.a.createElement("meta",{itemProp:"bestRating",content:"5"}),u.a.createElement("meta",{itemProp:"worstRating",content:"1"}),u.a.createElement("meta",{itemProp:"ratingValue",content:r}),u.a.createElement("meta",{itemProp:"ratingCount",content:s.ratesQty})),u.a.createElement("div",{className:"app=rating"},u.a.createElement("div",{className:"rating-summary"},r+"/5 ("+s.ratesQty+")"),u.a.createElement("ul",{className:c},u.a.createElement("li",{className:"rating-star"}),u.a.createElement("li",{className:"rating-star"}),u.a.createElement("li",{className:"rating-star"}),u.a.createElement("li",{className:"rating-star"}),u.a.createElement("li",{className:"rating-star"})))))},ke=function(e){var t=e.rating;return u.a.createElement("footer",null,u.a.createElement(ye,{rating:t}),u.a.createElement("span",null,"\xa9 2019"),u.a.createElement("div",{className:"fb-share-button","data-href":"https://www.invischat.com","data-layout":"button_count","data-size":"small","data-mobile-iframe":"true"},u.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Finvischat.com%2F&src=sdkpreparse",className:"fb-xfbml-parse-ignore"},"\u041f\u043e\u0448\u0438\u0440\u0438\u0442\u0438")))},Ie=a(27),Ne=a(162),Te=Object(W.b)(function(e){return{chatPosition:e.app.chatPosition,isMobile:e.app.isMobile,isInChat:e.app.isInChat,isNavActive:e.app.isNavActive,isNotificationsEnabled:e.app.isNotificationsEnabled,newMessagesQty:e.message.newMessagesQty,onlineCount:e.app.onlineCount,theme:e.app.theme}},function(e){return{toggleMenu:function(){e(F.toggleMenu())},setTheme:function(){e(F.setTheme())},changeChatPosition:function(){e(F.setChatPosition()),e(G.setNewMessagesQty(0))},changeNotifications:function(){e(F.changeNotifications())}}})(function(e){H.chat||H.connect();var t=e.isNavActive?"action menu-burger active":"action menu-burger",a=e.unreadMessagesCount?"action chat-switch unread":"action chat-switch",s="dark"===e.theme?"action theme-switch dark":"action theme-switch",n=e.isNotificationsEnabled?"action notifications-switch":"action notifications-switch active";return u.a.createElement("header",null,u.a.createElement(Ne.a,{exact:!0,to:"/",className:"logo"},u.a.createElement("h1",null,"Invischat")),u.a.createElement("div",{className:"actions"},u.a.createElement("span",{className:"action now-online",title:"now online"},e.onlineCount),u.a.createElement("span",{className:n,onClick:e.changeNotifications,title:"on/off notifications"}),u.a.createElement("span",{className:s,onClick:e.setTheme,title:"change theme"}),e.isInChat&&e.isMobile&&u.a.createElement("span",{className:a,onClick:e.changeChatPosition,title:"switch chat",children:!!e.newMessagesQty&&u.a.createElement("span",{className:"new-qty"},e.newMessagesQty)}),u.a.createElement("span",{className:t,onClick:e.toggleMenu,title:"show menu"})),u.a.createElement(Ie.Helmet,null,u.a.createElement("meta",{name:"theme-color",content:"dark"===e.theme?"#2F2F2F":"#FFFFFF"}),!e.ssr&&"https://www.invischat.com/chat"!==window.location.href&&u.a.createElement("link",{rel:"canonical",href:"https://www.invischat.com/chat"})))}),Se=Object(W.b)(function(e){return{gender:e.user.gender,isNeedRedirect:e.app.isNeedRedirect}},function(e){return{setGender:function(t){e(q.setGender(t))}}})(function(e){if(!e.ssr){var t=localStorage&&localStorage.getItem("gender");if(t&&e.isNeedRedirect)return e.setGender(t),u.a.createElement(ge.a,{to:"/chat"})}return u.a.createElement("div",{className:"page-content home"},u.a.createElement(Ie.Helmet,null,u.a.createElement("link",{rel:"preload",href:"/images/logo.png",as:"image"}),u.a.createElement("link",{rel:"preload",href:"/images/female.png",as:"image"}),u.a.createElement("link",{rel:"preload",href:"/images/male.png",as:"image"})),u.a.createElement("div",{className:"main-logo"},u.a.createElement("img",{src:"/images/logo.png",alt:"Invischat"})),u.a.createElement("div",{className:"gender-hint"},"\u041e\u0431\u0435\u0440\u0438 \u0441\u0432\u043e\u044e \u0441\u0442\u0430\u0442\u044c:"),u.a.createElement("div",{className:"gender-fieldset"},u.a.createElement(Ne.a,{className:"gender female","aria-label":"Invischat \u0434\u0456\u0432\u0447\u0438\u043d\u0430",onClick:function(){e.setGender("female")},to:"/chat"},u.a.createElement("img",{src:"../../images/female.png",alt:""})),u.a.createElement(Ne.a,{className:"gender male","aria-label":"Invischat \u0445\u043b\u043e\u043f\u0435\u0446\u044c",onClick:function(){e.setGender("male")},to:"/chat"},u.a.createElement("img",{src:"../../images/male.png",alt:""}))))}),Oe=Object(W.b)(function(e){return{isNavActive:e.app.isNavActive}},function(e){return{toggleMenu:function(){e(F.toggleMenu())}}})(function(e){return u.a.createElement("nav",{className:"menu"},u.a.createElement(Ne.a,{className:"nav-link",exact:!0,onClick:e.toggleMenu,to:"/"},"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"),u.a.createElement(Ne.a,{className:"nav-link",onClick:e.toggleMenu,to:"/chat"},"\u0427\u0430\u0442"),u.a.createElement(Ne.a,{className:"nav-link",onClick:e.toggleMenu,to:"/contact_us"},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u041d\u0430\u043c"),u.a.createElement(Ne.a,{className:"nav-link",onClick:e.toggleMenu,to:"/privacy_policy"},"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 ",u.a.createElement("br",null)," \u041a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"))}),Me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={isEmptyText:!1,mailSendSuccess:!1,mailSendError:!1,emailWasSend:!1},a.scrollBottom=function(){a.pageRef.scrollTop=a.pageRef.scrollHeight},a.getTextareaRef=function(e){a.textArea=e},a.sendMail=function(){var e=a.textArea.value;e?(H.chat.emit("send mail",e),a.setState({emailWasSend:!0,isEmptyText:!1})):a.setState({isEmptyText:!0})},a.getPageRef=function(e){a.pageRef=e},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;H.chat.off("email send error").on("email sending error",function(){e.setState({mailSendError:!0})}),H.chat.off("email send successfully").on("email send successfully",function(){e.setState({mailSendSuccess:!0})}),window.addEventListener("resize",this.scrollBottom)}},{key:"render",value:function(){return u.a.createElement("div",{className:"page-content",ref:this.getPageRef},u.a.createElement("h2",{className:"page-title"},"\u0417\u0432'\u044f\u0437\u043e\u043a \u0456\u0437 \u041d\u0430\u043c\u0438"),this.state.emailWasSend?this.state.mailSendSuccess?u.a.createElement("p",null,"\u041b\u0438\u0441\u0442 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e. \u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0437\u0430 \u0412\u0430\u0448 \u0432\u0456\u0434\u0433\u0443\u043a!"):this.state.mailSendError?u.a.createElement("p",null,"\u041f\u0440\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0456 \u043b\u0438\u0441\u0442\u0430 \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435"):u.a.createElement("div",{className:"send-mail-loader"},u.a.createElement("span",{className:"sending-process-message"},"\u041d\u0430\u0434\u0441\u0438\u043b\u0430\u0454\u043c\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f..."),u.a.createElement("span",{className:"loader"})):u.a.createElement("div",null,u.a.createElement("p",{className:"page-description"},"\u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u043c\u0456\u0442\u0438\u043b\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u0440\u043e\u0431\u043e\u0442\u0456 \u0441\u0435\u0440\u0432\u0456\u0441\u0443 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 \u043d\u0430\u043c \u0434\u0435\u0442\u0430\u043b\u0456, \u0449\u043e\u0431 \u043c\u0438 \u043c\u043e\u0433\u043b\u0438 \u0448\u0432\u0438\u0434\u043a\u043e \u0457\u0445 \u0457\u0445 \u0443\u0441\u0443\u043d\u0443\u0442\u0438. ",u.a.createElement("br",null)," \u0422\u0430\u043a\u043e\u0436 \u0443 \u0446\u0456\u0439 \u0444\u043e\u0440\u043c\u0456 \u043c\u043e\u0436\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0441\u0432\u043e\u0457 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0449\u043e\u0434\u043e \u0432\u0434\u043e\u0441\u043a\u043e\u043d\u0430\u043b\u0435\u043d\u043d\u044f \u0441\u0435\u0440\u0432\u0456\u0441\u0443. \u041c\u0438 \u0440\u043e\u0437\u0433\u043b\u044f\u043d\u0435\u043c\u043e \u0443\u0441\u0456 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0438. \u041c\u043e\u0436\u043b\u0438\u0432\u043e, \u0441\u0430\u043c\u0435 \u0412\u0430\u0448\u0430 \u0456\u0434\u0435\u044f \u0441\u0442\u0430\u043d\u0435 \u043a\u043b\u044e\u0447\u043e\u0432\u043e\u044e \u0443 \u0440\u043e\u0437\u0432\u0438\u0442\u043a\u0443 \u0440\u0435\u0441\u0443\u0440\u0441\u0443 =)"),!!this.state.isEmptyText&&u.a.createElement("p",{className:"error"},"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),u.a.createElement("textarea",{className:"mail-text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f...",autoFocus:!0,ref:this.getTextareaRef}),u.a.createElement("div",{className:"actions buttons"},u.a.createElement("button",{className:"button ok-button",onClick:this.sendMail},"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438"))))}}]),t}(p.Component),we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).changeSavingStatus=function(){a.setState({saveNick:!a.state.saveNick})},a.acceptAction=function(){var e=a.inputRef.value,t=e.match(new RegExp(/(%m%)/));t&&(a.props.setAsModerator(),e=e.replace(t[0],"")),e.length>2&&e.length<15?(a.state.saveNick?localStorage.setItem("nickName",e):localStorage.getItem("nickName")&&localStorage.removeItem("nickName"),H.setNick(e),a.setState({isValid:!1}),a.props.hidePopUp()):a.setState({isValid:!1})},a.checkKey=function(e){"Enter"===e.key&&a.acceptAction()},a.getInputRef=function(e){a.inputRef=e},a.state={saveNick:!1,isValid:!0},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.saveNick?"pop-up-additional save":"pop-up-additional";return this.state.isValid||(e+=" invalid"),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text"},"\u0429\u043e\u0431 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0443 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0447\u0430\u0442, \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0456\u043a\u043d\u0435\u0439\u043c"),u.a.createElement("div",{className:e},u.a.createElement("input",{type:"text",autoFocus:!0,ref:this.getInputRef,onKeyPress:this.checkKey}),u.a.createElement("label",{className:"save-nick"},u.a.createElement("input",{id:"save_nick",type:"checkbox",onChange:this.changeSavingStatus}),u.a.createElement("span",null,"\u0417\u0430\u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438 \u0446\u0435\u0439 \u043d\u0456\u043a")),!this.state.isValid&&u.a.createElement("p",{className:"error"},"\u041d\u0456\u043a\u043d\u0435\u0439\u043c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0432\u0456\u0434 3 \u0434\u043e 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button ok-button",onClick:this.acceptAction},"\u043e\u043a")))}}]),t}(p.Component),Ce=Object(W.b)(function(){return{}},function(e){return{hidePopUp:function(){e(Y.hidePopUp())},setAsModerator:function(){localStorage.setItem("status","moderator"),e(q.setAsModerator())}}})(we),je=Object(W.b)(function(e){return{interlocutorId:e.room.interlocutorId,allUsersList:e.user.allUsersList,likedList:e.user.likedList}},function(e){return{changeLikedList:function(t){e(q.changeLikedList(t))},hidePopUp:function(){e(Y.hidePopUp())}}})(function(e){var t,a=Object(p.useState)(!0),s=Object(ve.a)(a,2),n=s[0],i=s[1],o=function(){var a=t.value.toString();if(a.length&&a.length<=15){var s=Object(E.a)({},e.likedList),n=e.interlocutorId;s[n]={nick:a,userId:n,socketId:e.allUsersList[n].socketId},e.changeLikedList(s),e.hidePopUp()}else i(!1)},r=n?"pop-up-additional ":"pop-up-additional invalid";return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text"},"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u043f\u043e\u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430 \u043f\u0456\u0434 \u044f\u043a\u0438\u043c \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0439\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445"),u.a.createElement("div",{className:r},u.a.createElement("input",{type:"text",autoFocus:!0,ref:function(e){t=e},onKeyPress:function(e){"Enter"===e.key&&o()}}),!n&&u.a.createElement("p",{className:"error"},"\u0406\u043c'\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c \u0442\u0430 \u0434\u043e\u0432\u0448\u0438\u043c \u043d\u0456\u0436 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button ok-button",onClick:o},"\u043e\u043a")))}),Le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={disabled:!1,tempRating:null,rating:5},a.rate=function(e){a.setState({rating:e,tempRating:e})},a.starOver=function(e){a.setState({tempRating:a.state.rating,rating:e})},a.starOut=function(){a.setState({rating:a.state.rating})},a.sendRate=function(){return H.chat.emit("chat rate",a.state.rating),localStorage.setItem("rating",a.state.rating),a.props.hidePopUp()},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=[],t=1;t<6;t++){var a="star-rating__star";this.state.rating>=t&&null!=this.state.rating&&(a+=" is-selected"),e.push(u.a.createElement("label",{className:a,key:t,onClick:this.rate.bind(this,t),onMouseOver:this.starOver.bind(this,t),onMouseOut:this.starOut},"\u2605"))}return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text"},"\u0412\u0438 \u0443\u0436\u0435 \u043f\u0440\u043e\u0432\u0435\u043b\u0438 \u0442\u0440\u0438\u0432\u0430\u043b\u0438\u0438\u0439 \u0447\u0430\u0441 \u0443 \u043d\u0430\u0448\u043e\u043c\u0443 \u0447\u0430\u0442\u0456. \u041f\u0440\u043e\u043f\u043e\u043d\u0443\u0454\u043c\u043e \u043e\u0446\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0432\u0456\u043d \u0412\u0430\u043c \u0441\u043f\u043e\u0434\u043e\u0431\u0430\u0432\u0441\u044f \u0430\u0431\u043e \u043d\u0435 \u0441\u043f\u043e\u0434\u043e\u0431\u0430\u0432\u0441\u044f. \u0412\u0430\u0448\u0430 \u0434\u0443\u043c\u043a\u0430 \u0432\u0430\u0436\u043b\u0438\u0432\u0430 \u0434\u043b\u044f \u043d\u0430\u0441!"),u.a.createElement("p",{className:"pop-up-stars"},e),u.a.createElement("div",{className:"pop-up-actions"},u.a.createElement("button",{className:"button ok-button",onClick:this.sendRate},"\u041e\u0446\u0456\u043d\u0438\u0442\u0438")))}}]),t}(p.Component),Pe=Object(W.b)(function(){return{}},function(e){return{hidePopUp:function(){e(Y.hidePopUp())}}})(Le),Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).accept=function(){switch(a.props.type){case"PRIVATE_REQUEST":a.acceptPrivateRequest();break;default:return a.props.hidePopUp()}a.props.hidePopUp()},a.reject=function(){switch(a.props.type){case"PRIVATE_REQUEST":a.rejectPrivateRequest();break;default:return a.props.hidePopUp()}a.props.hidePopUp()},a.acceptPrivateRequest=function(){if(H.chat.emit("accept private request",{receiverNick:a.props.nick,receiverId:H.chat.id,senderId:a.props.senderId,senderNick:a.props.senderNick}),!a.props.isInChat)return u.a.createElement(ge.a,{to:"/chat"})},a.rejectPrivateRequest=function(){H.chat.emit("reject private request",{senderId:a.props.senderId,receiverNick:a.props.nick})},a.state={title:"",isModal:!1,text:"",customContent:null},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e;switch(this.props.type){case"CREATE_NICK":e={title:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0456\u043a\u043d\u0435\u0439\u043c",customContent:u.a.createElement(Ce,null)};break;case"RATE_APP":e={title:"\u041e\u0446\u0456\u043d\u0456\u0442\u044c \u0447\u0430\u0442",customContent:u.a.createElement(Pe,null)};break;case"PRIVATE_REQUEST":e={title:"\u0417\u0430\u043f\u0438\u0442 \u043d\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442",text:(this.props.senderNick?this.props.senderNick:"\u0425\u0442\u043e\u0441\u044c \u0456\u0437 \u0412\u0430\u0448\u0438\u0445 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0445 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0456\u0432")+" \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0454 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0443 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442. \u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442 \u0431\u0443\u0434\u0435 \u0432\u0442\u0440\u0430\u0447\u0435\u043d\u043e. \u0411\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438?",isModal:!0};break;case"LIKE_INTERLOCUTOR":e={title:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u0430",customContent:u.a.createElement(je,null)};break;case"PRIVATE_REQUEST_REJECTED":e={title:"\u0417\u0430\u043f\u0438\u0442 \u0432\u0456\u0434\u0445\u0438\u043b\u0435\u043d\u043e",text:this.props.interlocutor+" \u0432\u0456\u0434\u043c\u043e\u0432\u0438\u0432\u0441\u044f(-\u043b\u0430\u0441\u044c) \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0442\u0438 \u0432 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0447\u0430\u0442"};break;case"CAN_NOT_REFRESH":e={title:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u0438\u0439 \u043f\u043e\u0448\u0443\u043a",text:"\u041d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u043e\u0448\u0443\u043a, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0449\u0435 \u0442\u0440\u0438\u0432\u0430\u0454 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439"};break;case"PRIVATE_REQUEST_ACCEPTED":e={title:"\u0417\u0430\u043f\u0438\u0442 \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u043e",text:"\u0412\u0430\u0441 \u0437'\u0454\u0434\u043d\u0430\u043d\u043e \u0437 "+this.props.interlocutor+". \u041f\u0440\u0438\u0454\u043c\u043d\u043e\u0433\u043e \u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u043d\u043d\u044f!"};break;case"IMAGE_UPLOADING_ERROR":e={title:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f",text:"\u041d\u0430 \u0436\u0430\u043b\u044c, \u043d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u043f\u0456\u0437\u043d\u0456\u0449\u0435"};break;default:e={}}this.setState(e)}},{key:"render",value:function(){return u.a.createElement("div",{className:"pop-up-overlay"},u.a.createElement("div",{className:"pop-up"},u.a.createElement("div",{className:"pop-up-title-wrapper"},u.a.createElement("span",{className:"pop-up-title",children:this.state.title}),u.a.createElement("span",{className:"pop-up-close",onClick:this.props.hidePopUp})),this.state.customContent?this.state.customContent:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"pop-up-text",children:this.state.text}),u.a.createElement("div",{className:"pop-up-actions"},this.state.isModal?u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{className:"button button-reject",onClick:this.reject},"\u043d\u0456"),u.a.createElement("button",{className:"button button-accept",onClick:this.accept},"\u0442\u0430\u043a")):u.a.createElement("button",{className:"button ok-button",onClick:this.props.hidePopUp},"\u043e\u043a")))))}}]),t}(p.Component),_e=Object(W.b)(function(e){return{type:e.popup.type,isInChat:e.app.isInChat,senderNick:e.user.senderNick,interlocutor:e.user.interlocutorNick,senderId:e.user.senderId,nick:e.user.nick}},function(e){return{hidePopUp:function(){e(Y.hidePopUp())}}})(Ue),Re=function(){return u.a.createElement("div",{className:"page-content privacy-policy"},u.a.createElement("h3",null,"\u041f\u041e\u041b\u0406\u0422\u0418\u041a\u0410 \u041a\u041e\u041d\u0424\u0406\u0414\u0415\u041d\u0426\u0406\u0419\u041d\u041e\u0421\u0422\u0406"),u.a.createElement("h4",null,"1. \u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0456 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f"),u.a.createElement("p",null,"\u0426\u0435\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043e\u043f\u0438\u0441\u0443\u0454 \u043f\u043e\u043b\u0456\u0442\u0438\u043a\u0443 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456 \u0434\u043b\u044f \u0432\u0435\u0431-\u0434\u043e\u0434\u0430\u0442\u043a\u0443 Invischat, \u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u043e\u0433\u043e \u0437\u0430 \u0432\u0435\u0431-\u0430\u0434\u0440\u0435\u0441\u043e\u044e ",u.a.createElement("a",{href:"https://www.invischat.com"},"https://www.invischat.com")," (\u043d\u0430\u0434\u0430\u043b\u0456 \u2013 \xab\u0427\u0430\u0442\xbb). \u0423 \u0446\u044c\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456 \u0440\u043e\u0437\u2019\u044f\u0441\u043d\u044e\u0454\u0442\u044c\u0441\u044f, \u044f\u043a\u0456 \u0432\u0438\u0434\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0437\u0456\u0431\u0440\u0430\u043d\u0456 \u0456 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c\u0438 \u0427\u0430\u0442\u0443, \u0445\u043c\u0430\u0440\u043d\u0438\u043c\u0438 \u0441\u0445\u043e\u0432\u0438\u0449\u0430\u043c\u0438 \u0442\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u043c\u0438 \u0441\u0435\u0440\u0432\u0456\u0441\u0430\u043c\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e\u0457 \u0440\u043e\u0431\u043e\u0442\u0438 \u0427\u0430\u0442\u0443, \u0442\u0430 \u044f\u043a \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0446\u044f \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f."),u.a.createElement("p",null,"\u0414\u0430\u043d\u0438\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043d\u0435 \u043f\u043e\u0448\u0438\u0440\u044e\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0438, \u043f\u0435\u0440\u0435\u0445\u0456\u0434 \u043d\u0430 \u044f\u043a\u0456 \u0437\u0434\u0456\u0439\u0441\u043d\u044e\u0454\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0433\u0456\u043f\u0435\u0440\u043f\u043e\u0441\u0438\u043b\u0430\u043d\u044c, \u0440\u043e\u0437\u043c\u0456\u0449\u0435\u043d\u0438\u0445 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u0445 \u0427\u0430\u0442\u0443."),u.a.createElement("h4",null,"2. \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0438\u0439 \u0437\u0431\u0456\u0440 \u0456 \u043e\u0431\u0440\u043e\u0431\u043a\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457"),u.a.createElement("p",null,"\u0414\u043b\u044f \u0432\u0435\u0434\u0435\u043d\u043d\u044f \u0430\u043d\u0430\u043b\u0456\u0442\u0438\u043a\u0438 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0441\u0435\u0430\u043d\u0441\u0456\u0432 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0443 \u0427\u0430\u0442\u0456 \u0437 \u043f\u0440\u0438\u0441\u0442\u0440\u043e\u0457\u0432 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u0447\u0456\u0432 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0437\u0431\u0438\u0440\u0430\u0454\u0442\u044c\u0441\u044f \u0456 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f:"),u.a.createElement("ul",null,u.a.createElement("li",null,"\u0432\u0438\u0434 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438;"),u.a.createElement("li",null,"\u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u043d\u044f \u0427\u0430\u0442\u0443;"),u.a.createElement("li",null,"\u0442\u0440\u0438\u0432\u0430\u043b\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u0445 \u0427\u0430\u0442\u0443;"),u.a.createElement("li",null,"\u0440\u0435\u0433\u0456\u043e\u043d \u043f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0441\u0442\u0430\u0442\u044c \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u0447\u0430;"),u.a.createElement("li",null,"\u043f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0456 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438;"),u.a.createElement("li",null,"\u0430\u0434\u0440\u0435\u0441\u0430 \u0442\u0430 \u043d\u0430\u0437\u0432\u0430 \u0441\u0430\u0439\u0442\u0443 \u0430\u0431\u043e \u0432\u0435\u0431-\u0434\u043e\u0434\u0430\u0442\u043a\u0443 \u0437 \u044f\u043a\u043e\u0433\u043e \u0431\u0443\u0432 \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0445\u0456\u0434 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0427\u0430\u0442\u0443.")),u.a.createElement("h4",null,"3. \u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0456\u0441\u0442\u044c"),u.a.createElement("p",null,"\u0427\u0430\u0442 \u043d\u0435 \u0437\u043e\u0431\u043e\u0432\u2019\u044f\u0437\u0443\u0454 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0432\u0432\u043e\u0434\u0438\u0442\u0438 \u0436\u043e\u0434\u043d\u0443 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e, \u044f\u043a\u0443 \u043c\u043e\u0436\u043d\u0430 \u0432\u0432\u0430\u0436\u0430\u0442\u0438 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u044e. \u0423\u0441\u0456 \u043f\u043e\u0432\u0456\u0434\u043e\u0432\u043c\u0435\u043d\u043d\u044f \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c\u0441\u044f \u0432\u0438\u043a\u043b\u044e\u0447\u043d\u043e \u0443 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0456 \u043d\u0430 \u0442\u0435\u0440\u043c\u0456\u043d \u0440\u0456\u0432\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u0438\u0439 \u0442\u0440\u0438\u0432\u0430\u043b\u043e\u0441\u0442\u0456 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u043e\u0457 \u0441\u0435\u0441\u0456\u0457.",u.a.createElement("br",null),"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u0438\u0439 \u0432\u043c\u0456\u0441\u0442 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u0436\u043e\u0434\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u043d\u0435 \u0444\u0456\u043a\u0441\u0443\u0454\u0442\u044c\u0441\u044f \u0439 \u043d\u0435 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 \u0427\u0430\u0442\u0443. \u0423\u0441\u0456 \u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0456 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437 \u043f\u0440\u0438\u0441\u0442\u0440\u043e\u044e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u043e\u0433\u043e \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u0439 \u0445\u043c\u0430\u0440\u043d\u0438\u0439 \u0441\u0435\u0440\u0432\u0456\u0441 ",u.a.createElement("a",{href:"https://cloudinary.com"},"cloudinary.com")," . \u0427\u0435\u0440\u0435\u0437 \u043e\u0434\u043d\u0443 \u0445\u0432\u0438\u043b\u0438\u043d\u0443 \u043f\u0456\u0441\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f, \u0432\u043e\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0437\u0456 \u0441\u0445\u043e\u0432\u0438\u0449\u0430 \u0456 \u0441\u0442\u0430\u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0435 \u043b\u0438\u0448\u0435 \u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443, \u043a\u043e\u043b\u0438 \u0427\u0430\u0442 \u0432\u0441\u0442\u0438\u0433 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0439\u043e\u0433\u043e \u0437\u0456 \u0441\u0445\u043e\u0432\u0438\u0449\u0430 \u0437\u0430 \u043f\u0440\u044f\u043c\u0438\u043c \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c \u0434\u043e \u0439\u043e\u0433\u043e \u043f\u043e\u0432\u043d\u043e\u0433\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f. \u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0435 \u0456\u043d\u0434\u0435\u043a\u0441\u0443\u044e\u0442\u044c\u0441\u044f \u0442\u0430 \u043d\u0435 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u044c\u0441\u044f \u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u0445 \u043f\u043e\u0448\u0443\u043a\u0443 \u043f\u043e\u0448\u0443\u043a\u043e\u0432\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c."),u.a.createElement("h4",null,"4. \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043f\u043b\u0430\u0433\u0456\u043d\u0456\u0432 \u0441\u043e\u0446\u0456\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0435\u0440\u0435\u0436"),u.a.createElement("p",null,"\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0435 \u043e\u0441\u043d\u0430\u0449\u0435\u043d\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a \u0427\u0430\u0442\u0443 \u0432\u043a\u043b\u044e\u0447\u0430\u0454 \u0432 \u0441\u0435\u0431\u0435 \u043f\u043b\u0430\u0433\u0456\u043d\u0438 \u0441\u043e\u0446\u0456\u0430\u043b\u044c\u043d\u043e\u0457 \u043c\u0435\u0440\u0435\u0436\u0456 facebook.com, \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u044f\u043a\u043e\u044e \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u0456 \u0448\u0442\u0430\u0431-\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 Facebook Inc, \u0440\u043e\u0437\u0442\u0430\u0448\u043e\u0432\u0430\u043d\u043e\u0457 \u0432 \u0421\u0428\u0410, \u0448\u0442\u0430\u0442 \u041a\u0430\u043b\u0456\u0444\u043e\u0440\u043d\u0456\u044f, \u041f\u0430\u043b\u043e \u0410\u043b\u044c\u0442\u043e, \u0410\u0432\u0435\u043d\u044e \u041a\u0430\u043b\u0456\u0444\u043e\u0440\u043d\u0456\u044f 94304, \u0432\u0443\u043b.1601 (\u043d\u0430\u0434\u0430\u043b\u0456 \xabFacebook\xbb)."),u.a.createElement("p",null,"\u0426\u0456 \u043f\u043b\u0430\u0433\u0456\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 \xabLike\xbb \u0430\u0431\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \xab\u041c\u0435\u043d\u0456 \u043f\u043e\u0434\u043e\u0431\u0430\u0454\u0442\u044c\u0441\u044f\xbb, \u0430 \u0442\u0430\u043a\u043e\u0436 \xab\u041f\u043e\u0448\u0438\u0440\u0438\u0442\u0438\xbb \u0432 \u043c\u0435\u0440\u0435\u0436\u0456 Facebook. \u041f\u043b\u0430\u0433\u0456\u043d \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u0438\u043c\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 Facebook \u0434\u0430\u043d\u0456 \u043f\u0440\u043e \u0442\u0435, \u044f\u043a\u0456 \u0441\u0430\u043c\u0435 \u043d\u0430\u0448\u0456 \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0412\u0438 \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u043b\u0438. \u042f\u043a\u0449\u043e \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u043d\u0430 Facebook \u0456 \u0412\u0438 \u0437\u0430\u0439\u0448\u043b\u0438 \u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043f\u0456\u0434 \u0441\u0432\u043e\u0457\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c, \u043f\u0456\u0434 \u0447\u0430\u0441 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0448\u043e\u0457 \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 Facebook \u043f\u043e\u0432'\u044f\u0437\u0443\u0432\u0430\u0442\u0438\u043c\u0435 \u0446\u044e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u0437 \u0412\u0430\u0448\u0438\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c."),u.a.createElement("p",null,"\u0423 \u0440\u0430\u0437\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0456\u0439 \u043f\u043b\u0430\u0433\u0456\u043d\u0430 (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u043f\u0440\u0438 \u043d\u0430\u0442\u0438\u0441\u043a\u0430\u043d\u043d\u0456 \u043a\u043d\u043e\u043f\u043a\u0438 \xab\u041c\u0435\u043d\u0456 \u043f\u043e\u0434\u043e\u0431\u0430\u0454\u0442\u044c\u0441\u044f\xbb \u0447\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u043d\u043d\u0456), \u0446\u044f \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u0442\u0430\u043a\u043e\u0436 \u0431\u0443\u0434\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0456\u0437\u043e\u0432\u0430\u043d\u0430 \u0437 \u0412\u0430\u0448\u0438\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c \u043d\u0430 Facebook."),u.a.createElement("p",null,"\u0411\u0456\u043b\u044c\u0448 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0437\u0431\u0456\u0440 \u0442\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043c\u0435\u0440\u0435\u0436\u0435\u044e Facebook, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043f\u0440\u043e \u043f\u0440\u0430\u0432\u0430 \u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u0437\u0430\u0445\u0438\u0441\u0442\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 \u0432 \u0434\u0430\u043d\u043e\u043c\u0443 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0456 \u043c\u043e\u0436\u043d\u0430 \u0437\u043d\u0430\u0439\u0442\u0438 \u0432 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 \u043f\u0440\u043e \u0437\u0430\u0445\u0438\u0441\u0442 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 Facebook."),u.a.createElement("p",null,"\u0429\u043e\u0431 \u0443\u043d\u0438\u043a\u043d\u0443\u0442\u0438 \u0437\u0432'\u044f\u0437\u043a\u0443 \u043c\u0435\u0440\u0435\u0436\u0456 Facebook \u0437 \u043d\u0430\u0448\u0438\u043c\u0438 \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u043e\u0433\u043e \u0437\u0432\u2019\u044f\u0437\u043a\u0443 \u0434\u0430\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u0437 \u0412\u0430\u0448\u0438\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c, \u0412\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0439\u0442\u0438 \u0437 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 Facebook \u043f\u0435\u0440\u0435\u0434 \u0432\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u043d\u044f\u043c \u043d\u0430\u0448\u0438\u0445 \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a."),u.a.createElement("h4",null,"5. \u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d"),u.a.createElement("p",null,"\u0427\u0430\u0442 \u043d\u0430\u0434\u0430\u0454 \u0440\u0435\u0441\u0443\u0440\u0441\u0438 \u0434\u043b\u044f \u0437\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u0430 \u0443 \u0456\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0456 \u043b\u0438\u0448\u0435 \u0440\u043e\u0437\u0432\u0430\u0436\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0443. \u0427\u0430\u0442 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0437\u0430\u0441\u043e\u0431\u0456\u0432 \u0446\u0435\u043d\u0437\u0443\u0440\u0438 \u0434\u043b\u044f \u0444\u0456\u043b\u044c\u0442\u0440\u0430\u0446\u0456\u0457 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0442\u0430 \u0433\u0440\u0430\u0444\u0456\u0447\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0432\u0438\u043f\u0430\u0434\u043a\u043e\u0432\u0438\u043c \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u043e\u043c \u0443 \u0427\u0430\u0442\u0456, \u0442\u043e\u043c\u0443 \u0437\u0430\u0431\u043e\u0440\u043e\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0440\u0435\u0441\u0443\u0440\u0441\u0443 \u0434\u0456\u0442\u044c\u043c\u0438, \u0449\u043e \u043d\u0435 \u0434\u043e\u0441\u044f\u0433\u043b\u0438 \u0448\u0456\u0441\u0442\u043d\u0430\u0434\u0446\u044f\u0442\u0438\u0440\u0456\u0447\u043d\u043e\u0433\u043e \u0432\u0456\u043a\u0443. \u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0437\u0430 \u0432\u043c\u0456\u0441\u0442 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u043d\u0435\u0441\u0435 \u0432\u0438\u043a\u043b\u044e\u0447\u043d\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043d\u0438\u043a."),u.a.createElement("h4",null,"6. \u0417\u043c\u0456\u043d\u0430 \u041f\u041e\u041b\u0406\u0422\u0418\u041a\u0418 \u041a\u041e\u041d\u0424\u0406\u0414\u0415\u041d\u0426\u0406\u0419\u041d\u041e\u0421\u0422\u0406"),u.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u044e\u0447\u0438 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u0445 \u0427\u0430\u0442\u0443 \u0412\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u043f\u043e\u0433\u043e\u0434\u0436\u0443\u0454\u0442\u0435\u0441\u044f \u0437 \u0443\u043c\u043e\u0432\u0430\u043c\u0438 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456, \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0435\u043d\u0438\u043c\u0438 \u0443 \u0434\u0430\u043d\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456 \u0442\u0430 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0443\u0454\u0442\u0435, \u0449\u043e \u043f\u043e\u0433\u043e\u0434\u0436\u0443\u0454\u0442\u0435\u0441\u044f \u0437 \u0442\u0438\u043c, \u0449\u043e \u0434\u0430\u043d\u0430 \u041f\u041e\u041b\u0406\u0422\u0418\u041a\u0410 \u041a\u041e\u041d\u0424\u0406\u0414\u0415\u041d\u0426\u0406\u0419\u041d\u041e\u0421\u0422\u0406 \u043c\u043e\u0436\u0435 \u0447\u0430\u0441 \u0432\u0456\u0434 \u0447\u0430\u0441\u0443 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438\u0441\u044f. \u0417\u043c\u0456\u043d\u0438, \u0449\u043e \u0432\u043d\u043e\u0441\u044f\u0442\u044c\u0441\u044f \u0434\u043e \u041f\u041e\u041b\u0406\u0422\u0418\u041a\u0418 \u041a\u041e\u041d\u0424\u0406\u0414\u0415\u041d\u0426\u0406\u0419\u041d\u041e\u0421\u0422\u0406, \u043f\u0443\u0431\u043b\u0456\u043a\u0443\u044e\u0442\u044c\u0441\u044f \u0443 \u0427\u0430\u0442\u0456."))},xe=a(160),Fe=a(153),qe=a(161),De=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).setTheme=function(){"dark"===localStorage.getItem("theme")&&a.props.setTheme("dark")},a.showRating=function(){return a.props.showPopUp("RATE_APP")},a.detectDeviceType=function(){a.props.setDeviceType(window.innerWidth<a.state.mobileBreakpoint),window.addEventListener("resize",function(){a.props.setDeviceType(window.innerWidth<a.state.mobileBreakpoint)},null)},a.state={mobileBreakpoint:768},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("block")&&this.props.setBanStatus(!0),localStorage.getItem("not_admin")&&this.props.setAsNoAdmin(),this.detectDeviceType(),this.setTheme(),H.subscribeUsersCount(),H.chat.off("get private request").on("get private request",function(t){e.props.setPrivateRequestData({senderNick:t.senderNick,senderId:t.senderId}),e.props.showPopUp("PRIVATE_REQUEST")}),H.chat.off("private request accepted").on("private request accepted",function(t){var a=t.interlocutor?t.interlocutor:"\u0417\u0430\u0433\u0443\u0431\u043b\u0435\u043d\u0438\u043c \u0441\u043f\u0456\u0432\u0440\u043e\u0437\u043c\u043e\u0432\u043d\u0438\u043a\u043e\u043c";H.leaveRoom(),setTimeout(function(){H.chat.emit("join room",t.roomName),e.props.joinRoom(t.roomName),e.props.setIsFull(!0),e.props.isMobile&&0!==e.props.chatPosition&&e.props.switchToPrivate(),e.props.setInterlocutorNick(a),e.props.showPopUp("PRIVATE_REQUEST_ACCEPTED")},1)}),H.chat.off("private request rejected").on("private request rejected",function(t){e.props.setInterlocutorNick(t),e.props.showPopUp("PRIVATE_REQUEST_REJECTED")}),H.chat.off("like").on("like",function(t){e.props.setLikesCount(t?e.props.likesCount+1:e.props.likesCount-1)}),H.chat.off("block").on("block",function(){e.props.setBanStatus()}),H.chat.off("reconnect").on("reconnect",function(){e.props.setConnectionStatus(!0),e.props.isInChat&&!e.props.isFull&&e.props.room&&H.reJoinRoom()}),H.chat.off("disconnect").on("disconnect",function(){e.props.setConnectionStatus(!1)}),localStorage.getItem("rating")||setTimeout(function(){return e.showRating()},6e5)}},{key:"render",value:function(){var e=this,t="dark"===this.props.theme?"page-wrapper dark":"page-wrapper";return u.a.createElement("div",{className:t},u.a.createElement(Te,{ssr:this.props.ssr}),u.a.createElement("div",{className:"page-main-wrapper"},u.a.createElement(A,null),u.a.createElement(Oe,null),u.a.createElement("main",{className:this.props.isNavActive?"nav-active":""},u.a.createElement(xe.a,null,u.a.createElement(Fe.a,{path:"/chat",render:function(){return u.a.createElement(be,{ssr:e.props.ssr})}}),u.a.createElement(Fe.a,{path:"/privacy_policy",component:Re}),u.a.createElement(Fe.a,{path:"/contact_us",component:Me}),u.a.createElement(Fe.a,{path:"/",render:function(){return u.a.createElement(Se,{ssr:e.props.ssr})}})))),u.a.createElement(ke,{rating:this.props.rating}),this.props.isPopUpShow&&u.a.createElement(_e,null))}}]),t}(p.Component),Ge=Object(qe.a)(Object(W.b)(function(e){return{isNavActive:e.app.isNavActive,theme:e.app.theme,likesCount:e.user.likesCount,isInChat:e.app.isInChat,isFull:e.room.isFull,room:e.room.roomName,userId:e.user.userId,isMobile:e.app.isMobile,chatPosition:e.app.chatPosition,isPopUpShow:e.popup.isPopUpShow}},function(e){return{changeOnlineCount:function(t){e(F.changeOnlineCount(t))},setTheme:function(t){e(F.setTheme(t))},setLikesCount:function(t){e(q.setLikesCount(t))},joinRoom:function(t){e(D.joinRoom(t))},setInterlocutorNick:function(t){e(q.setInterlocutorNick(t))},showPopUp:function(t){e(Y.showPopUp(t))},setPrivateRequestData:function(t){e(q.setPrivateRequestData(t))},setDeviceType:function(t){e(F.setDeviceType(t))},switchToPrivate:function(){e(F.setChatPosition()),e(G.setNewMessagesQty(0))},setBanStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(q.setBanStatus(t))},setAsNoAdmin:function(){e(q.setAsNoAdmin())},setConnectionStatus:function(t){e(F.setConnectionStatus(t))},setIsFull:function(t){e(D.setIsFull(t))}}})(De)),Ve=a(71),He=a.n(Ve),We=a(159);He.a.hydrate(u.a.createElement(We.a,null,u.a.createElement(W.a,{store:x},u.a.createElement(Ge,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");s?(function(e,t){fetch(e).then(function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):n(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):n(t,e)})}}()},69:function(e,t){e.exports="data:image/jpeg;base64,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"},74:function(e,t,a){e.exports=a(157)},75:function(e,t,a){}},[[74,2,1]]]);
//# sourceMappingURL=main.3d0c924a.chunk.js.map